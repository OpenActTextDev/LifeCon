[["index.html", "Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance Preface Acknowledgements Contributors For our Readers", " Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance An open text authored by the Actuarial Community Preface Date: 25 April 2021 Book Description Like the companion book Loss Data Analytics, this book on life contingencies will be an interactive, online, freely available text. The online version will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning. A subset of the book will be available for offline reading in pdf and EPUB formats. Will focus on data and statistical aspects of life contingente events Will emphasize cash flow fundamentals, an approach that allows users to easily adapt approaches to handle complex products This modular approach emphasizing data and cash flow fundamentals has additional advantages: computational aspects become practically relevant through spreadsheet (e.g., Microsoft Excel) and numerical (R) examples, and an emphasis on the foundations provides an easy entry point for learners who wish an introduction to the field. How will the text be used? This book will be useful in actuarial curricula worldwide. Our primary target audience is second or third year undergraduates with little to no experience in insurance. Learners may be international; although the book will be in English, we do not expect knowledge of native idiosyncrasies that might be used in the classroom. It will cover the learning objectives of the major actuarial organizations. Thus, it will be suitable for classroom use at universities as well as for use by independent learners seeking to pass professional actuarial examinations. A secondary audience is the actuarial practitioner (perhaps international) who wishes to retool and learn about modern approaches in the risk management of life contingent events. Thus, the text will also be useful for the continuing professional development of actuaries and other professionals in insurance and related financial risk management industries. Why is this good for the profession? An online text is a type of open educational resource (OER). One important benefit of an OER is that it equalizes access to knowledge, thus permitting a broader community to learn about the actuarial profession. Moreover, it has the capacity to engage viewers through active learning that deepens the learning process, producing analysts more capable of solid actuarial work. Why is this good for students and teachers and others involved in the learning process? Cost is often cited as an important factor for students and teachers in textbook selection (see a recent post on the $400 textbook). Students will also appreciate the ability to carry the book around on their mobile devices. Life Contingent Calculations Life contingences is a quantitative discipline, enjoying the rigor and discipline of mathematics. Like any mathematical discipline, one traditionally learns about it through the development of formulaic expressions, that is, their proofs, special cases, analysis of special features, and so on. Users of this text find that we do not shy away from presenting summaries of main conclusions using formulaic expressions. Nonetheless, rather than developing insights from mathematical proofs of the primary findings, we demonstrate their impact through short illustrative examples and links to practical applications. As with other sources that introduce life contingencies, we utilize spreadsheets extensively. In our teaching, we find that spreadsheets are useful for communication and dynamically visualizing results as they evolve over time. However, unlike other sources, we supplement this with approaches that emphasize programming; in this text, we use R. Programming methods such as through R (and Python, another good candidate) easily accommodate more complex situations that require more computing and, moreover, are built to graphically portray results in an attractive fashion. Analytics, the process of using data to make decisions, is enjoying tremendous attention from many industries; this is certainly true of in data-driven fields that use life contingent methods. By working with data and using programming methods such as R in the study of life contingences, users see the connections within many fields that support the actuarial science discpline. Instruction may emphasize any one of the three approaches, traditional mathematical development, spreadsheets, or a computing approach. However, this text contains all three as we believe that future generations of actuaries need to be familiar with all of these different ways to analyze, and communicate, problems that can be solved using life contingent methods. Project Goal The project goal is to have the actuarial community author our textbooks in a collaborative fashion. To get involved, please visit our Open Actuarial Textbooks Project Site. Acknowledgements We acknowledge the Society of Actuaries for permission to use problems from their examinations. We thank Rob Hyndman, Monash University, for allowing us to use his excellent style files to produce the online version of the book. We thank Yihui Xie and his colleagues at Rstudio for the R bookdown package that allows us to produce this book. We also wish to acknowledge the support and sponsorship of the International Association of Black Actuaries in our joint efforts to provide actuarial educational content to all. Contributors The project goal is to have the actuarial community author our textbooks in a collaborative fashion. The following contributors have taken a leadership role in developing Life Contingencies. Vali Asimit Dani Bauer Adam Butt Edward (Jed) Frees Emiliano Valdez For our Readers Like any book, we have a set of notations and conventions. It will probably save you time if you regularly visit our Appendix Chapter 6 to get used to ours. Freely available, interactive textbooks represent a new venture in actuarial education and we need your input. Although a lot of effort has gone into the development, we expect hiccoughs. Please let your instructor know about opportunities for improvement, write us through our project site, or contact chapter contributors directly with suggested improvements. "],["introduction.html", "Chapter 1 Introduction", " Chapter 1 Introduction Placeholder "],["modeling-lifetimes.html", "Chapter 2 Modeling Lifetimes 2.1 Mortality data: Life Expectancies, Deaths, Counts, &amp; Features 2.2 Modeling Death 2.3 Analytical laws of mortality 2.4 Life tables and their functions 2.5 Non-parametric survival estimation 2.6 Conditional models: Survival regression 2.7 Appendix 2A. Life Table: Recursive Calculations", " Chapter 2 Modeling Lifetimes The analysis of life-contingent exposures such as insurers liability when selling a life insurance contract or a pension funds obligations when offering a new pension scheme starts with modeling individual lifetime and death. These models, in turn, have to be calibrated in the context of relevant (mortality) data. Therefore, in this chapter, we first present different types of data that describe the mortality and lifetimes of certain population. We deliberately introduce the data in Section 2.1 without assuming prior knowledge of life-contingent modeling, and aim to develop an intuitive understanding of some of the associated challenges. We then introduce the conventional framework for modeling lifetimes, particularly by introducing the concept of a future lifetime variable \\(T_{\\bf x}\\) and its properties, and we then explore various approaches of specifying and estimating its distribution. Here, we discuss the traditional actuarial models for lifetimes such as analytical mortality laws and life tables, but we also introduce conditional predictive models that characterize the lifetime distribution based on a set of covariates or features. 2.1 Mortality data: Life Expectancies, Deaths, Counts, &amp; Features 2.1.1 Life Expectancies Perhaps the most relevant question to any individual when it comes to their future lifetime is: how long am I expected to live? Government agencies around the world publish vital statistics such as the life expectancies for their population, which are typically separated by age and gender  and potentially other attributes such as race. The file CDCLifeExp.csv is provided with the supplemental information of this text and includes an excerpt of the U.S. national vital statistics that provides Expectation of life, by age, race, [] and sex: United States, 2017 in Table 2.1. library(knitr) us_les &lt;- read.csv(&quot;Data/CDCLifeExp.csv&quot;) kable(us_les, caption=&quot;Life Expectancies From U.S. Vital Statistics&quot;) Table 2.1: Life Expectancies From U.S. Vital Statistics Age Total Male Female Hispanic..Total Hispanic..Male Hispanic..Female 0 78.6 76.1 81.1 81.8 79.1 84.3 20 59.4 57.0 61.8 62.5 59.9 64.9 40 40.7 38.7 42.6 43.5 41.2 45.5 60 23.3 21.7 24.7 25.5 23.6 27.0 80 9.2 8.4 9.8 10.5 9.4 11.1 The excerpt provides the life expectancy for ages 0 (newborn), 20, 40, 60, and 80 observed within a population, for males and females with separate figures for the hispanic subpopulation. There are a few immediate observations. First, females generally seem to have a longer life expectancy than males, whereas the aggregate Total life expectancy is in between the two figures. This is intuitive as the aggregate population is (largely) made up of male and female individuals, so that the Total life expectancy is a weighted average of the gender-specific life expectancies, relative to the composition of the population. Second, life expectancy is decreasing in age, which again is intuitive. It may be somewhat less obvious that the differences in life expectancies are less than the differences in age; subtracting the lines in the Table 2.1 gives that kable(us_les[1:4,]-us_les[2:5,]) Age Total Male Female Hispanic..Total Hispanic..Male Hispanic..Female -20 19.2 19.1 19.3 19.3 19.2 19.4 -20 18.7 18.3 19.2 19.0 18.7 19.4 -20 17.4 17.0 17.9 18.0 17.6 18.5 -20 14.1 13.3 14.9 15.0 14.2 15.9 Hence, while a 40-year old male is twenty years older than a 20-year old male, the 20-year olds life expectancy is 18.3 years higher. The difference of 1.7 years is due to the possibility of the 20-year old not surviving up to age 40. This effect is clearly more pronounced when comparing the 40-year old with a 60-year old. Third, the life expectancies for the hispanic subpopulation exceed those of the total population, which suggests that other subpopulations must exhibit a lower life expectancy. There are many questions of potential reasons for this difference, although these fall more in the demographic or even sociological realm. From an actuarial perspective, a relevant question may be how we could model the mortality data. In other words, is there a simple parametric model that may describe the progression of life expectancy across ages, at least in the context of one particular population? We will return to this question in the context of our mortality models, particularly in Section 2.3. As an early caveat to the question raised at the beginning of this section, it is not necessarily accurate to take these figures as estimates of a given individuals future lifetime or even its expectation. This is the case since the life expectancy is usually generated based on recent mortality experience rather than forecasts. As we will discuss in Section 2.4, this is the difference between the so-called period and cohort life expectancies. 2.1.2 Population Mortality Counts We now bring into consideration of the population mortality experience that had been observed over time, which is available at the Human Mortality Database (HMD) for a wide range of countries. The available data include Exposures by age, sex, and calender year period, i.e. how many people people of a given age and sex lived in the countrys population during a given period of time, and corresponding Deaths, i.e. how many of these individuals had died. In the supplemental information to this text, we provide exposures and deaths for the U.S. population, downloaded from the HMD as HMD_Expo.csv and HMD_Deaths.csv. We use the data over five year intervals starting at 1935 until 2015. Let us take a look at the exposures us_exp &lt;- read.csv(&quot;Data/HMD_Expo.csv&quot;) kable(head(us_exp), align = &quot;cccrrr&quot;, digits = 2, format.args = list(big.mark = &quot;,&quot;)) Year_start Year_end Age Female Male Total 1,935 1,939 0 4,869,267 5,057,569 9,926,836 1,935 1,939 1 4,802,597 4,936,238 9,738,835 1,935 1,939 2 5,119,574 5,244,634 10,364,208 1,935 1,939 3 5,159,494 5,287,402 10,446,896 1,935 1,939 4 5,189,350 5,307,754 10,497,104 1,935 1,939 5 5,359,159 5,531,967 10,891,126 and deaths us_deaths &lt;- read.csv(&quot;Data/HMD_Deaths.csv&quot;) kable(head(us_deaths), align = &quot;cccrrr&quot;, digits = 2, format.args = list(big.mark = &quot;,&quot;)) Year_start Year_end Age Female Male Total 1,935 1,939 0 253,145.89 335,492.00 588,637.89 1,935 1,939 1 36,010.02 42,169.20 78,179.22 1,935 1,939 2 17,718.83 21,208.22 38,927.05 1,935 1,939 3 12,450.36 14,852.17 27,302.53 1,935 1,939 4 10,154.85 11,771.25 21,926.10 1,935 1,939 5 8,678.43 10,339.57 19,018.00 Let us be more specific and plot the exposures and deaths for a 70 year old U.S. females over time, which is given in Figure @ref(fig:70ChapHMDU.S.Figs) options(digits = 9) options(scipen = 9) par(mfrow=c(1,2)) plot(us_exp[us_exp$Age == 70,2], us_exp[us_exp$Age == 70,4]/1000, type = &quot;l&quot;, lwd = 5, col = &quot;green&quot;, main=&quot;Exposures&quot;, xlab = &quot;year&quot;, ylab = &quot;count&quot;, ylim = c(0,max(us_exp[us_exp$Age == 70,4])/1000)) plot(us_deaths[us_deaths$Age == 70,2], us_deaths[us_deaths$Age == 70,4]/1000, type = &quot;l&quot;, lwd = 5, col = &quot;red&quot;, main=&quot;Deaths&quot;, xlab = &quot;year&quot;, ylab = &quot;count&quot;, ylim = c(0,max(us_deaths[us_deaths$Age == 70,4])/1000)) Figure 2.1: Exposures and Deaths (in thousands) for Females age 70 from the HMD U.S. The stark increase in exposures is due to two effects; on one hand, the U.S. population had been growing substantially since 1935, and on the other hand, individuals had been showing an enhanced life expectancy over the time. As a consequence, the number of 70 year old U.S. females had increased from less than two million to more than six million. In contrast, the number of deaths had been more steady; While with an increasing number of exposures the number of deaths have increased, the chance of dying for a 70 year old had been decreasing. The latter becomes more evident by plotting the ratio of deaths and exposures as in Figure 2.2 par(mfrow=c(1,1)) minlim &lt;- min(us_deaths[us_deaths$Age == 70,4]/us_exp[us_exp$Age == 70,4]) maxlim &lt;- max(us_deaths[us_deaths$Age == 70,4]/us_exp[us_exp$Age == 70,4]) plot(us_deaths[us_deaths$Age == 70,2],us_deaths[us_deaths$Age == 70,4]/us_exp[us_exp$Age == 70,4],type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Deaths/Exposures&quot;, xlab = &quot;year&quot;, ylab = &quot;rate&quot;,ylim = c(minlim,maxlim)) Figure 2.2: Death rates for Females age 70 from the HMD U.S. rm(minlim, maxlim) Note that the chance of deceasing for a 70 year old female was more than 4% around 1940, but it had decreased over the time to a level lower than 2%. As we will see in Section 2.4, the ratio of deaths and exposures is closely related to death rates. Alternatively, we can focus on a specific period  say the most recent five years in our data, i.e. 2010-2014  and plot the deaths over exposures across ages as in Figure 2.3 us_mx_fem_2014 &lt;- us_deaths[us_deaths$Year_start == 2010,4]/us_exp[us_exp$Year_start == 2010,4] us_mx_mal_2014 &lt;- us_deaths[us_deaths$Year_start == 2010,5]/us_exp[us_exp$Year_start == 2010,5] plot(us_mx_fem_2014,type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Deaths/Exposures&quot;, xlab = &quot;year&quot;, ylab = &quot;rate&quot;, ylim = c(min(us_mx_fem_2014),max(us_mx_fem_2014))) Figure 2.3: Death rates for Females across ages for 2010-2014 from the HMD U.S. Not very surprisingly, the death rate increases fairly regularly with respect to age and its growth looks exponential. This observation is the foundation for the most famous and common analytic mortality model that is detailed in Section 2.3 known as the Gompertz law. It should be noted that the death rates at higher ages, specifically from 106 to 110, are shown a larger variability that could be explained by the fact very small subpopulations of high ages are observed and the estimates are more uncertain than those at lower ages. 2.1.3 Individual Mortality Data While mortality counts are a common way to organize mortality data across a large population, which had been our emphasis in the previous section, the individual survival time data provide valuable pieces of information. Indeed, the data available to an insurance company typically consists of records of individuals. The company records individual details for each insured person from when they purchased the contract; these include personal characteristics such as sex, age, date-of-birth, etc., but also medical records and other underwriting information. In addition, the company knows whether or not the person had died at the current timeand if so, the time of death. This latter aspect is common for survival or event history data. For each observation \\(i\\), a number of covariates or features \\(x_i\\), as well as the event time \\(T_i\\) if the event has already happened. Otherwise, we only know that by the current cutoff time, the event has not happened yet. In the context of survival analysis, which is the branch of statistics that deals with survival or event data, this is known as (right) censoring, i.e. the data are (right-)censored. Data protection policies are omnipresent and insurance companies are not any different with respect to the policyholder data. On one hand, there are regulatory data protection that disallow disclosure of personal identifiable pieces of information. On the other hand, data are a key resource to a life insurer and sharing this valuable piece of information creates a competition disadvantage by revealing important information to the companys competitive position. Therefore, rather than relying on real survival data, we consider a synthetic dataset consisting of a hypothetical portfolio of policyholders. In the supplemental information to this text, we provide survival information for a hypothetical insurance company in SyntheticInsurerData.csv. The company has sold whole life insurance policies for since 1955. Policyholders have to go through an underwriting examination, and in addition to policyholders age, sex (0 for female, 1 for male), smoking status (0 for non-smoker, 1 for smoker), and the month of sale, the company records the applicants body-mass index (BMI) and the systolic blood pressure at the time of underwriting. Finally, for those policyholder with a claim, i.e., for the policyholders that have died, the company records the time of death (relative to the month of underwriting). The data is organized in the order of sales, so that the oldest entries are at the top of the data and the newest entries are at the bottom: library(data.table) ins_data &lt;- fread(&quot;Data/SyntheticInsurerData.csv&quot;,data.table=FALSE) kable(head(ins_data), align = &quot;ccccrrrr&quot;) #displaying the very end of the table similar to the very top of the table requires a few more steps tmp_tail_ins_data &lt;- tail(ins_data); rownames(tmp_tail_ins_data) &lt;- NULL kable(tmp_tail_ins_data, align = &quot;ccccrrrr&quot;) Month_of_Sale Age Sex Smoking BMI BloodPressure Claim Time_of_death 1 27 0 0 25.8 117 YES 61.11 1 62 0 0 30.9 147 YES 17.42 1 52 1 0 26.7 130 YES 27.96 1 40 0 0 27.5 109 YES 52.33 1 24 1 1 21.5 96 YES 40.84 1 31 0 1 20.3 119 YES 53.99 Month_of_Sale Age Sex Smoking BMI BloodPressure Claim Time_of_death 780 28 1 0 24.2 97 NO NA 780 53 1 0 19.9 138 NO NA 780 32 1 0 22.2 102 NO NA 780 48 1 0 18.6 117 NO NA 780 36 1 0 17.5 114 NO NA 780 49 1 0 29.7 130 NO NA Evidently, most of the policies sold in the first monthsback in 1955have matured, and most recent underwritten policyholder are still alive. Let us further investigate the mortality dataframe and we start by summarizing the attributes of our data: suppressWarnings(library(psych)) tmp_describe_ins_data&lt;-psych::describe(ins_data) kable(tmp_describe_ins_data, digits = 2, format.args = list(big.mark = &quot;,&quot;)) vars n mean sd median trimmed mad min max range skew kurtosis se Month_of_Sale 1 160,781 394.58 216.72 382.00 393.08 277.25 1.00 780.00 779.00 0.08 -1.17 0.54 Age 2 160,781 39.99 11.63 39.00 39.64 11.86 19.00 65.00 46.00 0.22 -0.73 0.03 Sex 3 160,781 0.70 0.46 1.00 0.75 0.00 0.00 1.00 1.00 -0.88 -1.23 0.00 Smoking 4 160,781 0.30 0.46 0.00 0.25 0.00 0.00 1.00 1.00 0.88 -1.23 0.00 BMI 5 160,781 22.77 4.52 21.70 22.19 3.85 16.10 65.50 49.40 1.42 3.00 0.01 BloodPressure 6 160,781 114.75 15.75 114.00 114.37 16.31 53.00 199.00 146.00 0.25 0.09 0.04 Claim* 7 160,781 1.36 0.48 1.00 1.32 0.00 1.00 2.00 1.00 0.59 -1.65 0.00 Time_of_death 8 57,529 30.69 12.88 30.18 30.73 13.65 0.01 64.15 64.14 0.01 -0.66 0.05 In summary, there are 160,781 insureds, out of which 57,529, i.e. 35.78%, have died; the average age at purchase is about 40, and our portfolio has a high percentage of men (70%) and non-smokers (70%). The average BMI is 22.8 and the average blood pressure is 114.8, which are close to (but somewhat lower than) U.S. national averages; \\(\\color{red}{for\\;details, \\;see ...}\\) To illustrate the sales history, we plot the monthly sales of the company, which is given as Figure 2.4. monthly_sales &lt;- rep(0,780) for (i in 1:780){ monthly_sales[i] &lt;- sum(ins_data$Month_of_Sale == i) } plot(monthly_sales,type = &quot;l&quot;, lwd = 2, col = &quot;green&quot;, main=&quot;Monthly Sales&quot;, xlab = &quot;month&quot;, ylab = &quot;Sales&quot;) abline(h = mean(monthly_sales), col = &quot;red&quot;, lty = 2) Figure 2.4: Monthy sales for the synthetic mortality data In summary, the company sells about 200 insurance contract each month, although there is some variation over the time; while sales initially increased, the company experience some ebbs and flows, potentially due to marketing efforts and/or the effectiveness of the products. We now investigate the traits of the insureds for which various histograms are given as Figure 2.5. par(mfrow=c(1,3)) hist(ins_data$Age,main=&quot;Insured Age&quot;, xlab=&quot;age&quot;, border=&quot;red&quot;, col=&quot;green&quot;) hist(ins_data$BMI,main=&quot;Body Mass Index&quot;, xlab=&quot;bmi&quot;, border=&quot;red&quot;, col=&quot;green&quot;) hist(ins_data$BloodPressure,main=&quot;Systolic Blood Pressure&quot;, xlab=&quot;bp&quot;, border=&quot;red&quot;, col=&quot;green&quot;) Figure 2.5: Histograms for the synthetic mortality data Most individuals are in between thirty and fifty years of age when purchasing the coverage, but some sales to younger and some older individuals are observed. The Body Mass Index (BMI) is concentrated between 20 and 30, although there are some outliers with relatively large values. The systolic blood pressure is roughly bell shaped, with most applicants exhibiting blood pressure measurements at normal levels (below 120) or slightly elevated levels (120-130). We could further visualize the relationship between these three attributes by looking at the correlation correlation matrix corresponding to these three characteristics, which is given as Figure 2.6. suppressWarnings(library(corrplot)) tmp_corr_ins_data &lt;- cor(ins_data[,c(2,5,6)]) colnames(tmp_corr_ins_data) &lt;- c(&quot;Age&quot;, &quot;BMI&quot;, &quot;BP&quot;) rownames(tmp_corr_ins_data) &lt;- c(&quot;Age&quot;, &quot;BMI&quot;, &quot;BP&quot;) corrplot(tmp_corr_ins_data, method=&quot;circle&quot;, order=&quot;hclust&quot;, addCoef.col = &quot;red&quot;, tl.col=&quot;black&quot;, tl.srt=45) Figure 2.6: Correlation matrix for the synthetic mortality data corresponding to age, BMI and BP (blood pressure) Clearly, high blood pressure and elevated BMI are positively associated, and an elevated blood pressure is more common for elderly insureds, which are common observations in many populations. One of our main focus is the realized lifetime, which could only be observed for those individuals where a claim had been paid. We could thus plot the distribution of the age at death, which is illustrated in Figure 2.7. hist(ins_data$Age+ins_data$Time_of_death,main=&quot;Age at Death&quot;, xlab=&quot;age&quot;, border=&quot;red&quot;, col=&quot;green&quot;) Figure 2.7: Age at Death for the synthetic mortality data Not surprisingly, the majority of deceased policyholders have died at higher ages, since the bulk of deaths are concentrated between seventy and ninety years old. There are a few individuals that died relatively young, and similarly a few that were close to achieving the centenarian status, though it should be noted that some policyholders at higher ages may still be alive. Indeed, the ages of five oldest individuals that are still alive are round(tail(sort(ins_data[ins_data$Claim == &quot;NO&quot;,2]+ (780 - ins_data[ins_data$Claim == &quot;NO&quot;,1])/12),5), digits = 2) [1] 99.17 100.25 100.42 101.50 102.92 and thus, it is clear that we observe nor many centenarians. It is intuitive that the number of deaths are associated with sales \\(\\color{red}{\\text{not clear to me}}\\), as is evident when plotting the number of deaths by the year of sale, which is displayed in Figure 2.8. annual_death &lt;- rep(0,65) for (i in 1:65){ for (j in 1:12){ annual_death[i] &lt;- annual_death[i] + sum(ins_data[ins_data$Month_of_Sale == (i-1)*12 +j,7] == &quot;YES&quot;) } } plot(annual_death,type = &quot;l&quot;, lwd = 4, col = &quot;blue&quot;, main=&quot;Annual Deaths&quot;, xlab = &quot;Year&quot;, ylab = &quot;Deaths&quot;) Figure 2.8: Annual deaths for the synthetic mortality data We could investigate the relationship of the time of death to policyholder characteristics by creating a correlation plot amongst those that had already died. The correlation matrix appears as Figure 2.9. #suppressWarnings(library(corrplot)) tmp_dead_corr_ins_data &lt;- cor(ins_data[ins_data$Claim == &quot;YES&quot;,c(2,5,6,8)]) colnames(tmp_dead_corr_ins_data) &lt;- c(&quot;Age&quot;, &quot;BMI&quot;, &quot;BP&quot;, &quot;TD&quot;) rownames(tmp_dead_corr_ins_data) &lt;- c(&quot;Age&quot;, &quot;BMI&quot;, &quot;BP&quot;, &quot;TD&quot;) corrplot(tmp_dead_corr_ins_data, method=&quot;circle&quot;, order=&quot;hclust&quot;, addCoef.col = &quot;red&quot;, tl.col=&quot;black&quot;, tl.srt=45) Figure 2.9: Correlation matrix for the synthetic mortality data corresponding to age, BMI, BP (blood pressure) and TD (time of death) Hence, the time of death is (strongly) negatively associated with age, which is not surprising as elderly individuals are more likely to die. Similar behaviour is also observed for the BMI and blood pressure attributes that are negatively associated with the the time of death, but we should clarify that the BMI and blood pressure measurements are observed when the policy inception though these negative associations explain why such attributes are good predictors of the insureds health. The pairwise correlation between age, BMI and blood pressure are in line with our findings from Figure 2.6 that includes all insureds irrespective of their life status. Even this simple analysis could help in understanding why the life office should evaluate the individual risk per policy by taking into consideration the available information, and more importantly, to have a fair evaluation of the covariates with strong influence over the policy final payout. 2.2 Modeling Death The previous section has introduced various examples of mortality data. Clearly, the most relevant question to actuaries is how to use this piece of information in order to devise lifetime models that could become the basis for analyzing the life-contingent exposures, which we require a theoretical underpinning. This section provides with the minimal theoretical foundation related to the conventional framework for life-contingent modeling. We commence by introducing the most important concept of a lifetime random variable and the key actuarial quantities that allow for a formal interpretation of the data previously presented. 2.2.1 Lifetime random variable and its distribution It should be first recognized that we have been focus on understanding the lifetime uncertainty for a given individual or (sub)population, where the life status has been assumed to be dichotomous, i.e. alive and dead are the only life status under observation. Clearly, this simplified assumption helps us to create a parsimonious presentation that is fit for its purpose at this very moment, though one could consider multi-state models  with multiple life status such as alive, death, temporary disability, permanent disability and any other long term health condition, etc.  or bespoke models that relates to specific life insurance products where the modeler could consider non-health related factors such as early termination of a contract that have an impact on the policys cashflows. Both cases require multiple decrement modeling that explain the transition in between different policys status in order to describe the complex risk structure of a policy with multiple benefits. From now on, we only assume a dichotomous life model, i.e. alive/dead, where our primary goal is to evaluate the time of death of a given individual. The usual notation is the lifetime random variable \\(T_x\\) that explains the remaining future lifetime for an individual of currently aged \\(x\\). The underlying assumption of such approach is that the future lifetime is fully predictable only by age, while all other data attributes such as sex, socio-economic factors, genetic and health history factors, etc. do not explain the target variable, i.e. time of death. Obviously, the mortality risk should include all possible sources of data and their attributes that could better differentiate the mortality risk amongst insureds or any any other words, to achieve equity in the pricing process. That is, we denote by \\(T_{\\bf{x}}\\) the lifetime random variable for an insured with many available observable attributes \\(\\bf{x}\\) from a feature space that includes more traits that the age \\(\\it{x}\\). Therefore, the notation interchange in between \\(\\bf{x}\\) and \\(\\it{x}\\) will further reflect the feature space considered and/or available to the mortality risk modeller. While the feature space is the key ingredient of the mortality model, we should reflect upon external pressures when choosing the feature space. For example, the use of genetic specific attributes for risk classification is under vast scrutiny by insurance ethical experts, since such pieces of information could lead to genetic discrimination, and therefore, there are regulatory constraints in using such attributes. Moreover, even the sex attribute  one of the most important mortality explanatory variable  is not always acceptable; for example, the European Union insurance regulations had imposed pricing neutrality with respect to sex factors for quite some time, which means that life and non-life insurance policies issued within the European Union market should price males and females at the same level if all other observable attributes are similar. We are now ready to discuss the distribution of \\(T_\\bf{x}\\)/\\(T_x\\) though we implicitly assume that sex is the only explanatory variable and thus, all definitions are mostly given for \\(T_x\\) that apply to \\(T_\\bf{x}\\) if not explicitly stated. The random variable \\(T_x\\) is defined on positive real values, \\((0,\\infty)\\), though the lifetime is always finite, but we do not explicitly define the limiting/ultimate age that could be reached by an individual of age \\(x\\)/\\(\\bf{x}\\). By definition, let \\(F_x\\) and \\(S_x\\) be the cumulative distribution function and survival function of T_x, respectively, and thus, we write \\[ F_x(t):=\\Pr(T_x\\le t)\\quad \\text{and}\\quad S_x(t):=\\Pr(T_x &gt; t)=1-\\Pr(T_x \\le t)=1-F_x(t)\\quad\\text{for all}\\;t&gt;0. \\] While the above definitions are also available for \\(T_\\bf{x}\\), there are slight differences in further derivations. Note that \\(T_x\\) solely depends on the age \\(x\\), and thus, \\(T_x\\) and \\(T_0|T_0&gt;x\\) are identically distributed random variables; in other words, the future lifetime for \\((x)\\) is the same as the future lifetime of a newborn give that this newborn reaches age \\(x\\), \\(T_0&gt;x\\). The mathematical formulations of this observation are given in the next equations: \\[\\begin{eqnarray*} F_x(t) &amp;=&amp; Pr(T_x \\le t) = Pr(T_x \\le t \\mid T_x&gt;0) = Pr(T_0-x \\le t \\mid T_0-x&gt;0)= Pr(T_0 \\le x + t \\mid T_0 &gt; x)\\\\ &amp;=&amp;\\frac{\\Pr(x&lt;T_0\\leq x+t)}{\\Pr(T_0&gt;x)}=\\frac{F_0(x+t)-F_0(x)}{S_0(x)}=\\frac{S_0(x)-S_0(x+t)}{S_0(x)} \\end{eqnarray*}\\] and \\[\\begin{eqnarray*} S_x(t) &amp;=&amp; Pr(T_x &gt; t) = Pr(T_x &gt; t \\mid T_x &gt; 0) = Pr(T_0-x &gt; t \\mid T_0-x&gt;0) = Pr(T_0 &gt; x+t \\mid T_0&gt;x)\\\\ &amp;=&amp;\\frac{\\Pr(T_0&gt; x+t)}{\\Pr(T_0&gt;x)}=\\frac{S_0(x+t)}{S_0(x)}. \\end{eqnarray*}\\] Similar mathematical formulations for \\(T_\\bf{x}\\) are not possible, since the future lifetime for \\((x)\\) is explained by more traits than only the age attribute. That is, \\(T_\\bf{x}\\) could not be simply linked with the future lifetime a newborn that currently reached the set of characteristics \\(\\bf{x}\\) as we had done for \\(T_x\\). The future lifetime random variable is naturally continuously distributed, but we further assume that is absolutely continuous, i.e. \\(F_x\\) does not have jumps. Therefore, one could define \\[ f_x(t):=\\frac{\\partial F_x(t)}{\\partial t}=\\frac{\\partial \\big(1- S_x(t)\\big)}{\\partial t}=-\\frac{\\partial S_x(t)}{\\partial t}\\quad\\text{for all}\\;t&gt;0. \\] which is known as the probability density function of \\(T_x\\) and a similar definition could be written for the probability density function of \\(T_\\bf{x}\\). The link between the current lifetime random variable and its equivalent newborn lifetime random variable is only possible for \\(T_x\\), and in that case we could write that \\[ f_x(t)=-\\frac{\\partial S_x(t)}{\\partial t}=-\\frac{\\partial \\left(\\frac{S_0(x+t)}{S_0(x)}\\right)}{\\partial t}=-\\frac{\\frac{\\partial S_0(x+t)}{\\partial t}}{S_0(x)}=\\frac{f_0(x+t)}{S_0(x)}\\quad\\text{for all}\\;t&gt;0. \\] Clearly, no immediate equivalent mathematical formulation for \\(f_\\bf{x}\\) in terms of the lifetime of a newborn could be provided. The force of mortality, \\(\\mu_x\\)/\\(\\mu_\\bf{x}\\), represents the instantaneous mortality rate of \\(x\\)/\\(\\bf{x}\\) \\[\\mu_x:=\\frac{\\partial F_x(t)}{\\partial t}\\mid t=0=-\\frac{\\partial S_x(t)}{\\partial t}\\mid t=0\\quad\\text{and}\\quad\\mu_\\textbf{x}:=\\frac{\\partial F_\\textbf{x}(t)}{\\partial t}\\mid t=0=-\\frac{\\partial S_\\textbf{x}(t)}{\\partial t}\\mid t=0.\\] We could further write that \\(\\mu_x=\\frac{f_0(x)}{S_0(x)}\\), but such simplification is not extendable to \\(\\mu_\\bf{x}\\). Finally, recall that \\[ \\mu_x=\\frac{f_0(x)}{S_0(x)}=-\\frac{S_0^{&#39;}(x)}{S_0(x)}=-\\frac{\\partial }{\\partial x} \\log S_0(x)\\quad\\text{for all}\\quad x\\ge 0, \\] which in turn  after integrating the last expression  gives that \\[ S_0(x) = \\exp\\left\\{-\\int_0^x \\mu_t\\;dt \\right\\}\\quad\\text{for all}\\quad x\\ge 0. \\] 2.2.2 Survival and mortality probabilities The mathematical foundation of the lifetime random variable has been discussed in the previous section, and based on those definitions, we could provide the standard actuarial notations on survival and mortality probabilities. That is, the survival probability of \\(x\\) at time \\(t\\) is defined as follows: \\[\\begin{equation} {_tp_x}:= S_x(t)\\quad\\text{for all}\\;t&gt;0 \\end{equation}\\] and represents probability that individual \\(x\\) survives \\(t\\) more units of time. Further, the mortality probability of \\(x\\) at time \\(t\\) is defined as follows: \\[\\begin{equation} {_tq_x}:= F_x(t)\\quad\\text{for all}\\;t&gt;0 \\end{equation}\\] and represents probability that individual \\(x\\) dies within the next \\(t\\) units of time. Clearly, \\({_tp_x}+{_tq_x}=1\\), since the individual \\(x\\) either dies or survives after \\(t\\) units of time. By definition, we have that \\[ {_1p_x}:= {p_x}\\quad\\text{and}\\quad {_1q_x} = {q_x}. \\] Similar definitions are true for a high dimensional feature space, i.e. when \\(x\\) is replaced by \\(\\bf{x}\\). 2.2.3 Complete expectation of life The complete expectation of life is an intuitive mortality indicator and represents the average remaining lifetime of \\(x\\), and is defined as follows: \\[ \\stackrel{\\circ}{e}_x:=E[T_x]=\\int_0^\\infty S_x(t)\\;dt=\\int_0^\\infty {_tp_x}\\;dt. \\] Note that the second identity could be shown via integration by parts and keeping in mind that \\(T_x\\) is a non-negative random variable with a finite expectation, which is an well-known result, but the proof is left to math enthusiast which is beyond the scope of this book. Another centrality mortality measure is the central death rate, also known as central rate of mortality. This measure is defined as the average number of deaths each year that have characteristics \\(\\bf{x}\\) at the moment of death in the relevant observation period, divided by the average population with the same characteristics \\(\\bf{x}\\) over the same period, and is denoted as \\(m_\\bf{x}\\). In practice, the observation period could be three to five years. For example, if we consider the U.S. mortality data, \\(m_{50}\\) based on the observation period 2010 to 2014 would be the average number of deaths at age \\(50\\) years across 2010, 2011, 2012, 2013 and 2014, divided by the average number of people aged \\(50\\) years across 2010, 2011, 2012, 2013 and 2014; clearly, this example considers that age is the only explanatory variable to the mortality risk. \\(\\color{red}{\\text{[Vali:] this is left over from Dani and I am not sure what you meant --}}\\) And then we can kind of use the different data sources in the different sections. For instance, when discussing analytic mortality laws we can fit parameters to the age-dependent life expectancies (moment-based), we can generate life tables using the mortality.org data (as in the R class exercises I sent) and then use simulated data for the non-parametric and the survival regression stuff. I would probably switch the order of sections D and E. 2.3 Analytical laws of mortality Actuarial practice relies on extensive mortality experience based on non-parametric and semi-parametric models. Early on mortality modeling had focus on simplified parametric models that depend on some parameters and are known as Analytic Mortality Laws; such models assume analytic survival or mortality functions, which have their own merits though the lack of sophistication is easily visible. From the pedagogical perspective, the analytical laws of mortality are good toy models that provide simple approximations of reality, which is the pure essence of any model. Since we deal with simple mortality models, it would make sense to assume that mortality is age dependent only. It is well-known that any survival function takes the value 1 and 0 at the left and right end point of its distribution. Thus, if a newborn is assumed to have a known limited age \\(\\omega\\), then \\(S_0(0)=1\\) and \\(S_0(\\omega)=0\\). One simple analytical example is the De Moivre Mortality Law which assumes a linear dependence of \\(S_0\\), i.e. \\[ S_0(x) = 1 - \\frac{x}{\\omega}\\quad\\text{for all}\\quad 0 \\leq x \\leq \\omega. \\] Now, the force of mortality becomes \\[ \\mu_x= \\frac{-S_0&#39;(x)}{S_0(x)} = \\frac{\\frac{1}{\\omega}}{1 - \\frac{x}{\\omega}} = \\frac{1}{\\omega - x}\\quad\\text{for all}\\quad 0 \\leq x &lt; \\omega. \\] A generalization of the above analytical mortality law is known as the generalized De Moivre Law, and corresponds to a survival function with the following parametrization \\[ S_0(x) = \\left(1 - \\frac{x}{\\omega}\\right)^{\\alpha}\\quad\\text{for all}\\quad 0\\leq x \\leq \\omega, \\] where the positive shape parameter \\(\\alpha\\) decides how far the survival function departs from the linear dependence. Then, its force of mortality becomes \\[ \\mu_x = \\frac{\\alpha/\\omega\\,(1-x/\\omega)^{\\alpha-1}}{(1-x/\\omega)^{\\alpha}} = \\frac{\\alpha}{\\omega - x}\\quad\\text{for all}\\quad 0\\leq x \\leq \\omega. \\] A slightly different approach is to impose a particular structure to the force of mortality. The simplest example is to consider a constant force of mortality model, i.e. \\(\\mu_t=\\mu\\) for all \\(t&gt;0\\), which corresponds to an Exponentially distributed lifetime \\(T_x\\) with \\[ S_0(x) = e^{-\\mu\\,x}\\quad\\text{for all}\\quad x\\ge 0. \\] it is expected that the force of mortality is increasing over the time, which has been observed for the De Moivre and generalized De Moivre mortality laws, but not for the above constant force mortality model, which questions its validity to replicate the human mortality. A remedy to the constant force of mortality model is provided by the Gompertz Mortality Law and is given as follows: \\[ \\mu_x = B\\cdot c^x \\quad\\text{for all}\\quad x\\ge 0\\quad\\text{with}\\quad B&gt;0,\\,c&gt;1. \\] Its survival function becomes \\[ S_0(x) =\\exp\\left\\{-\\int_0^x \\mu_t\\;dt \\right\\}=\\exp\\left\\{-\\int_0^x B\\cdot c^t\\;dt \\right\\}=\\exp\\left\\{-\\frac{B \\cdot c^t}{\\log c}\\Big\\lvert_{t=0}^{t=x} \\right\\} =\\exp\\left\\{ - \\frac{B}{\\log(c)} (c^x - 1)\\right\\}\\quad\\text{for all}\\quad x\\ge 0. \\] A three parameter version of the Gompertz Mortality Law was proposed by Makeham, where an age-independent term is added and captures the external causes of death, i.e. \\[ \\mu_x = A + B\\cdot c^x\\quad\\text{for all}\\quad x\\ge 0\\quad\\text{with}\\quad B&gt;0,\\,A+B\\geq 0,\\,c&gt;1, \\] and is known as the Gompertz-Makeham Mortality Law or Makeham Mortality Law. Then, its survival function could be derived as follows: \\[\\begin{eqnarray*} S_0(x) &amp;=&amp; \\exp\\left\\{-\\int_0^x \\mu_t\\,dt\\right\\}\\\\ &amp;=&amp; \\exp\\left\\{-\\int_0^x A\\,dt\\right\\}\\,\\exp\\left\\{-\\int_0^x B\\cdot c^t\\,dt\\right\\}\\\\ &amp;= &amp; \\exp\\{-A x\\}\\,\\exp\\left\\{ - \\frac{B}{\\log(c)} (c^x - 1)\\right\\} \\\\ &amp;=&amp; \\exp\\left\\{ - Ax - \\frac{B}{\\log(c)} (c^x - 1)\\right\\}. \\end{eqnarray*}\\] The last analytical mortality model is sufficiently rich to be further considered for fitting the U.S. life expectancy on the Gompertz-Makeham mortality law. For instance, the U.S. females data lead to the following parameters: \\(\\color{red}{\\text{[Vali:] Did not change much in this part -- starts from here}}\\) S_0 &lt;- function(x,A,B,c) { exp(- A * x - B * (exp(c*x) - 1)/ c) } le &lt;- function(age,A,B,c){ Sfixed &lt;- function(x){ S_0(x+age,A,B,c)/S_0(age,A,B,c)} res &lt;- integrate(Sfixed,lower = 0, upper = (120-age))$value return(res) } #We just use the resulting parameters here and do not carry out the following routine #tomin &lt;- function(x){ # res &lt;- 0 # for (i in 1:5){ # res &lt;- res + (us_les[i,4] - le((i-1)*20,0.0001*(1+x[1]/100),0.000007*(1+x[2]/100),0.11*(1+x[3]/100)))^2 # } # return(res) #} #library(pracma) #res &lt;- fminsearch(tomin,c(0,0,0)) #A_opt_fem &lt;- A*(1+res$xmin[1]/100) #B_opt_fem &lt;- B*(1+res$xmin[2]/100) #c_opt_fem &lt;- c*(1+res$xmin[3]/100) A_opt_fem &lt;- 0.0005385767 A_opt_fem B_opt_fem &lt;- 1.119213e-05 B_opt_fem c_opt_fem &lt;- 0.1031558 c_opt_fem #When running for males #A_opt_male &lt;- 0.0008564071 #B_opt_male &lt;- 3.544491e-05 #c_opt_male &lt;- 0.09276854 [1] 0.0005385767 [1] 0.00001119213 [1] 0.1031558 which match the U.S. female life expectancies quite well: tmp &lt;- us_les[,c(1,4)] tmp$fitted &lt;- rep(0,5) for (i in 1:5){ tmp[i,3] &lt;- le((i-1)*20,A_opt_fem,B_opt_fem,c_opt_fem) } kable(tmp, digits = 2, format.args = list(big.mark = &quot;,&quot;)) Age Female fitted 0 81.1 81.05 20 61.8 61.87 40 42.6 42.72 60 24.7 24.49 80 9.8 9.90 The pictorial representation of the survival function appears as Figure 2.10. plot(S_0(1:120,A_opt_fem,B_opt_fem,c_opt_fem), type = &quot;l&quot;, lwd = 3, col = &quot;green&quot;, main = &quot;Gompertz-Makeham Mortality Model&quot;, xlab = &quot;age&quot;, ylab = &quot;S_0&quot;) Figure 2.10: Fitted Survival Curve And here are the calibrated versions:  \\(\\color{red}{\\text{[Vali:] Did not change much in this part -- ends here.}}\\) 2.4 Life tables and their functions Life insurance policies have a complex benefit structure that requires knowledge upon the probability of paying the benefits besides many other risk modeling parameters. Policy pricing, meeting the regulatory requirements and understanding the life portfolio risk performance are all actuarial evaluations that rely on these risk modeling parameters, but the mortality risk plays an important role for which sophisticated stochastic models are possible. A rather simpler way is to construct life tables that are not only of pedagogical use, but create a simplified platform of discussions for a smooth transition to understanding more complex mortality models. We first start with creating some simple life tables in Section 2.4.1 that are based on the U.S. mortality data, and we then move on into Section 2.4.2 that provides some refinements of these life tables. 2.4.1 Life table based on U.S. population data The central focus of this section is to create some simple life tables and to validate our empirical results by revealing the main traits of a generic mortality data. The U.S. population data are only included in our analysis, and we start by looking into central death rates based on deaths and exposures. Before giving the summary results, here are some oh these computation are made; by looking at the main data from HMD_Expo.csv and HMD_Deaths.csv, one could retrieve the 1935-1939 exposures and deaths for individuals aged 0 as follows: \\[ \\begin{equation*} \\begin{array}{lccc} &amp;\\text{Female} &amp; \\text{Male} &amp; \\text{Total}\\\\ \\text{Exposures}&amp; 4,869,267.21 &amp; 5,057,569.27 &amp; 9,926,836.48\\\\ \\text{Deaths} &amp; 253,145.89 &amp; 335,492 &amp; 588,637.89 \\end{array} \\end{equation*} \\] The above could help with finding the corresponding 1935-1939 central death rates for the female, male and entire U.S. population data, and the calculations are given below: \\[ \\begin{eqnarray*} m_o^{Female}&amp;=&amp;\\frac{253,145.89}{4,869,267.21}=0.05198849828\\\\ m_o^{Male}&amp;=&amp;\\frac{335,492}{5,057,569.27}=0.06633463272\\\\ m_o^{Total}&amp;=&amp;\\frac{588,637.89}{9,926,836.48}=0.05929763134. \\end{eqnarray*} \\] We could now provide the summary of the central death rates as follows: library(data.table) us_mx &lt;- us_deaths us_mx[,4:6] &lt;- us_deaths[,4:6] / us_exp[,4:6] kable(head(us_mx), align = &quot;cccrrr&quot;) #displaying the very end of the table similar to the very top of the table requires a few more steps tmp_tail_us_mx &lt;- tail(us_mx); rownames(tmp_tail_us_mx) &lt;- NULL kable(tmp_tail_us_mx, align = &quot;cccrrr&quot;) Year_start Year_end Age Female Male Total 1935 1939 0 0.051988498 0.066334633 0.059297631 1935 1939 1 0.007498031 0.008542782 0.008027575 1935 1939 2 0.003460997 0.004043794 0.003755912 1935 1939 3 0.002413097 0.002808973 0.002613459 1935 1939 4 0.001956863 0.002217746 0.002088776 1935 1939 5 0.001619364 0.001869059 0.001746192 Year_start Year_end Age Female Male Total 2010 2014 105 0.544747305 0.648959567 0.555566429 2010 2014 106 0.566723146 0.587329097 0.568728261 2010 2014 107 0.557618769 0.670120241 0.568175534 2010 2014 108 0.636754582 0.611534481 0.634501769 2010 2014 109 0.659418665 0.571037316 0.650733498 2010 2014 110 0.593688157 0.520304886 0.584736850 Based on the five year counting of deaths and exposures, we have displayed only the early ages central death rates based on the first period of observation, i.e. 1935-1939, and the upper higher ages central death rates based on the last period of observation, i.e. 2010-2014. The data show the expected trend that females show lower rates than the males. Moreover, besides the infantile mortality, all low ages death rates follow a decreasing pattern with respect to the age factor, which is also observable for high ages with the caveat that a higher uncertainty is present at such ages due to the relative smaller sample size. Lets now construct a mortality life table using the 2010-2014 U.S. Females and Males data, and we first pull out the previous pieces of information regarding to the 2010-2014 central death rates, which are only the first elements of these two life table. us_mx_fem_2014 &lt;- us_mx[us_mx$Year_start == 2010,-c(2,5,6)] colnames(us_mx_fem_2014)[colnames(us_mx_fem_2014)==&quot;Female&quot;] &lt;- &quot;mx US Females&quot; tmp_head_us_mx_fem_2014 &lt;- head(us_mx_fem_2014); rownames(tmp_head_us_mx_fem_2014) &lt;- NULL kable(head(tmp_head_us_mx_fem_2014), align = &quot;ccr&quot;) Year_start Age mx US Females 2010 0 0.005461737 2010 1 0.000379927 2010 2 0.000224890 2010 3 0.000169394 2010 4 0.000138322 2010 5 0.000119244 us_mx_mal_2014 &lt;- us_mx[us_mx$Year_start == 2010,-c(2,4,6)] colnames(us_mx_mal_2014)[colnames(us_mx_mal_2014)==&quot;Male&quot;] &lt;- &quot;mx US Males&quot; tmp_head_us_mx_mal_2014 &lt;- head(us_mx_mal_2014); rownames(tmp_head_us_mx_mal_2014) &lt;- NULL kable(head(tmp_head_us_mx_mal_2014), align = &quot;ccr&quot;) Year_start Age mx US Males 2010 0 0.006554279 2010 1 0.000441664 2010 2 0.000298869 2010 3 0.000225097 2010 4 0.000184733 2010 5 0.000145992 The second elements of our life tables require computing the annual death probabilities \\(q_x\\) from \\(m_x\\) for which some background information is needed. An intuitive definition of the central death rate is given in Section 2.2.3, which is the ratio between the expected deaths and average population within a given observation period. A more mathematical formulation is possible when the reference period is reduced to one year for a population of 1, and is given as follows: \\[ m_{\\bf{x}}:=\\frac{E[I_{T_{\\bf{x}}\\le1}]}{E\\big[\\min\\big(T_{\\bf{x}},1\\big)\\big]}, \\] where \\(I_{\\cdot}\\) is the indicator function for which \\(I_A\\) takes the values 1 and 0 if \\(A\\) is true and false, respectively. The nominator represents the theoretical expected deaths since \\[ E[I_{T_{\\bf{x}}\\le 1}]=\\int_0^{\\infty} I_{t\\le1}\\cdot f_{\\bf{x}}(t)\\;dt=\\int_0^1 f_{\\bf{x}}(t)\\;dt=\\Pr(T_{\\bf{x}}\\le1)=q_{\\bf{x}}. \\] Moreover, the denominator clearly represents the theoretical number of survivors and could be further derived \\[ E\\big[\\min\\big(T_{\\bf{x}},1\\big)\\big]=\\int_0^\\infty \\Pr\\Big(\\min\\big(T_{\\bf{x}},1\\big)&gt;t\\Big)\\;dt=\\int_0^1 \\Pr\\big(T_{\\bf{x}}&gt;t\\big)\\;dt=\\int_0^1 S_{\\bf{x}}(t)\\;dt=\\int_0^1 {_tp_{\\bf{x}}}\\;dt. \\] Note that the first identity could be shown via integration by parts. Finally, combining altogether gives that \\[ m_{\\bf{x}}=\\frac{q_{\\bf{x}}}{\\int_0^1 {_tp_{\\bf{x}}}\\;dt}. \\] Annual death probabilities could be estimated on observed central death rates by making some fractional age assumptions. One simple fractional age assumption considers a constant force of mortality over the period of interest, i.e. one year since we compute the one year death rates, and this assumption is known as the constant force assumption. Lets consider the case in which age is the only explanatory variable, and thus, under the constant force assumption we have that \\[ _sq_x=F_x(s)=\\frac{S_0(x)-S_0(x+s)}{S_0(x)}=\\frac{\\exp\\left\\{-\\int_0^x \\mu_t\\;dt \\right\\}-\\exp\\left\\{-\\int_0^{x+s} \\mu_t\\;dt \\right\\}}{\\exp\\left\\{-\\int_0^x \\mu_t\\;dt \\right\\}}=1-\\exp\\left\\{-\\int_x^{x+s} \\mu_t\\;dt \\right\\}=1-e^{-\\mu^*_{x} \\cdot s} \\] and \\[ _sp_x=\\exp\\left\\{-\\int_x^{x+s} \\mu_t\\;dt\\right\\}=e^{-\\mu^*_x \\cdot s} \\] for all \\(0\\le s\\le 1\\), where \\(\\mu^*_{x}\\) is the constant force of mortality over the ages \\(x\\) and \\(x+1\\). In turn, one may get that \\[ m_{x}=\\frac{q_x}{\\int_0^1 {_tp_x}\\;dt}=\\frac{1-e^{-\\mu^*_x}}{\\int_0^1 e^{-\\mu^*_x \\cdot t}\\;dt}=\\frac{1-e^{-\\mu^*_x}}{\\big(1-e^{-\\mu^*_x}\\big)/\\mu^*_x}=\\mu^*_x. \\] The fractional age assumptions allow us to determine the one year death probability curve, and under the constant force assumption, one may estimate the one death probabilities as follows: \\[ q_x\\approx 1-e^{-\\mu^*_{x}}\\approx 1-e^{-m_x}\\quad\\text{for all integers}\\quad x. \\] The death probability curves for the U.S. Females data are depicted in both original and logarithmic scales, and displayed as Figure 2.11. par(mfrow=c(1,2)) us_mx_fem_2014$qx &lt;- 1-exp(-us_mx_fem_2014$mx) plot(us_mx_fem_2014$qx,type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Original scale&quot;, xlab = &quot;age&quot;, ylab = &quot;q_x&quot;,ylim = c(0,1.0)) lines(us_mx_fem_2014$mx,col=&quot;red&quot;) plot(log(us_mx_fem_2014$qx, base = 10),type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Log scale&quot;, xlab = &quot;age&quot;, ylab = &quot;q_x&quot;) Figure 2.11: One year death probability curve (in blue) and central death rate (in red) for the 2010-2014 U.S. Females data across all ages Similar pictorial representations for the U.S. Males data appear in Figure 2.12. par(mfrow=c(1,2)) us_mx_mal_2014$qx &lt;- 1-exp(-us_mx_mal_2014$mx) plot(us_mx_mal_2014$qx,type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Original scale&quot;, xlab = &quot;age&quot;, ylab = &quot;q_x&quot;,ylim = c(0,1.0)) lines(us_mx_mal_2014$mx,col=&quot;red&quot;) plot(log(us_mx_mal_2014$qx, base = 10),type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Log scale&quot;, xlab = &quot;age&quot;, ylab = &quot;q_x&quot;) Figure 2.12: One year death probability curve (in blue) and central death rate (in red) for the 2010-2014 U.S. Males data across all ages As we can see, \\(q_x\\) and \\(m_x\\) are similar with the exception of the later years, which is not surprising since \\(1-e^{-y}\\approx y\\) for \\(y\\) sufficiently small and by keeping on mind that the central death rates are small at all ages except of high ages. As expected, the log scale plots from Figures 2.11 and 2.12 are more informative in the sense that the log scale reveals the marginal changes over various ages, and we now combined the two log scaled curves into Figure 2.13. plot(log(us_mx_fem_2014$qx, base = 10), type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;Log scale&quot;, xlab = &quot;age&quot;, ylab = &quot;q_x&quot;) lines(log(us_mx_mal_2014$qx, base = 10), lwd = 5, col = &quot;red&quot;) Figure 2.13: One year death probability curve for the 2010-2014 U.S. Females (in blue) and Males (in red) data across all ages Figure 2.13 shows the usual higher mortality rates for males than for females, but also extremely pronounced differences at ages 16 to 40 that could be explained by social factors that are specific to U.S. Males at post adolescence ages; moreover, significant differences at ages 50 to 70 are also observed, and are due to health related factors that males around the world tend to be exposed earlier than females. We are now able to construct life tables based on the U.S. mortality data, but we first provide a brief introduction to the concept of life tables. A life table contains various pieces of information about the mortality risk exhibit by individuals from a targeted age span; death of survivorship elements are displayed based on the observational data. More specific mortality rates due to seasonal epidemics, disability, etc., are usually not included. More complex life tables could be produced for multi-state models that we mentioned before, and are known as multi-state life table. A life table is known as period life table if the prevalence rates  useful for health related causes of decrement  or mortality rates are observed during a specific time period of a certain population. On the contrary, a cohort life table is generated by collating these rates from a specific population observed over its entire lifetime, i.e. from early birth  all individuals are assumed to be born during the same time period  until the observational group is extincted. Both life tables have their own merits, but the cohort life tables tend to be more popular in the actuarial practice and demography, since mortality experts are particularly interested into understanding the mortality patterns within subpopulations for actuarial calculations and advising the economic and social policy-makers. Given our available U.S. mortality data, we are only able to provide period life tables. Our life table examples are given for a dichotomous mortality model with dead/alive possible life status for which age and sex are the only focal mortality explanatory variables. We restrict to the 2010-2014 U.S. mortality data and display the death probabilities, i.e. \\(q_x\\)s, central death rate, i.e. \\(m_x\\)s and \\(l_x\\)s for a given life table radix, i.e. \\(l_0\\); these are displayed for all ages, but separately for females and males when \\(l_0\\) is chosen to be 1,000,000, which is an ad-hoc choice though other choices like 100,000 would be possible as well. One could view the third elements of our life table, i.e. \\(l_x\\), as the expected number of individuals at risk with characteristics \\(x\\), which is purely the age in this case given that the data are already separated by sex. Therefore, we have that \\[ _sp_x=\\frac{l_{x+t}}{l_x}\\quad\\text{for all}\\quad x,t\\ge0, \\] which in turn leads \\[ l_{x+1}=l_x\\cdot p_x=l_x\\big(1-q_x\\big)\\approx l_x\\cdot e^{-m_x}\\quad\\text{for all integers}\\quad x. \\] under the constant force of mortality assumption. For example, \\[ \\begin{eqnarray*} \\begin{array}{lllll} l_0^{Female}&amp;=&amp;l_0\\big(1-q_0^{Female}\\big)&amp;\\approx&amp; l_0\\cdot \\exp\\big(-m_0^{Female}\\big)&amp;=&amp;1,000,000\\cdot e^{-0.005461737}&amp;=&amp; 994,553.151168\\\\ l_0^{Male} &amp;=&amp;l_0\\big(1-q_0^{Male}\\big) &amp;\\approx&amp; l_0\\cdot \\exp\\big(-m_0^{Male}\\big) &amp;=&amp;1,000,000\\cdot e^{-0.006554279}&amp;=&amp; 993,467.153436, \\end{array} \\end{eqnarray*} \\] which are quite close to the exact values 994,553.151225 and 993,467.1533967, respectively that are displayed on the actual life tables that follow after Figure 2.14. The \\(l_x\\) values are now plotted in Figure 2.14 where once again the female subpopulation shows higher survivorship trend than the male subpopulation. lf &lt;- rep(0,length(us_mx_fem_2014$mx)) lf[1] &lt;- 1000000 for (i in 2:111){ lf[i] = lf[i-1] * (1-us_mx_fem_2014[i-1,4]) } lm &lt;- rep(0,length(us_mx_mal_2014$mx)) lm[1] &lt;- 1000000 for (i in 2:111){ lm[i] = lm[i-1] * (1-us_mx_mal_2014[i-1,4]) } plot(lf, type = &quot;l&quot;, lwd = 5, col = &quot;yellow&quot;, xlab = &quot;age&quot;, ylab = &quot;l_x&quot;,ylim = c(0,1000000)) lines(lm, type = &quot;l&quot;, lwd = 5, col = &quot;orange&quot;, xlab = &quot;age&quot;, ylab = &quot;l_x&quot;,ylim = c(0,1000000)) Figure 2.14: Expected number at risk for the 2010-2014 U.S. Females (in yellow) and Males (in orange) data across all ages us_mx_fem_2014$lf &lt;- lf us_mx_mal_2014$lm &lt;- lm library(DT) tmp_life_table_us_mx_fem_2014 &lt;- round(us_mx_fem_2014, digits = 9); #tmp_life_table_us_mx_fem_2014 &lt;- us_mx_fem_2014; colnames(tmp_life_table_us_mx_fem_2014)[c(4,5)]&lt;- c(&quot;qx US Females&quot;,&quot;lx US Females&quot;) rownames(tmp_life_table_us_mx_fem_2014) &lt;- NULL #kable(tmp_life_table_us_mx_fem_2014, digits = 9, format.args = list(big.mark = &quot;,&quot;), align = &quot;ccrrr&quot;) DT::datatable(tmp_life_table_us_mx_fem_2014) tmp_life_table_us_mx_mal_2014 &lt;-round(us_mx_mal_2014, digits = 9); #tmp_life_table_us_mx_mal_2014 &lt;- us_mx_mal_2014; colnames(tmp_life_table_us_mx_mal_2014)[c(4,5)]&lt;- c(&quot;qx US Males&quot;,&quot;lx US Males&quot;) rownames(tmp_life_table_us_mx_mal_2014) &lt;- NULL #kable(tmp_life_table_us_mx_mal_2014, digits = 9, format.args = list(big.mark = &quot;,&quot;), align = &quot;ccrrr&quot;) DT::datatable(tmp_life_table_us_mx_mal_2014) We could use these life tables to obtain other death/survival related projections such as the newborn survival probabilities curves, which appears in Figure 2.15. par(mfrow=c(1,2)) kP0f &lt;- us_mx_fem_2014$lf/us_mx_fem_2014$l[1] plot(kP0f, xlab=&quot;age&quot;, type = &quot;l&quot;, lwd = 5, col = &quot;green&quot;) kP0m &lt;- us_mx_mal_2014$lm/us_mx_mal_2014$l[1] plot(kP0m, xlab=&quot;age&quot;, type = &quot;l&quot;, lwd = 5, col = &quot;green&quot;) Figure 2.15: One year death probability curve for newborn Femals (left) and Males (right) for the 2010-2014 U.S. data across all ages \\(\\color{red}{\\text{[Vali:] I assume that the next calculation is based on the following integral aproximation $\\stackrel{\\circ}{e}_x\\approx 0.5+e_x$?}}\\) \\(\\color{red}{\\text{[Vali:] Some calculations neeed the kurtate future lifetime $e_x$ which I thought that would be defined by Adam and Emil.}}\\) \\(\\color{red}{\\text{[Vali:] No changes are made in this subsection from this point.}}\\) \\(\\color{red}{\\text{[Vali:] The flow of the chapter is not ideal, especially the CF assumption.}}\\) Life expectancy: sum(kP0f) - 0.5 [1] 81.3014163 And we can do the same for a 50-year old female: kP50 &lt;- us_mx_fem_2014$l[51:111]/us_mx_fem_2014$l[51] plot(kP50,xlab=&quot;age&quot;, type = &quot;l&quot;, lwd = 5, col = &quot;red&quot;) Lets go through and evaluate period life expectancies at birth and at 50 across the years. This is a little more involved: e0 &lt;- rep(0,16) e50 &lt;- rep(0,16) plot(kP0f,xlab=&quot;age&quot;, type = &quot;l&quot;, col = 1) i &lt;- 1 for (s in seq(1935,2010,5)){ #Get central death rates for each start yeat mx &lt;- us_mx[us_mx$Year_start == s,4] s0 &lt;- rep(0,111) #Calculate the survival function s0[1] &lt;- 1 for (j in 2:111){ s0[j] &lt;- s0[j-1]*exp(-mx[j-1]) } #Include in the plot lines(s0, col=(i+1)) #And evaluate life expectancies by summing over kPx&#39;s e0[i] &lt;- sum(s0)-0.5 e50[i] &lt;- sum(s0[51:111]/s0[51])-0.5 i &lt;- i+1 } As is evident, the survival function has shifted quite dramatically over the past eighty years. The same is true for life expectancies: par(mfrow=c(1,2)) plot(seq(1935,2010,5),e0, type = &quot;l&quot;, lwd = 5, col = &quot;blue&quot;, main=&quot;life expectancies at birth, across years&quot;, xlab = &quot;year&quot;, ylab = &quot;life expectancy&quot;) plot(seq(1935,2010,5),e50, type = &quot;l&quot;, lwd = 5, col = &quot;red&quot;, main=&quot;life expectancies at 50, across years&quot;, xlab = &quot;year&quot;, ylab = &quot;life expectancy&quot;) 2.4.2 Mortality Improvement Modeling \\(\\color{red}{\\text{[Vali:] No changes are made in this subsection.}}\\) The fundamental issue e.g. when compiling a life table as we did here relying on one year of mortality data, we are relying on the snapshot of the year 2014 mortality experience. For a life insurance company selling annuities, in order to adequately price and reserve for their future liabilities, it is necessary to take into account future changes in mortality. As we have seen above, life expectancies have changed substantially over the last decades. This means that an eighty year old today may not have the same \\(q_{80}\\) as an eighty year old twenty years from now, which is the relevant \\(q_{80}\\) when selling an annuity to a sixty year old today One way of describing how mortality changed across years and ages are so-called mortality improvement factors, i.e. the percentage reduction in the mortality rate for each age \\(x\\) over successive years (\\(t-1\\) to \\(t\\)): \\[ \\varphi(x,t) = 1 - \\frac{q_x(t)}{q_x(t-1)}. \\] Since we consider data in five-year intervals, we scale to one year: \\[ \\varphi(x,t) = 1 - \\left(\\frac{q_x(t)}{q_x(t-5)}\\right)^{1/5}. \\] To obtain an impression, lets evaluate in the context of our mortality data. One way of visualizing is a so-called heat map. As detailed in study note, patterns on the vertical, horizontal, and diagonal dimension relate to year, age, and cohort effects. us_mx_fem &lt;- us_mx[,-c(2,5,6)] colnames(us_mx_fem)[colnames(us_mx_fem)==&quot;Female&quot;] &lt;- &quot;mx&quot; us_mx_fem$qx &lt;- 1-exp(-us_mx_fem$mx) phi &lt;- matrix(rep(0,111*15),nrow=111,ncol=15,byrow = TRUE) for (t in 1:15){ for (x in 1:111){ phi[x,t] &lt;- 1 - (us_mx_fem[t*111+x,4]/us_mx_fem[(t-1)*111+x,4])^(1/5) } } heatmap(phi,Colv = NA,Rowv = NA) Diagonals = cohort effects! One simple way of forecasting mortality into the future are so-called single factor mortality improvement models, i.e. models where \\(\\varphi(x,t)\\) only depends on \\(x\\)  lets write \\(\\varphi_x\\). With that, the above equation becomes: \\[ q_x(t)= q_x(t-1)\\times (1- \\varphi_x), \\] or, generalizing: \\[ q_x(t) = q_x(0)\\times (1-\\varphi_x)^t \\] To obtain suitable improvement factors, lets average across years under consideration: phi_x &lt;- rep(0,111) for (x in 1:111){ phi_x[x] &lt;- mean(phi[x,]) } And lets plot to check them out, and include smoothed version: ages &lt;- 1:111 lo &lt;- loess(phi_x ~ ages) plot(phi_x, type = &quot;l&quot;, lwd = 5, col = &quot;red&quot;, main=&quot;mortality improvement factors&quot;, xlab = &quot;age&quot;, ylab = &quot;phi&quot;) lines(predict(lo), col=&#39;blue&#39;, lwd=2) phi_x &lt;- predict(lo) Using smoothed. We can get a life table for a sixty year old in 2015 by applying the improvement factors to forecast future mortality probabilities using the relationship above: q_50plusx &lt;- rep(0,61) for (i in 1:61){ q_50plusx[i] &lt;- us_mx_fem_2014[50+i,4] * (1 - phi_x[50+i])^(i-1) } And lets compare the resulting \\(q_x\\), the ones for 2015 across all ages above 60 and the forecasted cohort mortalities for the 60 year old in 2015: plot(q_50plusx, type = &quot;l&quot;, lwd = 2, col = &quot;red&quot;, main=&quot;q_x comparison&quot;, xlab = &quot;age&quot;) lines(us_mx_fem_2014[51:111,4], col = &quot;blue&quot;, lwd = 2) Evaluate life expectancy at 50: kP50_i &lt;- rep(0,61) kP50_i[1] &lt;- 1 for (i in 2:61){ kP50_i[i] &lt;- kP50_i[i-1] * (1 - q_50plusx[i-1]) } plot(kP50,xlab=&quot;age&quot;, type = &quot;l&quot;, lwd = 5, col = &quot;red&quot;) lines(kP50_i, col = &quot;blue&quot;, lwd = 2) sum(kP50) - 0.5 sum(kP50_i) - 0.5 [1] 33.4390951 [1] 35.7433033 2.5 Non-parametric survival estimation Simple parametric mortality models have been discussed in the previous section, which are excellent pedagogical survival models that helped the reader to get a glimpse of more realistic survival models that are about to be gradually introduced. The current section is meant to briefly introduce the two most commonly used non-parametric survival function estimators, known as Kaplan-Meier and Nelson-Aalen. Estimating the entire survival function for a certain age would simply provide the mortality rates of those at that age over any period of interest, and therefore, actuarial computations/estimations could be performed based on these two estimators. Kaplan-Meier and Nelson-Aalen are estimators that are designed for truncated and censored data, which is the case in survival analysis. The analysis of this section is based on the synthetic data SyntheticInsurerData.csv described in Section 2.1.3, where many policies were issued by an life insurer from January 1955 to December 2019 for policyholders aged 19 to 65. Any given policy may raise a claim  shown in the data feature named Claim  where the death event is recorded, and thus, this data entry is non-censored; if the claim is not raised, then the policyholder is alive by the end of teh observation period, i.e. \\(31^{st}\\) of December 2019, and in turn, this datum is right-censored as the death event has not yet occurred. In summary, we essentially retain the entry age of each policyholder  age at the time the policyholder buys the policy  and the event time that could be the death event for non-censored datum and survival event for censored-datum. For example, a policyholder of age \\(33\\) buys a policy in early January 1990, i.e. her/his Month_of_Sale record would be \\(421\\)  recall that month \\(780\\) indicates that a policy is bought in December 2019  while Sex feature record would be \\(0\\) and \\(1\\) for a female and male policyholder, respectively; if the policyholder survives by the end of the observation period, then a censored datum is recorded as \\(+30\\) where the plus sign flags the censoring event, and if the policyholder dies 13 years and 2 months after, then a censored datum is recorded with an event time \\(13+2/12\\approx13.17\\), i.e. no plus sign is needed for non-censored datum. Providing the mathematical formulations of these two non-parametric estimators is beyond of the scope this brief introduction to survival analysis, and instead, the aim of this section is familiarize the reader with various standard mortality models by capturing the intuitive behind each model rather than focusing on the mathematical modeling aspects of survival analysis; a short, but informative description of these two estimator could be found at Loss Data Analysis descriptions. For this reason, we only provide some pictorial representations of the Kaplan-Meier estimates and its derivatives in Figure 2.16, which are based on the synthetic data given in SyntheticInsurerData.csv. The dataset has a large sample size, and some computations could show that the differences between the Kaplan-Meier and Nelson-Aalen estimates are insignificant; this is not surprising, since the two estimators are asymptotically equivalent  for large samples, the estimators are supposed to provide the same results  and therefore, we do not plot any NelsonAalen estimates. The R code from below uses the survfit function with an argument of type='kaplan-meier' for Kaplan-Meier estimates, but one could recover the NelsonAalen estimates by setting type='fleming-harrington', and we leave this exercise to the reader. library(data.table) library(survival) insdatatmp &lt;- fread(&quot;Data/SyntheticInsurerData.csv&quot;,data.table=FALSE) # computations for individuals aged 50 ageX &lt;- 50 sexX &lt;- 0 # 0 for female, 1 for male indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_50_F &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) # Kaplan-Meier estimator #fit_NA_50_F &lt;- survfit(Surv(time,status) ~ 1, type=&#39;fleming-harrington&#39;) # NelsonAalen estimator ageX &lt;- 50 sexX &lt;- 1 # 0 for female, 1 for male indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_50_M &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) ageX &lt;- 50 indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_50_All &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) # computations for individuals aged 40 ageX &lt;- 40 sexX &lt;- 0 # 0 for female, 1 for male indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_40_F &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) # Kaplan-Meier estimator #fit_NA_40_F &lt;- survfit(Surv(time,status) ~ 1, type=&#39;fleming-harrington&#39;) # NelsonAalen estimator ageX &lt;- 40 sexX &lt;- 1 # 0 for female, 1 for male indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_40_M &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) ageX &lt;- 40 indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_40_All &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) # computations for individuals aged 30 ageX &lt;- 30 sexX &lt;- 0 # 0 for female, 1 for male indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_30_F &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) # Kaplan-Meier estimator #fit_NA_30_F &lt;- survfit(Surv(time,status) ~ 1, type=&#39;fleming-harrington&#39;) # NelsonAalen estimator ageX &lt;- 30 sexX &lt;- 1 # 0 for female, 1 for male indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Sex==sexX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_30_M &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) ageX &lt;- 30 indNonCensored &lt;- which(insdatatmp$Age+floor(insdatatmp$Time_of_death) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Claim==&quot;YES&quot;) indCensored &lt;- which(insdatatmp$Age+floor(780-insdatatmp$Month_of_sale+1) &gt;=ageX &amp; insdatatmp$Age &lt;= ageX &amp; insdatatmp$Claim==&quot;NO&quot;) setdata &lt;- insdatatmp[c(indNonCensored,indCensored),] Nsetdata &lt;- nrow(setdata) time &lt;- rep(0,Nsetdata) status&lt;-1*(setdata$Claim == &quot;YES&quot;) # 0 for Censored data observations (i.e. with no claims and Claim==&quot;No&quot;), 1 for non-Censored observations -- setting for Survfit function time &lt;- setdata$Time_of_death -(rep(ageX,Nsetdata)-setdata$Age) fit_KM_30_All &lt;- survfit(Surv(time,status) ~ 1, type=&#39;kaplan-meier&#39;) # survival function plots par(mfrow=c(2,3)) plot(fit_KM_50_F$surv~fit_KM_50_F$time,type=&quot;l&quot;, main=&quot;KaplanMeier Estimates at age 50&quot;, xlab=&quot;Time&quot;, ylab=&quot;Survival Function&quot;,col = &quot;blue&quot;) lines(fit_KM_50_M$surv~fit_KM_50_M$time,col = &quot;red&quot;) lines(fit_KM_50_All$surv~fit_KM_50_All$time,col = &quot;green&quot;) plot(fit_KM_40_F$surv~fit_KM_40_F$time,type=&quot;l&quot;, main=&quot;KaplanMeier Estimates at age 40&quot;, xlab=&quot;Time&quot;, ylab=&quot;Survival Function&quot;,col = &quot;blue&quot;) lines(fit_KM_40_M$surv~fit_KM_40_M$time,col = &quot;red&quot;) lines(fit_KM_40_All$surv~fit_KM_40_All$time,col = &quot;green&quot;) plot(fit_KM_30_F$surv~fit_KM_30_F$time,type=&quot;l&quot;, main=&quot;KaplanMeier Estimates at age 30&quot;, xlab=&quot;Time&quot;, ylab=&quot;Survival Function&quot;,col = &quot;blue&quot;) lines(fit_KM_30_M$surv~fit_KM_30_M$time,col = &quot;red&quot;) lines(fit_KM_30_All$surv~fit_KM_30_All$time,col = &quot;green&quot;) # log of mortality function plots plot(log(1-fit_KM_50_F$surv)~fit_KM_50_F$time,type=&quot;l&quot;, main=&quot;KaplanMeier Estimates at age 50&quot;, xlab=&quot;Time&quot;, ylab=&quot;log of Mortality Function&quot;,col = &quot;blue&quot;) lines(log(1-fit_KM_50_M$surv)~fit_KM_50_M$time,col = &quot;red&quot;) lines(log(1-fit_KM_50_All$surv)~fit_KM_50_All$time,col = &quot;green&quot;) plot(log(1-fit_KM_40_F$surv)~fit_KM_40_F$time,type=&quot;l&quot;, main=&quot;KaplanMeier Estimates at age 40&quot;, xlab=&quot;Time&quot;, ylab=&quot;log of Mortality Function&quot;,col = &quot;blue&quot;) lines(log(1-fit_KM_40_M$surv)~fit_KM_40_M$time,col = &quot;red&quot;) lines(log(1-fit_KM_40_All$surv)~fit_KM_40_All$time,col = &quot;green&quot;) plot(log(1-fit_KM_30_F$surv)~fit_KM_30_F$time,type=&quot;l&quot;, main=&quot;KaplanMeier Estimates at age 30&quot;, xlab=&quot;Time&quot;, ylab=&quot;log of Mortality Function&quot;,col = &quot;blue&quot;) lines(log(1-fit_KM_30_M$surv)~fit_KM_30_M$time,col = &quot;red&quot;) lines(log(1-fit_KM_30_All$surv)~fit_KM_30_All$time,col = &quot;green&quot;) Figure 2.16: The Kaplan-Meier survival function estimates (upper plots) and its log of mortality function estimates (lower plots) for an individual of age 30 (right), 40 (middle) and 50 (left) based on the synthetic dataset  curves are in blue (female), red (male) and green (all genders) Figure 2.16 tells us that females are more likely to survive over the same period than males, which is not surprising. The curves for all genders are closer to the equivalent curves based on the male data, since the synthetic dataset has \\(70\\%\\) male policyholders, as explained in the data summary given in Section 2.1.3. The three set of plots from Figure 2.16 use a log scale, and show that that males aged \\(30\\) have a rapid increasing in the mortality rate over the first the 10 to 12 years than females aged \\(30\\) with an opposite behavior for periods longer than 20 years; this is common sense and agrees with the equivalent curves shown for individuals of age \\(40\\) and \\(50\\). 2.6 Conditional models: Survival regression parametric models; proportional hazard (Cox) model; additive model R tutorial  survival regression; constructing conditional mortality tables 2.7 Appendix 2A. Life Table: Recursive Calculations Actuaries and other analysts have found life tables to be useful in interpreting mortality patterns for many years. Origins of life tables can be traced back to Edmund Halleys paper entitled, An estimate of the degrees of the mortality of mankind, drawn from various tables of births and funerals in the city of Breslau, published in 1693. Some scholars attribute this paper as marking the birth of actuarial science. As introduced in Section 2.4, a life table is based on the quantities \\(l_x = radix \\times S_a(x)\\) where \\(S_a(\\cdot)\\) is the survival function for a life aged \\(a\\). In this expression, \\(a\\) is the starting age of the table and \\(radix\\) is a constant generally taken so that \\(l_a\\) is a large round number. With this choice, we interpret \\(l_x\\) to be the number living at age \\(x\\). Table 2A.1 shows life tables for female and male Indonesians. Here, each radix, one for females and one for males, is chosen so that there are 100,000 people alive at age \\(a=20\\). Also from Table 2A.1, you will see that the mortality distribution is given in terms of (integral) values of \\(x\\); such a choice is common in life tables as is other regular successive values, e.g., quinquennial for five year values. With a table of successive values, many interesting recursive expressions are available. To begin, we can define the change \\(d_x = l_x - l_{x+1}\\) that we interpret as the number dying between ages \\(x\\) and \\(x+1\\). These changes allow us to express life table quantities \\(l_x\\) and \\(d_x\\) in terms of one-year death rates, \\(q_x\\), as follows. Recall that \\(q_x = 1 - S_0(x+1)/S_0(x) = 1 - S_a(x+1)/S_a(x)\\) and so \\[ \\frac{d_x}{l_x} = \\frac{l_x - l_{x+1}}{l_x} = \\frac{radix}{radix}\\frac{S_a(x) - S_a(x+1)}{S_a(x)} = q_x . \\] From this we can use life table quantities \\(l_x\\) and \\(d_x\\) to calculate one-year death rates, \\(q_x\\). We can also reverse the process. That is, starting with one-year death rates as inputs, we can calculate life table entries recursively using \\(l_{x+1} = l_x - l_x q_x = l_x p_x\\) for \\(x=a, a+1, \\ldots\\). Thus, for example, in Table 2A.1, with \\(x=20\\), we have \\(l_{21} = l_{20} - l_{20} q_{20} = (100000)(1 - 0.000340) = 99966\\). For readers familiar with spreadsheet methods, click on a few cells in Table 2A.1 to see the recursive definition of table entries. Later chapters on life contingent benefits will highlight recursive calculations. To foreshadow this, consider the curtate life expectancy introduced in Section 2.4. An easy calculation (that the reader should verify) shows the recursive expression \\[ e_x = \\sum_{k=1}^{\\infty} ~ {~}_k p_x = p_x (1 + e_{x+1}) . \\] The \\(e_x\\) columns in Table 2A.1 utilize this relationship. To visualize these entries, Figure 2.17 compares female to male life expectancies for the Indonesian data. Here, we see that females have a higher life expectancy at each age. The difference is greatest at the first age of the table \\(a=20\\) which is 61.06 - 55.46 = 5.60. On Your Own. The Indonesian mortality data were retrieved from the Mortality and Other Rate Tables database sponsored by the Society of Actuaries. This database contains mortality (and other) rates from scores of countries. You will enjoy downloading them and comparing mortality experiences across the globe. Table 2A.1. Indonesian Life Table Export this spreadsheet as CSV Figure 2.17: Indonesian Life Expectancies. Female life expectancies are given in the red open symbols, males are represented with the blue solid line. On Your Own. Try a few interactive calculations using R. eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJJbmRMaWZlVGFibGUgPC0gcmVhZC5jc3YoXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vT3BlbkFjdFRleHREZXYvTGlmZUNvbi9tYXN0ZXIvRGF0YS9JbmRvbmVzaWFuTGlmZVRhYmxlTm9Gb3JtdWxhLmNzdlwiLCBoZWFkZXIgPSBGKVxuY29sbmFtZXMoSW5kTGlmZVRhYmxlKSA8LSBjKFwiQWdlXCIsXCJGZW1hbGUucXhcIixcIkZlbWFsZS5seFwiLFwiRmVtYWxlLmR4XCIsXCJGZW1hbGUuZXhcIixcIk1hbGUucXhcIixcIk1hbGUubHhcIixcIk1hbGUuZHhcIixcIk1hbGUuZXhcIilcbnN1bW1hcnkoSW5kTGlmZVRhYmxlKVxucGxvdChJbmRMaWZlVGFibGUkQWdlLEluZExpZmVUYWJsZSRGZW1hbGUuZXgsIHhsYWI9XCJBZ2VcIix5bGFiPVwiTGlmZSBFeHBlY3RhbmN5XCIsIGNvbD1cInJlZFwiKVxubGluZXMoSW5kTGlmZVRhYmxlJEFnZSxJbmRMaWZlVGFibGUkTWFsZS5leCwgY29sPVwiYmx1ZVwiKSJ9 \\(\\require{enclose}\\) "],["C-SimpleBenefit.html", "Chapter 3 Basic Life Contingent Benefits 3.1 Valuation of cash flows under uncertainty 3.2 Life insurance benefits 3.3 Life annuity benefits 3.4 Valuing life contingent benefits using a spreadsheet 3.5 Case Study: A portfolio of term insurance policies 3.6 Appendix 3A. Examples of valuation of general cash flows", " Chapter 3 Basic Life Contingent Benefits Chapter Preview. This chapter introduces the modeling of life contingent benefits, integrating the material from the previous chapter with basic concepts from financial mathematics. In contrast to benefits that are certain to be paid at specified periods, life contingent benefits have the additional complexity that the timing of payments is uncertain and are contingent upon either the survival or mortality of one or more lives. In this chapter we introduce the calculations of the present values of these contingent benefits, along with associated notation. In this chapter we assume that all benefits are paid at annual times. Benefits paid in continuous or more frequently than annual time, along with other extensions, are considered in Chapter 4. 3.1 Valuation of cash flows under uncertainty Imagine a financial system with a cash flow of known value \\(_tC\\) occurring in \\(t\\) years from now. If we assume the spot rate of interest is \\(_ti\\) per annum effective, then the present value (\\(PV\\)) of this cash flow is: \\[ PV = ~_tC ~(1+{_ti})^{-t}=~_tC ~ v^t . \\tag{3.1} \\] Chapter Structure Discussion Structure discussion. The above is written assuming a primer somewhere before this chapter including basic interest theory, as per the draft book structure (and my comments) from November 2020. Notation discussion. There are a number of decisions to make here. Id like to keep \\(PV\\) as we can use it for all types of present value calculations (insurance benefits, annuity benefits, premiums, etc.). Id like to keep \\(V\\) for reserves. We also need to think about consistency of terminology: do we use actuarial present value or expected present value? Is it necessary to emphasize distinction? (I deliberately havent). Jeds initial principles suggest uppercase italics for random variables. Thats OK as long as we are recognising that sometimes the values wont be random if all elements of the RHS of the equation are deterministic. Further, elements such as \\(C\\) might be random variables in some types of policies (e.g. unit linked) but not others. Keeping benefit cashflows as \\(C\\) works and we can use \\(P\\) for premium cash flows. Having \\(t\\) be a left subscript ensures that right subscripts are reserved for individual characteristics \\({\\bf{x}}_j.\\) It leaves open the possibility of employing \\(_tC_{{\\bf{x}}_j}\\) or \\(_tC_j\\) where relevant for a policy, which we will introduce in the case study later in this chapter where we will make some minor adjustments to notation. Let us now introduce uncertainty into this system. Uncertainty might be in terms of the values of the amount, the timing, or the interest rate. In this chapter we assume spot rate \\(_ti\\) is known, that timing \\(t\\) can take discrete values \\(k \\in \\{0,1,2,3, \\ldots\\}\\) only, and that, if a cash flow occurs, the amount \\(_kC\\) is known (as we will see, it is typically set in an insurance contract). The uncertainty is whether a cash flow occurs which is represented by an indicator variable. More precisely, we assume that at each time \\(k\\) there is a Bernoulli random variable \\(_kB\\) that is one if a cash flow occurs and 0 otherwise. With this notation, at time \\(k\\), the present value of the random cash flow is \\(v^k \\times ~_kC \\times ~_kB\\). This system is illustrated on a timeline in Figure 3.1. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(2.5,7.5)) arrows(5,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(7,6.2,7,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(9,6.2,9,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8,code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Time&quot;) text(5,7,&quot;0&quot;) text(7,7,&quot;1&quot;) text(9,7,&quot;2&quot;) text(11,7,&quot;3&quot;) text(13.5,7,&quot;...&quot;) text(1,5,&quot;Discount&quot;) text(5,5,1) text(7,5,TeX(&quot;v^1&quot;)) text(9,5,TeX(&quot;v^2&quot;)) text(11,5,TeX(&quot;v^3&quot;)) text(13.5,5,&quot;...&quot;) text(1,4,&quot; Potential Cash Flow&quot;) text(5,4,TeX(&quot;_0C&quot;)) text(7,4,TeX(&quot;_1C&quot;)) text(9,4,TeX(&quot;_2C&quot;)) text(11,4,TeX(&quot;_3C&quot;)) text(13.5,4,&quot;...&quot;) text(1,3,&quot; Cash Flow Indicator&quot;) text(5,3,TeX(&quot;_0B&quot;)) text(7,3,TeX(&quot;_1B&quot;)) text(9,3,TeX(&quot;_2B&quot;)) text(11,3,TeX(&quot;_3B&quot;)) text(13.5,3,&quot;...&quot;) box(col = &#39;lightblue&#39;) Figure 3.1: Timeline of cash flows with uncertainty The present value \\(PV\\) is the sum of a number of discrete random variables that we can express as \\[ \\begin{array}{l} PV = \\sum_{k=0}^{\\infty} v^k ~_kC~_kB~ .\\\\ \\end{array} \\tag{3.2} \\] There is no harm in letting the upper limit of the sum be infinity although for our applications it will be typically limited to a finite sum by contractual provisions in \\(~_kC\\) or human mortality through \\(_kB\\). 3.1.1 Moment Calculations Because \\(PV\\) is a random variable, we are able to summarize certain aspects of its distribution by calculating moments such as the mean and variance. Given that \\(_kC\\) and \\(v^k\\) are known, we can calculate the expected present value as follows: \\[ \\boxed{ \\begin{array}{ll} \\mathrm{E}(PV) &amp;= \\mathrm{E} \\left[ \\sum_{k=0}^{\\infty} ~_kC~_kB~ v^k \\right] \\\\ &amp;= \\sum_{k=0}^{\\infty} ~_kC~ v^k ~\\Pr(_kB = 1) . \\end{array} } \\tag{3.3} \\] In this expression, we use the fact that the mean of a Bernoulli random variable equals the probability of being a one, that is, \\(\\mathrm{E}(_kB) = 0 \\times \\Pr(_kB = 1)\\) \\(+ 1 \\times \\Pr(_kB = 1) = \\Pr(_kB = 1)\\). The calculation in equation (3.3) does not depend on the dependence relationships among the \\(_kB\\) random variables; sums of expectations of random variables are not affected by correlations between random variables. Calculation of the variance of the present value depends on the correlation among the cash flow indicators \\(_kB\\). For life contingent applications, we focus on three cases of interest: cash flow indicators are mutually independent, cash flow indicators are a function of the death of an individual, and cash flow indicators are a function of the survival of an individual. For the first situation, you can think of classic gambling situations where the outcome of one game does not affect another. This situation is of less interest to us but does serve as useful benchmark. In this case, the variance of the present value is \\[ \\mathrm{Var}(PV) = \\sum_{k=0}^{\\infty} ~_kC^2 ~v^{2k} ~\\Pr(_kB=1)[1-\\Pr(_kB=1)] . \\] In the second case, cash flow indicators are a function of death in the period that can be represented by an indicator function \\(I_{K_{\\bf{x}}=k}\\). Recall from Chapter 2 that we defined the random variable \\(K_{x}\\) as being the curtate death time (measured in years from the current time) of \\(x\\). In our models, death can occur at most one time and so for example, \\(I_{K_{\\bf{x}}=10}I_{K_{\\bf{x}}=15} = 0\\), that is, death in the \\(10^{th}\\) period and \\(15^{th}\\) period cannot both occur. This means that \\(_sB \\times ~_rB =0\\) for \\(r \\ne s\\) and \\[ \\begin{array}{l} PV^2 = \\sum_{k=0}^{\\infty} v^{2k} ~_kC^2~_kB~, \\\\ \\end{array} \\] because all the cross-products are zero and an indicator variable squared is simply the indicator variable (\\(_kB^2 = ~_kB\\)). From this and the \\(\\mathrm{Var}(PV)\\) \\(= \\mathrm{E}(PV^2) - [\\mathrm{E}(PV)]^2\\) formula, we have \\[ \\mathrm{Var}(PV) = \\sum_{k=0}^{\\infty} ~_kC^2 ~v^{2k} ~\\Pr(_kB=1) - [\\mathrm{E}(PV)]^2 . \\tag{3.4} \\] Single event cash flows typically occur when modeling life insurance benefits, the topic of Section 3.2. In the third case, cash flow indicators are a function of survival in the period that can be represented by an indicator function \\(I_{K_{\\bf{x}} \\ge k}\\). In this case, cross-products are not zero but do take on a simple form. Think of a special case of both survival through the \\(10^{th}\\) period and through \\(15^{th}\\) period - this is the same as survival through the \\(15^{th}\\) period. Mathematically, we can write this as \\(I_{K_{\\bf{x}}\\ge10}I_{K_{\\bf{x}}\\ge15}\\) \\(= I_{K_{\\bf{x}}\\ge15}\\). In general, we have \\(_sB \\times ~_rB = ~_rB\\) for \\(r \\ge s\\). With the present value of cash flows in equation (3.2) and a bit of algebra, we have \\[ \\begin{array}{rl} PV^2 &amp;= \\left( \\sum_{k=0}^{\\infty} v^r ~_rC ~_rB~\\right)^2 \\\\ &amp;= ~_0B + \\sum_{k=1}^{\\infty} ~_kIC ~_kB , \\\\ \\text{where} \\\\ &amp; _kIC = v^{2k}~_kC^2+ 2v^{k} ~_kC \\sum_{s=0}^{k-1} v^{s} ~_sC . \\end{array} \\tag{3.5} \\] The strengths of the expression in display (3.5) are that it is sufficiently general to cover all of the life annuity applications in Section 3.3 and that is is easy to calculate recursively using spreadsheet or other numerical methods. The limitation is that it is difficult to interpret in this general form. To partially mitigate this last limitation, in the case of potential cash flows identically equal to one (\\(_kC=1\\)), one can write \\(~_kIC\\) \\(\\require{enclose}=v^{2k}+ 2v^{k} \\ddot{a}_{\\enclose{actuarial}{k}}\\). Verify Development of the PV Squared Expression \\[ \\begin{array}{rl} PV^2 &amp;= \\left( \\sum_{r=0}^{\\infty} v^r ~_rC ~_rB~\\right)^2 \\\\ &amp;=\\sum_{r=0}^{\\infty} v^{2r} ~_rB~ + 2 \\sum_{r=1}^{\\infty} \\sum_{s=0}^{r-1} v^{r} v^{s} ~_rC~_sC~_rB~ ~_sB\\\\ &amp;= \\sum_{r=0}^{\\infty} v^{2r} ~_rC^2 ~_rB~ + 2 \\sum_{r=1}^{\\infty} v^{r} ~_rC ~_rB \\left\\{ \\sum_{s=0}^{r-1} v^{s} ~_sC\\right\\} \\\\ &amp;= ~_0C~_0B + \\sum_{r=1}^{\\infty}\\left[v^{2r}~_rC^2+ 2v^{r} ~_rC \\left\\{ \\sum_{s=0}^{r-1} v^{s} ~_sC \\right\\} \\right]~_rB \\\\ &amp;= ~_0B + \\sum_{r=1}^{\\infty} ~_rIC ~_rB , \\\\ \\text{where} \\\\ &amp; _rIC = v^{2r}~_rC^2+ 2v^{r} ~_rC \\sum_{s=0}^{r-1} v^{s} ~_sC \\end{array} \\\\ \\] If potential cash flows identically equal to one (\\(_kC=1\\)), then \\[ \\begin{array}{rl} _rIC &amp;= v^{2r}~_rC^2+ 2v^{r} ~_rC \\sum_{s=0}^{r-1} v^{s} ~_sC \\\\ &amp;= v^{2r} + 2v^{r} \\sum_{s=0}^{r-1} v^{s} \\\\ &amp;= v^{2r}+ 2v^{r} \\ddot{a}_{\\enclose{actuarial}{r}} . \\end{array} \\] We summarize the variance of present values as \\[ \\mathrm{Var}(PV) = \\Pr(_0B=1) + \\sum_{k=1}^{\\infty} ~_kIC ~\\Pr(_kB=1) - [\\mathrm{E}(PV)]^2 . \\tag{3.6} \\] Survival benefit cash flows typically occur when modeling life annuity benefits, the topic of Section 3.3. 3.1.2 Illustrative Moments of Cash Flows It is often efficient and convenient to analyse such cash flow systems using a spreadsheet package such as Microsofts Excel or an equivalent. Example 3.1. Ten Year Cash Flows. To illustrate, we consider ten years of cash flows at times \\(k \\in {0,1,2,\\ldots,10}\\). Cash flow amounts \\(_kC\\), one period spot rates \\(_k i\\), and probabilities of occurrence probability \\(\\Pr( _kB=1)\\) are given in Display 3.1. These inputs are highlighted (in yellow). This display shows the calculation of \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) for a cash flow model of the style shown in equations (3.2), (3.3) and (3.4), assuming that only one cash flow is possible. Input cells can be changed to see the impact on the \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) output, which are highlighted in orange. (The standard deviation, StDev, is provided as well). The component calculations of the summations in \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) can be found in Cells F3-F13 and G3-G13 respectively. To see the formulae for these cells just double click on the cell. You can download the file using an icon at the bottom right of the workbook. Display 3.1. Ten Year Cash Flow Spreadsheet Chapter Structure Discussion The approach to doing this is outlined at https://support.microsoft.com/en-us/office/share-it-embed-an-excel-workbook-on-your-web-page-or-blog-from-onedrive-804e1845-5662-487e-9b38-f96307144081. This is the hosted on a personal onedrive account as I couldnt get my ANU account to be able to embed files without everyone having to sign in). The plot is just for show at the moment - I dont think this example needs a plot. Note from Jed - also have to change the spreadsheet so as to mitigate the color highlighting The following R code can be used to perform the same calculations as in Display 3.1. R Code For Contingent Payment Example Time &lt;- c(0:10) CashFlow &lt;- c(250,800,500,1200,300,750,400,450,850,1500,100) SpotRate &lt;- c(0,0.005,0.008,0.012,0.017,0.023,0.03,0.03,0.03,0.03,0.03) vk &lt;- (1+SpotRate)^(-Time) Prob &lt;- c(0.07,0.06,0.09,0.17,0.11,0.1,0.02,0.09,0.02,0.16,0.08) # Expected Present Value calculation EPV &lt;- sum(CashFlow*vk*Prob) EPV # Standard Deviation of Present Value calculation CashFlowSq &lt;- CashFlow^2 vkSq &lt;- vk^2 VarPV &lt;- sum(CashFlowSq*vkSq*Prob)-EPV^2 VarPV StDevPV &lt;- sqrt(VarPV) StDevPV [1] 647.109159 [1] 161992.552 [1] 402.482984 You may notice from this example that the sum of the \\(\\Pr(_kB=1)\\) is 0.97 and not 1. For life contingent benefits, the probabilities typically come from a survival model as described in Chapter 2. The unaccounted for 0.03 probability simply represents the event that person has lived beyond the ten year period of this illustration; as there is no cash flow being made, there is no impact on the \\(PV\\) random variable. Appendix Section 3.6 provides additional examples of valuation of general cash flows under uncertainty. In the following, we focus on cash flows from life contingent contracts  here, the uncertainty of cash flows are governed by probabilities derived from the Chapter 2 lifetime models. 3.2 Life insurance benefits Chapter Structure Discussion Structure discussion.Im not sure how much of these sorts of notation and probability calculations will be in Chapter 2 and whether well need more basic probability calculations before this. It may make sense to have another chapter between Chapter 2 and this that focused on the life table and the various probability calculations coming from the life table  DHW do some of this in their Chapter 3 and incorporate things like mortality improvement and selection there as well. Promislow also does it in his Chapter 3. This section introduces some basic types of life insurance policies that have single cash payments triggered by the death of the insured. Instead of the Bernoulli random variable \\(_{k+1}B\\), we now use \\(I_{K_{\\bf{x}}=k}\\) to indicate payment in the \\(k+1\\)th period. That is, the random time of benefit payment is \\(K_{\\bf{x}}+1\\). The probability of this occurring is denoted as \\[ ~_{k|}q_{\\bf{x}} = \\Pr(K_{\\bf{x}}=k) \\] and, when \\(x\\) is a single age, we can write this as \\(~_{k|}q_{x} = ~_{k}p_{x} ~q_{x+k}\\). We find the random present value, its expectation, and the variance of the present value of the benefit cash flows of these policies using equations (3.2), (3.3), and (3.4). We also present standard notation that actuaries have developed for these calculations. This notation assumes that all cash flows \\(_kC\\) are \\(1\\) for simplification. Also, unless otherwise noted, we assume that benefits are paid at the end of the year. 3.2.1 Whole of life insurance Under a whole of life policy the insurer pays a benefit because of the death of the policyholder, with payment made at the end of the year of death. This system is illustrated on a timeline in Figure 3.2, with the \\(PV\\), \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) of the benefit cash flows shown below. Since the cash flow is contingent on the death of the policyholder only one payment can be made and hence the calculation of \\(\\mathrm{Var}(PV)\\) from equation (3.4) is valid. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(3,9)) arrows(3,6,9,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(6,6.2,6,5.8,code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(6,7,&quot;3&quot;) text(7.5,7,&quot;...&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(6,8,&quot;x+3&quot;) text(7.5,8,&quot;...&quot;) text(1,5,&quot;Cash Flow&quot;) text(4,5,&quot;1&quot;) text(5,5,&quot;1&quot;) text(6,5,&quot;1&quot;) text(7.5,5,&quot;...&quot;) text(1,4,&quot;Probability&quot;) text(4,4,TeX(&quot;q_x&quot;)) text(5,4,TeX(&quot;_{1|}q_x&quot;)) text(6,4,TeX(&quot;_{2|}q_x&quot;)) text(7.5,4,&quot;...&quot;) box(col = &#39;lightblue&#39;) Figure 3.2: Timeline of benefit cash flows from a whole of life insurance policy We summarize the random variable, mean and variance as follows: \\[ \\require{enclose} \\boxed{ \\begin{array}{rcccccc} PV &amp;=&amp; v^{K_{\\bf{x}}+1} \\\\ &amp;=&amp; \\sum_{k=0}^{\\infty} v^{k+1} ~I_{K_{\\bf{x}}=k} \\\\ \\mathrm{E}(PV) &amp;=&amp; \\sum_{k=0}^{\\infty} v^{k+1} ~_{k|}q_{\\bf{x}} &amp;=&amp; A_{\\bf{x}}\\\\ \\mathrm{Var}(PV) &amp;=&amp; \\sum_{k=0}^{\\infty} \\left( v^{k+1} \\right)^2 ~_{k|}q_{\\bf{x}} - [\\mathrm{E}(PV)]^2 &amp;=&amp; ~^2A_{\\bf{x}} - \\left( A_{\\bf{x}} \\right) ^2 .\\\\ \\end{array} } \\tag{3.7} \\] This display introduces the actuarial symbols \\(A_{\\bf{x}}\\) and \\(^2A_{\\bf{x}}\\). Here, \\(A_{\\bf{x}}\\) represents the expected present value of the benefits from a whole of life policy on \\(\\bf{x}\\). Similarly, \\(^2A_{\\bf{x}}\\) represents the expected squared present value of the benefits from the same whole of life policy and is used for calculating the variance of the present value. Life insurance actuarial symbols are summarized in Appendix Section 6.1.2. Example 3.2. Life Insurance by Age and Gender. To illustrate, consider the Indonesian insurance mortality introduced in Section 2.7. Figure 3.3 summarizes the expected presented values \\(A_x\\) by age and gender. Not surprisingly, values of \\(A_x\\) vary by age \\(x\\). Also, for many ages, there are important differences between male and female values. Women tend to enjoy lower mortality rates and so have lower values of \\(A_x\\). Figure 3.3: Life Insurance by Age and Gender. Female life insurance expected values are given in the red open symbols, males are represented with the blue solid line. 3.2.2 Term insurance Under a term insurance policy the insurer pays a benefit because of the death of the policyholder within a specified term \\(n\\) of the policy, with payment made at the end of the year of death. Hence, like whole of life insurance, the payment is made at time \\(K_{\\bf{x}}+1\\), as long as \\(K_{\\bf{x}}+1\\) is less than or equal to the \\(n\\) year term of the policy. This system is illustrated on a timeline in Figure 3.4, with the \\(PV\\), \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) of the benefit cash flows shown below. Because the cash flow is contingent on the death of the policyholder, only one payment can be made and hence the calculation of \\(\\mathrm{Var}(PV)\\) from equation (3.4) is valid. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(3,9)) arrows(3,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(10,6.2,10,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8, code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(7.5,7,&quot;...&quot;) text(10,7,&quot;n-1&quot;) text(11,7,&quot;n&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(7.5,8,&quot;...&quot;) text(10,8,&quot;x+n-1&quot;) text(11,8,&quot;x+n&quot;) text(1,5,&quot;Cash Flow&quot;) text(4,5,&quot;C&quot;) text(5,5,&quot;C&quot;) text(7.5,5,&quot;...&quot;) text(10,5,&quot;C&quot;) text(11,5,&quot;C&quot;) text(1,4,&quot;Probability&quot;) text(4,4,TeX(&quot;q_x&quot;)) text(5,4,TeX(&quot;_{1|}q_x&quot;)) text(7.5,4,&quot;...&quot;) text(10,4,TeX(&quot;_{n-2|}q_x&quot;)) text(11,4,TeX(&quot;_{n-1|}q_x&quot;)) box(col = &#39;lightblue&#39;) Figure 3.4: Timeline of benefit cash flows from a term insurance policy \\[ \\boxed{ \\begin{array}{rl} PV &amp;= v^{K_{\\bf{x}}+1} I_{K_{\\bf{x}}+1 \\le n} = \\left \\{\\begin{array}{cl} v^{K_{\\bf{x}}+1} &amp; \\text{where } K_{\\bf{x}}+1 \\le n \\\\ 0 &amp; \\text{where } K_{\\bf{x}}+1 &gt; n \\\\ \\end{array} \\right. \\\\ &amp;= \\sum_{k=0}^{n-1} v^{k+1} ~I_{K_{\\bf{x}}=k} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{n-1} v^{k+1} ~_{k|}q_{\\bf{x}} = A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1}\\\\ \\mathrm{Var}(PV) &amp;= \\sum_{k=0}^{n-1} \\left( v^{k+1} \\right)^2 ~_{k|}q_{\\bf{x}} - [\\mathrm{E}(PV)]^2 = ~^2A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1} - \\left( A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1} \\right)^2 . \\\\ \\end{array} } \\tag{3.8} \\] Display (3.8) introduces the actuarial symbols \\(A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1}\\) and \\(^2A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1}\\). Here, \\(A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1}\\) represents the expected present value of the benefits from a term insurance policy on \\(\\bf{x}\\) of term \\(n\\) years. Similarly, \\(^2A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1}\\) represents the expected squared present value of the benefits from the same term insurance policy. It is used for calculating the variance of the present value as per equation (3.2). 3.2.3 Pure endowment Under a pure endowment policy the insurer pays a benefit because of the survival of the policyholder for the \\(n\\) year term of the policy. In Chapter 2 we defined the random variable \\(T_{\\bf{x}}\\) as being the exact death time (measured in years from the current time) of \\(\\bf{x}\\). The time of the benefit payment is \\(n\\) but is dependent upon \\(T_{\\bf{x}}\\). This system is illustrated on a timeline in Figure 3.5, with the \\(PV\\), \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) of the benefit cash flows shown below. Since the cash flow is contingent on the death of the policyholder only one payment can be made and hence the calculation of \\(\\mathrm{Var}(PV)\\) from equation (3.4) is valid. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(3,9)) arrows(3,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8, code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(11,7,&quot;n&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(11,8,&quot;x+n&quot;) text(1,5,&quot;Cash Flow&quot;) text(11,5,&quot;1&quot;) text(1,4,&quot;Probability&quot;) text(11,4,TeX(&quot;_np_{\\\\textbf{x}}}&quot;)) box(col = &#39;lightblue&#39;) Figure 3.5: Timeline of benefit cash flows from a pure endowment policy \\[ \\boxed{ \\begin{array}{rll} PV &amp;= v^n I_{T_{\\bf{x}}&gt;n} &amp;= \\left \\{\\begin{array}{cl} 0 &amp; \\text{where } T_{\\bf{x}} \\le n \\\\ v^n &amp; \\text{where } T_{\\bf{x}} &gt; n \\\\ \\end{array} \\right. \\\\ \\mathrm{E}(PV) &amp;= v^n {_np_{\\bf{x}}} &amp;= A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {\\space \\space \\space \\space \\space 1} \\\\ \\mathrm{Var}(PV) &amp;= v^{2n} {_np_{\\bf{x}}}(1-{_np_{\\bf{x}}}) . \\end{array} } \\tag{3.9} \\] This display introduces the actuarial symbol \\(A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {\\space \\space \\space \\space \\space 1}\\). Here, \\(A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {\\space \\space \\space \\space \\space 1}\\) represents the expected present value of the benefits from a pure endowment policy on \\(\\bf{x}\\) of term \\(n\\) years. Unlike whole of life and term insurance we do not define notation for the expected squared present value of the benefits from the same pure endowment policy as the variance of the present value is simple to express without it, since the \\(PV\\) is effectively \\(v^n\\) multiplied by a Bernoulli random variable with parameter \\({_np_{\\bf{x}}}\\). 3.2.4 Endowment insurance An endowment insurance policy is effectively a combination of a term insurance and pure endowment policy. The insurer pays a benefit at the end of the year of death if the policyholders death occurs within the term \\(n\\) of the policy, or at time \\(n\\) if the policyholder survives until the term \\(n\\). This system can be illustrated on a timeline as can be seen in Figure 3.6, with the \\(PV\\), \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\) of the benefit cash flows shown below. Since the cash flow is contingent on the death of the policyholder only one payment can be made and hence the calculation of \\(\\mathrm{Var}(PV)\\) from equation (3.4) is valid. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(2.5,9)) arrows(3,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(10,6.2,10,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8, code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(7.5,7,&quot;...&quot;) text(10,7,&quot;n-1&quot;) text(11,7,&quot;n&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(7.5,8,&quot;...&quot;) text(10,8,&quot;x+n-1&quot;) text(11,8,&quot;x+n&quot;) text(1,5,&quot;Cash Flow&quot;) text(4,5,&quot;1&quot;) text(5,5,&quot;1&quot;) text(7.5,5,&quot;...&quot;) text(10,5,&quot;1&quot;) text(11,5,&quot;1&quot;) text(1,3.5,&quot;Probability&quot;) text(4,4,TeX(&quot;q_x&quot;)) text(5,4,TeX(&quot;_{1|}q_x&quot;)) text(7.5,4,&quot;...&quot;) text(10,4,TeX(&quot;_{n-2|}q_x&quot;)) text(11,4,TeX(&quot;_{n-1|}q_x&quot;)) text(11,3,TeX(&quot;+_np_x&quot;)) box(col = &#39;lightblue&#39;) Figure 3.6: Timeline of benefit cash flows from an endowment insurance policy \\[ \\boxed{ {\\small \\begin{array}{rcccccccc} PV &amp;=&amp; v^{\\text {min} \\left[ K_{\\bf{x}}+1 , n \\right]} \\ \\ \\ \\ \\ \\ \\ = \\left \\{\\begin{array}{cl} v^{K_{\\bf{x}}+1} &amp; \\text{where } K_{\\bf{x}}+1 \\le n \\\\ v^n &amp; \\text{where } K_{\\bf{x}}+1 &gt; n \\\\ \\end{array} \\right. \\\\ &amp;=&amp; \\sum_{k=0}^{n-1} v^{k+1} ~I_{K_{\\bf{x}}=k} + v^n ~I_{K_{\\bf{x}}+1 &gt; n} \\\\ \\mathrm{E}(PV) &amp;=&amp; \\sum_{k=0}^{n-1} v^{k+1} ~_{k|}q_{\\bf{x}} + v^n ~_np_{\\bf{x}} &amp;=&amp; A_{{\\bf{x}}:\\enclose{actuarial}{n}} = A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1} + A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {\\space \\space \\space \\space \\space 1} \\\\ \\mathrm{Var}(PV) &amp;=&amp; \\sum_{k=0}^{n-1} \\left( v^{k+1} \\right)^2 ~_{k|}q_{\\bf{x}} + v^{2n} ~_np_{\\bf{x}} - [\\mathrm{E}(PV)]^2 &amp;=&amp; ~^2A_{{\\bf{x}}:\\enclose{actuarial}{n}} - \\left( A_{{\\bf{x}}:\\enclose{actuarial}{n}} \\right)^2 .\\\\ \\end{array} } } \\tag{3.10} \\] This display introduces the actuarial symbols \\(A_{{\\bf{x}}:\\enclose{actuarial}{n}}\\) and \\(^2A_{{\\bf{x}}:\\enclose{actuarial}{n}}\\). Here, \\(A_{{\\bf{x}}:\\enclose{actuarial}{n}}\\) represents the expected present value of the benefits from a endowment insurance policy on \\(\\bf{x}\\) of term \\(n\\) years. Similarly, \\(^2A_{{\\bf{x}}:\\enclose{actuarial}{n}}\\) represents the expected squared present value of the benefits from the same endowment insurance policy and is used for calculating the variance of the present value as per equation (3.2). 3.3 Life annuity benefits This section introduces several basic types of life annuity policies. As with Section 3.2, this notation assumes that all cash flows \\(_kC\\) are \\(1\\) for simplification. Life annuity actuarial symbols are summarized in Appendix Section 6.1.3. 3.3.1 Life annuity Under a life annuity policy the insurer pays regular benefits to policyholders whilst they are alive. An annuity payable in advance has benefits paid at the start of the year, while an annuity payable in arrears has benefits paid at the end of the year. This system is illustrated on a timeline in Figure 3.7. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(2,9)) arrows(3,6,9,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(6,6.2,6,5.8,code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(6,7,&quot;3&quot;) text(7.5,7,&quot;...&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(6,8,&quot;x+3&quot;) text(7.5,8,&quot;...&quot;) text(1,5,&quot;Cash Flow&quot;) text(3,5,&quot;1&quot;) text(4,5,&quot;1&quot;) text(5,5,&quot;1&quot;) text(6,5,&quot;1&quot;) text(7.5,5,&quot;...&quot;) text(1,4,&quot;Prob (advance)&quot;) text(3,4,TeX(&quot;1&quot;)) text(4,4,TeX(&quot;_1p_x&quot;)) text(5,4,TeX(&quot;_2p_x&quot;)) text(6,4,TeX(&quot;_3p_x&quot;)) text(7.5,4,&quot;...&quot;) text(1,3,&quot;Prob (arrears)&quot;) text(4,3,TeX(&quot;_1p_x&quot;)) text(5,3,TeX(&quot;_2p_x&quot;)) text(6,3,TeX(&quot;_3p_x&quot;)) text(7.5,3,&quot;...&quot;) box(col = &#39;lightblue&#39;) Figure 3.7: Timeline of benefit cash flows from a life annuity policy The following displays summarize the \\(PV\\) and \\(\\mathrm{E}(PV)\\) of the benefit cash flows. For payments in advance, we have: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= 1+v^{1}+v^{2}+ \\cdots +v^{K_{\\bf{x}}} = \\sum_{k=0}^{K_{\\bf{x}}} v^k \\\\ &amp;= \\sum_{k=0}^{\\infty} v^{k} ~I_{K_{\\bf{x}} \\ge k} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{\\infty} v^{k} ~_kp_{\\bf{x}} = \\ddot{a}_{\\bf{x}} .\\\\ \\end{array} } \\tag{3.11} \\] For payments in arrears, we have: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= v^{1}+v^{2}+ \\cdots +v^{K_{\\bf{x}}} \\\\ &amp;= \\sum_{k=0}^{\\infty} v^{k+1} ~I_{K_{\\bf{x}} \\ge k+1} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{\\infty} v^{k+1} ~_{k+1}p_{\\bf{x}} = {a}_{\\bf{x}} = \\ddot{a}_{\\bf{x}} - 1 .\\\\ \\end{array} } \\tag{3.12} \\] These displays introduce the actuarial symbols \\(\\ddot{a}_{\\bf{x}}\\) and \\({a}_{\\bf{x}}\\). Here, \\(\\ddot{a}_{\\bf{x}}\\) and \\({a}_{\\bf{x}}\\) represent the expected present value of the benefits from a life annuity policy on \\(\\bf{x}\\), in advance and in arrears respectively. The variance of present values can be calculated using the general expression in equation (3.6) with, in this special case, \\(~_kIC\\) \\(\\require{enclose}=v^{2k}+ 2v^{k} \\ddot{a}_{\\enclose{actuarial}{k}}\\). A special case of interest occurs when the yield curve is flat so that \\(_ki=i\\). Then, the \\(PV\\) in equations (3.9) and (3.10) above can also be expressed using actuarial notation from financial mathematics. For example, for a life annuity in advance: \\[ PV =1+v^{1}+v^{2}+\\cdots +v^{K_{\\bf{x}}} \\space = \\ddot{a}_{\\enclose{actuarial}{K_{\\bf{x}}+1}} = \\frac{1+i}{i} \\left( 1-v^{K_{\\bf{x}}+1} \\right) . \\tag{3.13} \\] Remember that the present value of benefits from a whole of life policy is equal to \\(v^{K_{\\bf{x}}+1}\\). Therefore this relationship can be used to examine a relationship between life annuities and whole of life policies, starting from the \\(PV\\) of a life annuity in advance as follows: \\[ \\boxed{ \\begin{array}{rcccccccc} PV &amp;=&amp; \\frac{1+i}{i} \\left( 1-v^{K_{\\bf{x}}+1} \\right) \\\\ \\mathrm{E}(PV) &amp;=&amp; \\mathrm{E} \\left[ \\frac{1+i}{i} \\left(1-v^{K_{\\bf{x}}+1} \\right) \\right] &amp;=&amp; \\frac{1+i}{i} \\left(1- \\mathrm{E} \\left[ v^{K_{\\bf{x}}+1} \\right] \\right) \\\\ \\ddot{a}_{\\bf{x}} &amp;=&amp; \\frac{1+i}{i} \\left(1- A_{\\bf{x}} \\right) \\\\ \\mathrm{Var}(PV) &amp;=&amp; \\mathrm{Var} \\left[ \\frac{1+i}{i} \\left(1-v^{K_{\\bf{x}}+1} \\right) \\right] \\\\ &amp;=&amp; \\left( \\frac{1+i}{i} \\right) ^2 \\mathrm{Var} \\left[ v^{K_{\\bf{x}}+1} \\right] &amp;=&amp; \\left( \\frac{1+i}{i} \\right) ^2 \\left( ~^2A_{\\bf{x}} - \\left( A_{\\bf{x}} \\right) ^2 \\right) . \\end{array} } \\tag{3.14} \\] The relationships in equations (3.13) and (3.14) hold only when \\(_ki = i\\), but do provide an intuitive calculation of the variance of the present value of a life annuity. However, the restrictive assumption of a flat yield curve makes this relationship less useful in practice and so we will not consider it in further detail. Example 3.3. Life Annuities by Age, Interest Rate, and Gender. To illustrate, we return to the Indonesian insurance mortality used in Example 3.2. Figure 3.8 summarizes the expected presented values \\(\\ddot{a}_x\\) by age, interest rate, and gender. As with insurances, for many ages, there are important differences between male and female values. Because women tend to enjoy lower mortality rates, they have higher values of \\(\\ddot{a}_x\\). Not surprisingly, values of \\(\\ddot{a}_x\\) vary by age \\(x\\) and interest rate \\(i\\). The figure emphasizes that the interest rate produces greater differences in \\(\\ddot{a}_x\\) for younger ages than older ages. Figure 3.8: Life Annuities by Age, Interest Rate, and Gender. Male annuities are in the left-hand panel, those for females are in the right. For both panels, each line corresponds to an interest rates with the top line being \\(i=0\\) and the bottom line being \\(i=0.06\\). Figure 3.8a. Interactive Version of Figure 3.8. Use the mouse to rotate the figure to see different perspectives. One can use this plot to motivate a type of multiplicative effect that an interest rate and age has on an annuity value. 3.3.2 Term life annuity Under a term life annuity policy the insurer pays benefits to policyholders whilst they are alive, for a maximum of \\(n\\) periods. For annuities in advance and in arrears, this system is illustrated on a timeline in Figure 3.9, with the \\(PV\\) and \\(\\mathrm{E}(PV)\\) of the benefit cash flows shown below. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(2,9)) arrows(3,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(10,6.2,10,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8, code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(7.5,7,&quot;...&quot;) text(10,7,&quot;n-1&quot;) text(11,7,&quot;n&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(7.5,8,&quot;...&quot;) text(10,8,&quot;x+n-1&quot;) text(11,8,&quot;x+n&quot;) text(1,5,&quot;Cash Flow&quot;) text(3,5,&quot;1&quot;) text(4,5,&quot;1&quot;) text(5,5,&quot;1&quot;) text(7.5,5,&quot;...&quot;) text(10,5,&quot;1&quot;) text(11,5,&quot;1&quot;) text(1,4,&quot;Prob (advance)&quot;) text(3,4,&quot;1&quot;) text(4,4,TeX(&quot;_1p_x&quot;)) text(5,4,TeX(&quot;_2p_x&quot;)) text(7.5,4,&quot;...&quot;) text(10,4,TeX(&quot;_{n-1}p_x&quot;)) text(1,3,&quot;Prob (arrears)&quot;) text(4,3,TeX(&quot;_1p_x&quot;)) text(5,3,TeX(&quot;_2p_x&quot;)) text(7.5,3,&quot;...&quot;) text(10,3,TeX(&quot;_{n-1}p_x&quot;)) text(11,3,TeX(&quot;_np_x&quot;)) box(col = &#39;lightblue&#39;) Figure 3.9: Timeline of benefit cash flows from a term life annuity policy In advance: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= 1+v^{1}+v^{2}+ \\cdots +v^{\\text{min}[K_{\\bf{x}},n-1]} \\\\ &amp;= \\sum_{k=0}^{n-1} v^{k} ~I_{K_{\\bf{x}} \\ge k} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{n-1} v^k ~_kp_{\\bf{x}} = \\ddot{a}_{{\\bf{x}}:\\enclose{actuarial}{n}} .\\\\ \\end{array} } \\tag{3.15} \\] In arrears: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= v^{1}+v^{2}+ \\cdots +v^{\\text{min}[K_{\\bf{x}},n]} \\\\ &amp;= \\sum_{k=0}^{n-1} v^{k+1} ~I_{K_{\\bf{x}} \\ge k+1} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{n-1} v^{k+1} ~_{k+1}p_{\\bf{x}} = {a}_{{\\bf{x}}:\\enclose{actuarial}{n}} .\\\\ \\end{array} } \\tag{3.16} \\] These displays introduce the actuarial symbols \\(\\ddot{a}_{{\\bf{x}}:\\enclose{actuarial}{n}}\\) and \\({a}_{{\\bf{x}}:\\enclose{actuarial}{n}}\\). Here, \\(\\ddot{a}_{{\\bf{x}}:\\enclose{actuarial}{n}}\\) and \\({a}_{{\\bf{x}}:\\enclose{actuarial}{n}}\\) represent the expected present value of the benefits from a term life annuity policy on \\(\\bf{x}\\), in advance and in arrears respectively. The variance of present values can be calculated using the general expressions in equations (3.5) and (3.6). 3.3.3 Deferred life annuity Under a deferred life annuity policy the insurer pays benefits to policyholders whilst they are alive, but only after a deferral period of \\(n\\) periods. For annuities in advance and in arrears, this system is illustrated on a timeline in Figure 3.10, with the \\(PV\\) and \\(\\mathrm{E}(PV)\\) of the benefit cash flows shown below. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(2,9)) arrows(3,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(10,6.2,10,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8, code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(6.5,7,&quot;...&quot;) text(8,7,&quot;n-1&quot;) text(9,7,&quot;n&quot;) text(10,7,&quot;n+1&quot;) text(11,7,&quot;n+2&quot;) text(12,7,&quot;...&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(6.5,8,&quot;...&quot;) text(8,8,&quot;x+n-1&quot;) text(9,8,&quot;x+n&quot;) text(10,8,&quot;x+n+1&quot;) text(11.25,8,&quot;x+n+2&quot;) text(12.3,8,&quot;...&quot;) text(1,5,&quot;Cash Flow&quot;) text(9,5,&quot;1&quot;) text(10,5,&quot;1&quot;) text(11,5,&quot;1&quot;) text(12,5,&quot;...&quot;) text(1,4,&quot;Prob (advance)&quot;) text(9,4,TeX(&quot;_{n}p_x&quot;)) text(10,4,TeX(&quot;_{n+1}p_x&quot;)) text(11,4,TeX(&quot;_{n+2}p_x&quot;)) text(12,4,&quot;...&quot;) text(1,3,&quot;Prob (arrears)&quot;) text(10,3,TeX(&quot;_{n+1}p_x&quot;)) text(11,3,TeX(&quot;_{n+2}p_x&quot;)) text(12,3,&quot;...&quot;) box(col = &#39;lightblue&#39;) Figure 3.10: Timeline of benefit cash flows from a deferred life annuity policy In advance: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= \\left \\{\\begin{array}{cl} 0 &amp; \\text{where } T_{\\bf{x}} &lt; n \\\\ v^{n}+v^{n+1}+v^{n+2}+ \\cdots +v^{K_{\\bf{x}}} &amp; \\text{where } T_{\\bf{x}} \\ge n \\\\ \\end{array} \\right. \\\\ &amp;= \\sum_{k=n}^{\\infty} v^{k} ~I_{K_{\\bf{x}} \\ge k} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=n}^{\\infty} v^k ~_kp_{\\bf{x}} = ~_{n|}\\ddot{a}_{\\bf{x}} = \\ddot{a}_{\\bf{x}} - \\ddot{a}_{{\\bf{x}}:\\enclose{actuarial}{n}} .\\\\ \\end{array} } \\tag{3.17} \\] In arrears: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= \\left \\{\\begin{array}{cl} 0 &amp; \\text{where } T_{\\bf{x}} &lt; n+1 \\\\ v^{n+1}+v^{n+2}+ \\cdots +v^{K_{\\bf{x}}} &amp; \\text{where } T_{\\bf{x}} \\ge n+1 \\\\ \\end{array} \\right. \\\\ &amp;= \\sum_{k=n}^{\\infty} v^{k+1} ~I_{K_{\\bf{x}} \\ge k+1} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=n}^{\\infty} v^{k+1} ~_{k+1}p_{\\bf{x}} = ~_{n|}{a}_{\\bf{x}} = {a}_{\\bf{x}} - {a}_{{\\bf{x}}:\\enclose{actuarial}{n}} .\\\\ \\end{array} } \\tag{3.18} \\] These displays introduce the actuarial symbols \\(_{n|}\\ddot{a}_{\\bf{x}}\\) and \\(_{n|}{a}_{\\bf{x}}\\). Here, \\(_{n|}\\ddot{a}_{\\bf{x}}\\) and \\(_{n|}{a}_{\\bf{x}}\\) represent the expected present value of the benefits from a deferred life annuity policy on \\(\\bf{x}\\), in advance and in arrears respectively. 3.3.4 Guaranteed life annuity A guaranteed life annuity policy is the same as a life annuity policy, except that the benefits are guaranteed to be paid for a minimum of \\(n\\) periods. For annuities in advance and in arrears, this system is illustrated on a timeline in Figure 3.11, with the \\(PV\\) and \\(\\mathrm{E}(PV)\\) of the benefit cash flows shown below. R Code For Figure plot.new() par(mar = c(0,0,0,0) + 0.1) plot.window(xlim=c(0,14),ylim=c(2,9)) arrows(3,6,13,6,code=2,lwd=2,angle=45,length=0.10) arrows(3,6.2,3,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(4,6.2,4,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(5,6.2,5,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(10,6.2,10,5.8,code=0,lwd=2,angle=0,length=0.10) arrows(11,6.2,11,5.8, code=0,lwd=2,angle=0,length=0.10) library(latex2exp) text(1,7,&quot;Contract Time&quot;) text(3,7,&quot;0&quot;) text(4,7,&quot;1&quot;) text(5,7,&quot;2&quot;) text(6.5,7,&quot;...&quot;) text(8,7,&quot;n-1&quot;) text(9,7,&quot;n&quot;) text(10,7,&quot;n+1&quot;) text(11,7,&quot;n+2&quot;) text(12,7,&quot;...&quot;) text(1,8,&quot;Insured Age&quot;) text(3,8,&quot;x&quot;) text(4,8,&quot;x+1&quot;) text(5,8,&quot;x+2&quot;) text(6.5,8,&quot;...&quot;) text(8,8,&quot;x+n-1&quot;) text(9,8,&quot;x+n&quot;) text(10,8,&quot;x+n+1&quot;) text(11.25,8,&quot;x+n+2&quot;) text(12.3,8,&quot;...&quot;) text(1,5,&quot;Cash Flow&quot;) text(3,5,&quot;1&quot;) text(4,5,&quot;1&quot;) text(5,5,&quot;1&quot;) text(6.5,5,&quot;...&quot;) text(8,5,&quot;1&quot;) text(9,5,&quot;1&quot;) text(10,5,&quot;1&quot;) text(11,5,&quot;1&quot;) text(12,5,&quot;...&quot;) text(1,4,&quot;Prob (advance)&quot;) text(3,4,&quot;1&quot;) text(4,4,TeX(&quot;1&quot;)) text(5,4,TeX(&quot;1&quot;)) text(6.5,4,&quot;...&quot;) text(8,4,TeX(&quot;1&quot;)) text(9,4,TeX(&quot;_{n}p_x&quot;)) text(10,4,TeX(&quot;_{n+1}p_x&quot;)) text(11,4,TeX(&quot;_{n+2}p_x&quot;)) text(12,4,&quot;...&quot;) text(1,3,&quot;Prob (arrears)&quot;) text(4,3,TeX(&quot;1&quot;)) text(5,3,TeX(&quot;1&quot;)) text(6.5,3,&quot;...&quot;) text(8,3,TeX(&quot;1&quot;)) text(9,3,TeX(&quot;1&quot;)) text(10,3,TeX(&quot;_{n+1}p_x&quot;)) text(11,3,TeX(&quot;_{n+2}p_x&quot;)) text(12,3,&quot;...&quot;) box(col = &#39;lightblue&#39;) Figure 3.11: Timeline of benefit cash flows from a guaranteed life annuity policy In advance: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= 1+v^{1}+v^{2}+ \\cdots +v^{\\text{max}[K_{\\bf{x}},n-1]} \\\\ &amp;= \\sum_{k=0}^{n-1} v^{k} + \\sum_{k=n}^{\\infty} v^{k} ~I_{K_{\\bf{x}} \\ge k} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{n-1} v^k + \\sum_{k=n}^{\\infty} v^k ~_kp_{\\bf{x}} = \\ddot{a}_{\\overline{{\\bf{x}}:\\enclose{actuarial}{n}}} = \\ddot{a}_{\\enclose{actuarial}{n}} + ~_{n|}\\ddot{a}_{\\bf{x}} .\\\\ \\end{array} } \\tag{3.19} \\] In arrears: \\[ \\boxed{ \\begin{array}{rl} PV &amp;= v^{1}+v^{2}+ \\cdots +v^{\\text{max}[K_{\\bf{x}},n]} \\\\ &amp;= \\sum_{k=0}^{n-1} v^{k+1} + \\sum_{k=n}^{\\infty} v^{k+1} ~I_{K_{\\bf{x}} \\ge k+1} \\\\ \\mathrm{E}(PV) &amp;= \\sum_{k=0}^{n-1} v^{k+1} + \\sum_{k=n}^{\\infty} v^{k+1} ~_{k+1}p_{\\bf{x}} = {a}_{\\overline{{\\bf{x}}:\\enclose{actuarial}{n}}} = {a}_{\\enclose{actuarial}{n}} + ~_{n|}{a}_{\\bf{x}} .\\\\ \\end{array} } \\tag{3.20} \\] These displays introduce the actuarial symbols \\(\\ddot{a}_{\\overline{{\\bf{x}}:\\enclose{actuarial}{n}}}\\) and \\({a}_{\\overline{{\\bf{x}}:\\enclose{actuarial}{n}}}\\). Here, \\(\\ddot{a}_{\\overline{{\\bf{x}}:\\enclose{actuarial}{n}}}\\) and \\({a}_{\\overline{{\\bf{x}}:\\enclose{actuarial}{n}}}\\) represent the expected present value of the benefits from a deferred life annuity policy on \\(\\bf{x}\\), in advance and in arrears respectively. 3.4 Valuing life contingent benefits using a spreadsheet Traditional approaches to valuing life insurances and life annuities, presented in Sections 3.2 and 3.3 respectively, emphasize constant cash amounts (taken to be one without loss of generality) and constant rates of interest. Although important, there are also many instances where cash benefits and interest rates can vary over time. An advantage of a spreadsheet or a flexible programming approach is that there are no important restrictions on the cash flows nor interest rates, as long as they are known in advance. The structure presented in Section 3.1 readily accommodates these extensions. So, to see how they might work in practice, in this section we show the important calculations using a spreadsheet approach. That is, the calculations are performed in a spreadsheet in such a way to allow flexibility to adjust age (\\(x\\)), term (\\(n\\)), cash flows (\\(_kC\\)), interest rates (\\(_ki\\)) and life table mortality rates (\\(q_x\\)). Display 3.2 shows a workbook that can be viewed and downloaded. Display 3.2. Spreadsheet Calculations of Life Contingent Benefits There are three tabs in the Display 3.2 worksheet. Initially appearing is the third tab called Assum &amp; Outp - var C that contains calculations and results, allowing for a variable \\(_kC\\). The calculations are performed using the first principles of equations (3.2), (3.3) and (3.4). Cells highlighted in yellow can be changed to adjust \\(x\\), \\(n\\), \\(_kC\\) and \\(_ki\\). Cells highlighted in orange provide the output calculations for the benefits described in Section 3.2. Similar timing conventions are adopted to that of the previous worksheet, with the cash flows occurring at the beginning (\\(k\\)) or end (\\(k+1\\)) of the year. The first tab, denoted as Life Table, contains yellow highlighted \\(q_x\\) cells can be adjusted as desired. The second tab, denoted as Assum &amp; Outp - fixed C, contains calculations and results, assuming that \\(_kC\\) equals a fixed \\(C\\). This allows the use of the notation introduced in Section 3.2. Cells highlighted in yellow can be changed to adjust \\(x\\), \\(n\\), \\(C\\) and \\(_ki\\). Cells highlighted in orange provide the output calculations for the benefits described in Section 3.2. In this and the next worksheet a column Year is introduced which is equal to \\(k+1\\). The column is introduced so that we may think of the cash flows as related to a profit year for an insurer, which we will introduce in Chapter X. Various calculation columns for both \\(k\\) and \\(k+1\\) are calculated, to account for cash flows occurring at the beginning of the year (e.g. life annuities in advance) and cash flows occurring at the end of a year (e.g. life annuities in arrears) whilst still allocating these cash flows to the same year. You are recommended to review the formulae in the workbook against those found in Section 3.1 and 3.2, to confirm your understanding of how to perform the calculations in a spreadsheet package. The calculations are not performed in R, although a case study using R will be provided in Section 3.5. Chapter Structure Discussion Note for author to complete. There are many exercises and examples that could follow on from this which will need to be considered. I also need to update the actuarial notation in a spreadsheet (the cells highlighted green) 3.5 Case Study: A portfolio of term insurance policies Now let us consider a collection, or portfolio, of several contracts. For simplicity, we assume that all contracts are of the term insurance type introduced in Section 3.2.2 although this is certainly not necessary. We do allow contract policyholders to have different ages and gender as well as choosing different contract terms and amounts insured. For notation, we use the subscript \\(j\\) to differentiate among contracts and so denote individual features as \\({\\bf{x}}_j\\) where \\(j = 1,2, \\ldots,J\\) using \\(J\\) for the number of contracts. We constructed a portfolio that mimics others that we have seen in practice. We assume that policyholders from the final year of the insurer data (i.e. Month 780) purchase a term insurance policy, giving us \\(J=190\\). The policyholder data can be obtained by clicking on this link. For illustrative purposes, we assume that mortality follows US 2010-14 female or male rates (depending on the policyholder) as described in Section 2.4.1. For these data, it turns out that there 136 females and 54 males in the portfolio. Figure 3.12 summarizes the distributions of initial ages, contract terms, and sums insured. R Code to Summarize Policyholder Information from the Portfolio PolHold &lt;- read.csv(&quot;Data/SyntheticInsurerDataCh3CS.csv&quot;) #sum(PolHold$Sex) #136 ones par(mfrow=c(1,3)) hist(PolHold$Age, main = &quot;&quot;, xlab = &quot;Age&quot;) hist(PolHold$Term, main = &quot;&quot;, xlab = &quot;Term&quot;) hist(PolHold$SumInsured/1000, main = &quot;&quot;, xlab = &quot;Sum Insured (000)&quot;) MortRates &lt;- read.csv(&quot;Data/HMDmx.csv&quot;) # Importing mortality data into R MortRates$qx &lt;- 1-exp(-MortRates$mx) Figure 3.12: Portfolio Characteristics 3.5.1 An individual policy To see how valuation of these uncertain cash flows work, we start by examining a single policy from the portfolio. Specifically, we consider a female aged \\(x=49\\) at the purchase of the policy. Further we assume this individual has purchased a term insurance policy with term \\(n=10\\) years with a sum insured of $400,000 (\\(=~_kC\\)) and that we wish to value the policy immediately after purchase. As noted above, the mortality probability is expected to follow the US 2010-14 female rates described in Section 2.4.1. In our calculations, we start by assuming an interest rate of 2% per annum effective. As we did in Section 3.4, we can begin the valuation calculations of \\(\\mathrm{E}(PV)\\) and \\(\\mathrm{Var}(PV)\\), based on the results from equation (3.8), using a spreadsheet. (note that to maintain flexibility the notation from Section 3.2 is not used): Display 3.3. Valuation of an individual policy The following R code can be used to perform the same calculations as the spreadsheet above. R Code For Term Insurance Individual Example Year &lt;- c(1:10) CashFlow &lt;- 400000 SpotRate &lt;- 0.02 vk &lt;- (1+SpotRate)^(-Year) mx &lt;- c(0.002956,0.003216,0.003507,0.003786,0.004023,0.004360,0.004670,0.005022,0.005390,0.005724) #Bringing in the mx values from the US2010-14 female life tables qx &lt;- 1-exp(-mx) kpx &lt;- numeric(length(Year)) # Initialising probability of survival to be used in the loop below qxdef &lt;- numeric(length(Year)) # Initialising deferred probability of death to be used in the loop below kpx[1] &lt;- 1 qxdef[1] &lt;- kpx[1]*qx[1] for(i in 2:length(Year)){ # Calulates probability of survival and deferred probability of death for future years kpx[i] &lt;- kpx[i-1]*(1-qx[i-1]) qxdef[i]&lt;-kpx[i]*qx[i] } # Expected Present Value calculation EPV &lt;- sum(CashFlow*vk*qxdef) EPV # Standard Deviation of Present Value calculation CashFlowSq &lt;- CashFlow^2 vkSq &lt;- vk^2 VarPV &lt;- sum(CashFlowSq*vkSq*qxdef)-EPV^2 VarPV StDevPV &lt;- sqrt(VarPV) StDevPV [1] 14837 [1] 5068759966 [1] 71195 Distribution of Present Values. Another way of analysing the present value \\(PV\\) is to investigate its distribution. From equation (3.8), we see that \\(PV\\) is a function of the random \\(K_{\\bf{x}}\\), a discrete random variable. Thus, \\(PV\\) is also discrete. We can use knowledge of the probability mass function (pmf) of \\(K_{\\bf{x}}\\), \\(\\Pr(K_{\\bf{x}}=k) = ~_{k|}q_{\\bf{x}}\\), to determine the pmf of \\(PV\\). In this example we denote \\(~_kPV = 400,000v^{k+1}\\) for \\(k \\in \\{0,1,2,3,\\ldots,9\\}\\) and \\(~_kPV = 0\\) otherwise. Therefore the probability mass function of \\(PV\\) is \\(\\Pr \\left( PV= ~_kPV \\right) = ~_{k|}q_{49}\\) where \\(k \\in \\{0,1,2,3,\\ldots,9\\}\\) and \\(\\Pr \\left( PV= 0 \\right) = ~_{10}p_{49}\\). These values are: R Code for pmf calculation npx &lt;- kpx[10]*(1-qx[10]) PV &lt;- CashFlow*(1+SpotRate)^(-Year) PV[11] &lt;- 0 #PVout &lt;- round(PV,digits = 2) PVout &lt;- formatC(as.numeric(PV),format=&quot;f&quot;,digits=0) Probs &lt;- c(qxdef,npx) Probsout &lt;- round(Probs,digits = 4) ProbsoutMat &lt;- t(cbind(PVout, Probsout)) rownames(ProbsoutMat) &lt;- c(&quot;kPV&quot;, &quot;Pr(PV = kPV)&quot;) colnames(ProbsoutMat) &lt;- rep(&quot;&quot;,11) knitr::kable(ProbsoutMat, align=&quot;r&quot;) kPV 392157 384468 376929 369538 362292 355189 348224 341396 334702 328139 0 Pr(PV = kPV) 0.003 0.0032 0.0035 0.0037 0.004 0.0043 0.0046 0.0049 0.0052 0.0055 0.9582 Note the large proportion of the distribution at \\(PV=0\\) (over 95% for this example). This is common in life insurance examples. Among other things, this means that the distribution is not even approximately normal and so specialized techniques are required. Nonetheless, as we see in the next subsection, the distribution of a portfolio of policies may well be approximately normally distributed. Chapter Structure Discussion To be resolved later. Well need to fix the formatting of tables. Im not sure how to do this and will need some help. 3.5.2 A portfolio of policies We now return to the portfolio of \\(J=190\\) policies. Using equation (3.8), the present value for the \\(j\\)th policy is \\[ PV_j = v^{K_{{\\bf{x}}_j}+1} I_{{K_{{\\bf{x}}_j}+1}+1 \\le n_j .} \\] Using equation (3.3) and incorporating the sum insured \\(C_j\\) and term \\(n_j\\), we can describe the present value of the benefits to be paid from this portfolio as: \\[ \\begin{array}{rl} PV &amp;= \\sum_{j=1}^J PV_j \\\\ \\mathrm{E}(PV) &amp;= \\sum_{j=1}^J C_j \\left \\{\\sum_{k=0}^{n_j-1} v^{k+1} ~_k|q_{{\\bf{x}}_j} \\right\\} \\\\ &amp;= \\sum_{j=1}^J C_j ~ A_{{\\bf{x}_j}:\\enclose{actuarial}{n_j}} ^ {1} \\\\ \\mathrm{Var}(PV) &amp;= \\left \\{\\sum_{j=1}^J C_j^2 \\sum_{k=0}^{n_j-1} v^{2(k+1)} ~_k|q_{{\\bf{x}}_j} \\right\\} - [\\mathrm{E}(PV)]^2\\\\ &amp;= \\sum_{j=1}^J C_j^2 ~ ~^2A_{{\\bf{x}}:\\enclose{actuarial}{n}} ^ {1} - [\\mathrm{E}(PV)]^2\\\\ \\end{array} \\tag{3.21} \\] We can calculate \\(\\mathrm{E}(PV)\\) using equation (3.21). This is done in R below: R Code For Term Insurance Portfolio Example EPV SpotRate &lt;- 0.02 # PolHold &lt;- read.csv(&quot;C:/Working/OneDrive - Australian National University/Actuarial/Online Life Con textbook/Chap3LifeInsCashFlows/LifeCon-Chap3/SyntheticInsurerDataCh3CS.csv&quot;) # Importing policyholder data into R - we&#39;ll need to decide on conventions here PolHold &lt;- read.csv(&quot;Data/SyntheticInsurerDataCh3CS.csv&quot;) MortRates &lt;- read.csv(&quot;Data/HMDmx.csv&quot;) # Importing mortality data into R MortRates$qx &lt;- 1-exp(-MortRates$mx) PolHold$EPV &lt;- 0 # Initialising EPV calculation for each policyholder PolHold$Calc0px &lt;- 1 # Initialising kpx calculation for each policyholder for (i in 1:max(PolHold$Term)){ # The calculation of EPV is built up in a loop over the potential policy years PolHold &lt;- merge(PolHold, MortRates, by = c(&quot;Age&quot;,&quot;Sex&quot;), all.x=TRUE) # Links the correct qx to the policyholder for that year PolHold[,paste0(&quot;Calc&quot;,&quot;qxyr&quot;,i)] &lt;- ifelse(PolHold$Term&gt;=i,PolHold$qx,0) # No mortality rate is applied if the term of the policy has already been completed PolHold &lt;- PolHold[,!(names(PolHold) %in% c(&quot;mx&quot;,&quot;qx&quot;))] # Removes mx and qx so they can be linked again next year for one year older PolHold[,paste0(&quot;Calc&quot;,i,&quot;px&quot;)] &lt;- PolHold[,paste0(&quot;Calc&quot;,i-1,&quot;px&quot;)] * (1 - PolHold[,paste0(&quot;Calc&quot;,&quot;qxyr&quot;,i)]) # Calculating kpx PolHold[,paste0(&quot;Calc&quot;,i,&quot;qxdef&quot;)] &lt;- PolHold[,paste0(&quot;Calc&quot;,i-1,&quot;px&quot;)] * PolHold[,paste0(&quot;Calc&quot;,&quot;qxyr&quot;,i)] # Calculating deferred qx PolHold$EPV &lt;- PolHold$EPV + PolHold[,paste0(&quot;Calc&quot;,i,&quot;qxdef&quot;)] * PolHold$SumInsured * (1+SpotRate)^(-i) # Adding the component of EPV for that year PolHold$Age &lt;- PolHold$Age + 1 # Increasing age for next loop iteration } EPV &lt;- sum(PolHold$EPV) EPV [1] 9515239 Simulated Portfolio Distribution. In many actuarial applications, it is common to encounter situations far too complex to analyze analytically. Typically, in actuarial practice one turns to simulation of results. For an introduction to simulation, please see a chapter in the open textbook Loss Data Analytics on Simulation and Resampling. For this portfolio, even if the insured policyholders are independent across all \\(j\\), determining \\(\\mathrm{Var}(PV)\\) and the exact distribution of \\(PV\\) is likely not possible. Instead we use simulations to gain a greater understanding of the distribution of \\(PV\\). The following code shows the output of 5000 simulated observations of \\(PV\\) from equation (3.21), including the mean, standard deviation and a histogram. R Code For Term Insurance Portfolio Example Simulations # Much of the code below is repeated from the EPV calculation so this code can be run without running the previous code nsim = 5000 SpotRate &lt;- 0.02 PolHold &lt;- read.csv(&quot;Data/SyntheticInsurerDataCh3CS.csv&quot;) MortRates &lt;- read.csv(&quot;Data/HMDmx.csv&quot;) # Importing mortality data into R MortRates$qx &lt;- 1-exp(-MortRates$mx) rm(Probs,PV) # Removing some data objects so they can be recalculated from scratch Probs &lt;- data.frame(matrix(ncol=0,nrow=nrow(PolHold))) # This data frame will hold the probabilities of each PV cash flow outcome for each policyholder PV &lt;- data.frame(matrix(ncol=0,nrow=nrow(PolHold))) # This data frame will hold the potential PV cash flow outcomes for each policyholder IndivSample &lt;- data.frame(matrix(ncol=nsim,nrow=0)) # This data frame will hold the simulated PV cash flow outcomes for each policyholder SumPV &lt;- 0 # Initialising the sum of the PV cash flow outcomes for each simulation PolHold$Calc0px &lt;- 1 for (i in 1:max(PolHold$Term)){ # This loop calculates the necessary data items over the potential policy years PolHold &lt;- merge(PolHold, MortRates, by = c(&quot;Age&quot;,&quot;Sex&quot;), all.x=TRUE) # Links the correct qx to the policyholder for that year PolHold[,paste0(&quot;Calc&quot;,&quot;qxyr&quot;,i)] &lt;- ifelse(PolHold$Term&gt;=i,PolHold$qx,0) # No mortality rate is applied if the term of the policy has already been completed PolHold &lt;- PolHold[,!(names(PolHold) %in% c(&quot;mx&quot;,&quot;qx&quot;))] # Removes mx and qx so they can be linked again next year for one year older PolHold[,paste0(&quot;Calc&quot;,i,&quot;px&quot;)] &lt;- PolHold[,paste0(&quot;Calc&quot;,i-1,&quot;px&quot;)] * (1 - PolHold[,paste0(&quot;Calc&quot;,&quot;qxyr&quot;,i)]) # Calculating kpx PolHold[,paste0(&quot;Calc&quot;,i,&quot;qxdef&quot;)] &lt;- PolHold[,paste0(&quot;Calc&quot;,i-1,&quot;px&quot;)] * PolHold[,paste0(&quot;Calc&quot;,&quot;qxyr&quot;,i)] # Calculating deferred qx Probs[,paste0(&quot;Probs&quot;,i)] &lt;- PolHold[,paste0(&quot;Calc&quot;,i,&quot;qxdef&quot;)] # Calculating probability of PV cash flow outcome PV[,paste0(&quot;PV&quot;,i)] &lt;- PolHold$SumInsured * (1+SpotRate)^(-i) # Calculating potential PV cash flow outcome PolHold$Age &lt;- PolHold$Age + 1 # Increasing age for next loop iteration } Probs$ProbsEnd &lt;- PolHold[,paste0(&quot;Calc&quot;,max(PolHold$Term),&quot;px&quot;)] # Calculates the probability of no claim payment on the policy PV$PVEnd &lt;- 0 # The PV for no claim payment is zero for (i in 1:nrow(PolHold)) { # This loop calculates the simulated PV observations separately for each policyholder IndivSample[i,] &lt;- sample(PV[i,], size = nsim, replace = TRUE, prob = Probs[i,]) } for (i in 1:nsim) { # This loop calculates the aggregate PV across all policyholders separately for each simulation SumPV[i] &lt;- sum(IndivSample[,i]) } mean(SumPV) sd(SumPV) par(mfrow=c(1,1)) hist(SumPV, main=&quot;&quot;, xlab=&quot;PV ($ millions)&quot;, border=&quot;red&quot;, col=&quot;green&quot;) Figure 3.13: Distribution of \\(PV\\) for a portfolio of policyholders [1] 9542951 [1] 1846366 Two things are immediately apparent from the simulated observations of \\(PV\\) from the portfolio of policies. First, is that despite the extreme skewness of the \\(PV\\) outcomes for an individual policyholder, the distribution of the \\(PV\\) of the portfolio of policies is remarkably bell shaped. This is evidence of the Central Limit Theorem in action. Secondly, whilst the standard deviation of the \\(PV\\) of an individual policy is multiple times larger than the \\(E(PV)\\), the standard deviation of the \\(PV\\) of a portfolio of policies is multiple times smaller than the \\(E(PV)\\). From both of the observations, we learn that the standard deviation (and variance) is very helpful in understanding the uncertainty of a portfolio. This is despite our observation in the case of a single policy where we saw that the standard deviation was not helpful because of the large mass at zero of the distribution. We will revisit this point again in later chapters when investigating the financial condition of a life insurer. Chapter Structure Discussion Structure discussion.The concept of simulation will likely not be familiar to readers. Well need to think about how to present this to students and how much detail we wish to go into. DHW have an appendix on Monte Carlo simulation, although simulation is not widely used in the book. Well also need to think about how this would work for those only able to access the pdf version of the textbook. Chapter Structure Discussion Valuing benefits using actuarial notation We finish Chapter 3.2 with a brief description of how to use actuarial notation to value life contingent benefits. The example is provided in the context of whole of life policy with a fixed sum insured \\(_kC = C\\). We can define the random variable of the present value of the benefits of this policy as \\(Cv^{K_{\\bf{x}}+1}\\) and hence \\(\\mathrm{E}(PV)=C\\mathrm{E} \\left[ v^{K_{\\bf{x}}+1} \\right] = CA_{\\bf{x}}\\) and \\(\\mathrm{Var}(PV)=C^2\\mathrm{Var} \\left[ v^{K_{\\bf{x}}+1} \\right]\\) \\(= C^2 \\left( ~^2A_{\\bf{x}} - \\left( A_{\\bf{x}} \\right) ^2 \\right).\\) Note that if the cash flows are not constant (i.e. \\(_kC \\neq C\\)) then the actuarial notation outlined in this chapter is not applicable and the benefit must be valued using the first principles of equations (3.2), (3.3) and (3.4). Note for author to complete. We could show additional relationships among the different policies, including recursion (see DHW Chapter 5), perhaps as exercises for students. Some of this might better fit a chapter on reserves. Need to decide this. Need to think about exercises here. Chapter Structure Discussion To be resolved later. Other important concepts to address in this or another chapter: - The relationship between life insurance and life annuities. The two are perfect natural hedge provided mortality is the same. If life policies mortality are different from annuitant mortality, the relationship breaks down. My instinct is that this goes in a later chapter. - The concept of discounting with life using pure endowment. - The recursive formula for the value from year to year - probably later as part of policy values. To be resolved later. It is recommended to include the following material in a separate chapter. We could also include things like increasing annuities/insurance but Im not really convinced about the benefits of these. 3.6 Appendix 3A. Examples of valuation of general cash flows Chapter Structure Discussion Editorial Note: These are the results of experimentation with the jExcel javascript package for dynamic spreadsheets that utilizes the Highcharts package for dynamic graphs. Example 3.1.1. Varying Payments and Rates of Interest Let us review some basic concepts regarding present value of payments made with certainty (no randomness) of payments under potentially varying rates of interest. The first basic concept is that payments made in the near future have greater present value than those made in the distant future. The second basic concept is that interest rates in the near future have greater effect on present values than those in the distant future. To illustrate, we consider \\(T=12\\) payments at times \\(1, 2, \\ldots, 12\\). Payment may be constant (or flat) at 11 in this example, or varying. For the varying payments, this example uses increasing payments, \\(0, 2, \\ldots, 22\\) so the average of increasing payments is 11. For interest rates, we consider a flat rate \\(i= 0.055\\) with varying (increasing) rates \\(0, 0.01, \\ldots, 0.11\\), so the average interest rate is 0.055. If you want to think about these as monthly rates, you may use the Interest Rate Multiplier cell in Table 3.1 to change the rates. For example, if you make the cell B12 equal to 0.1, then flat rate changes to \\(i= 0.0055\\) that may be more suitable for a monthly rate. Chapter Structure Discussion Editorial Note: As coded now, the Interest Rate Multiplier works but takes a couple of minutes. Get some coffee if you change this cell. Changing other parts of the spreadsheet is quick. You can double-click on a cell to see how it is coded. You can drag a column separator to widen the cell to see the coding. Table 3.1 shows the patterns of varying the payments and the rates of interest supported by a graphical display in Figure 3.1. Here, we see that, for both flat and varying payments, the present values for increasing interest rates are greater than those for the flat ones. This underscores the second concept, that present values in the near term are more important than those in the future. We can also see the sums of present values in column N of Table 3.1. This shows that, for both flat and increasing interest rates, that flat payments have a larger present value than increasing payments. This underscores the second concept, that payments made in the near future have a greater impact than those in the distant future. On Your Own. You can download the spreadsheet data with the Export this spreadsheet as CSV button and manipulate it using as spreadsheet program, such as Excel. Alternatively, you can create the data using the code provided in the R Code For VaryingPayments segment that follows. Using either, or both, approaches, experiment with alternative patterns of varying payments and interest rates to enhance your appreciation for the nuances of present values of varying payments. Table 3.1. Varying Payments and Rates of Interest Export this spreadsheet as CSV R Code For Varying Payments Time &lt;- 1:12 #Payments FlatPay &lt;- rep(11, 12) IncPay &lt;- seq(from=0, to=22, by=2) #Interest Rates FlatInt &lt;- rep(0.055, 12) IncInt &lt;- seq(from=0, to=0.11, by=0.01) #Discount Values DV.Flat &lt;- 1/(1+FlatInt[1]) for(i in 2:12) {DV.Flat[i] &lt;- DV.Flat[i-1]/(1+FlatInt[i]) } DV.Inc &lt;- 1/(1+IncInt[1]) for(i in 2:12) {DV.Inc[i] &lt;- DV.Inc[i-1]/(1+IncInt[i]) } #Present Value of Payments FlatPay.FlatInt &lt;- FlatPay*DV.Flat FlatPay.IncInt &lt;- FlatPay*DV.Inc IncPay.FlatInt &lt;- IncPay*DV.Flat IncPay.IncInt &lt;- IncPay*DV.Inc #Plot Present Value of Payments plot(Time, FlatPay.FlatInt, type = &quot;b&quot;, ylim = c(0,14), ylab = &quot;Present Value&quot;, xlab = &quot;Time&quot;) lines(Time, FlatPay.IncInt, type = &quot;b&quot;) lines(Time, IncPay.FlatInt, type = &quot;b&quot;) lines(Time, IncPay.IncInt, type = &quot;b&quot;) eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJUaW1lIDwtIDE6MTJcbiNQYXltZW50c1xuRmxhdFBheSA8LSByZXAoMTEsIDEyKVxuSW5jUGF5IDwtIHNlcShmcm9tPTAsIHRvPTIyLCBieT0yKVxuI0ludGVyZXN0IFJhdGVzXG5GbGF0SW50IDwtIHJlcCgwLjA1NSwgMTIpXG5JbmNJbnQgPC0gc2VxKGZyb209MCwgdG89MC4xMSwgYnk9MC4wMSlcbiNEaXNjb3VudCBWYWx1ZXNcbkRWLkZsYXQgPC0gMS8oMStGbGF0SW50WzFdKVxuZm9yKGkgaW4gMjoxMikge0RWLkZsYXRbaV0gPC0gRFYuRmxhdFtpLTFdLygxK0ZsYXRJbnRbaV0pXG4gICAgICAgICAgICAgICB9XG5EVi5JbmMgPC0gMS8oMStJbmNJbnRbMV0pXG5mb3IoaSBpbiAyOjEyKSB7RFYuSW5jW2ldIDwtIERWLkluY1tpLTFdLygxK0luY0ludFtpXSlcbn1cbiNQcmVzZW50IFZhbHVlIG9mIFBheW1lbnRzXG5GbGF0UGF5LkZsYXRJbnQgPC0gRmxhdFBheSpEVi5GbGF0XG5GbGF0UGF5LkluY0ludCAgPC0gRmxhdFBheSpEVi5JbmNcbkluY1BheS5GbGF0SW50IDwtIEluY1BheSpEVi5GbGF0XG5JbmNQYXkuSW5jSW50ICA8LSBJbmNQYXkqRFYuSW5jXG4jUGxvdCBQcmVzZW50IFZhbHVlIG9mIFBheW1lbnRzXG5wbG90KFRpbWUsIEZsYXRQYXkuRmxhdEludCwgdHlwZSA9IFwiYlwiLCB5bGltID0gYygwLDE0KSwgeWxhYiA9IFwiUHJlc2VudCBWYWx1ZVwiLCB4bGFiID0gXCJUaW1lXCIpXG4gIGxpbmVzKFRpbWUsIEZsYXRQYXkuSW5jSW50LCB0eXBlID0gXCJiXCIpXG4gIGxpbmVzKFRpbWUsIEluY1BheS5GbGF0SW50LCB0eXBlID0gXCJiXCIpXG4gIGxpbmVzKFRpbWUsIEluY1BheS5JbmNJbnQsIHR5cGUgPSBcImJcIikifQ== Example 3.1.2. Varying Payments and Rates of Interest With Uncertainty We now revisit Example 3.1.1 but assume that payments are uncertain, that is, random with a given probability distribution. In Chapter 2 we learned how to develop complex probability distributions that will be useful in our study of contingent life events. For this example, we make some simple assumptions to get started. Specifically, we assume a constant probability (uniform) distribution; with \\(T=12\\) periods, this means that there is a \\(\\frac{1}{12} \\approx 0.0833\\) probability of a payment at any specific time period. To vary this, we follow Example 3.1.1 and assume probabilities that are linear increasing, as shown in Table 3.2. From Table 3.2, we can see that we now have 8 different scenarios based on 2 for payments, 2 for interest rates, and 2 for probabilities, in each case flat versus increasing. Discounted values weighted by probabilities appear in rows 11-14 and 16-19. A plot corresponding to increasing probabilities (rows 16-19) appears in Figure 3.2. Note that a plot using constant probabilities would be exactly as in Figure 3.1 except for the constant probability weight \\(\\frac{1}{12}\\). On Your Own. Download the spreadsheet data with the Export this spreadsheet as CSV button or access the R code with the segment R Code For VaryingPayments with Uncertainty. Compare the means values (column N of the spreadsheet) among the 8 scenarios and interpret them, as you might for a client. Further, you will get a greater appreciation of the uncertainty by calculating the corresponding standard deviations. Table 3.2. Varying Payments and Rates of Interest With Uncertainty Export this spreadsheet as CSV R Code For VaryingPayments with Uncertainty Time &lt;- 1:12 #Payments FlatPay &lt;- rep(11, 12) IncPay &lt;- seq(from=0, to=22, by=2) #Interest Rates FlatInt &lt;- rep(0.055, 12) IncInt &lt;- seq(from=0, to=0.11, by=0.01) #Probabilities FlatProb &lt;- rep(1/12, 12) IncProb &lt;- IncPay/11*FlatProb #Discounted Values DV.Flat &lt;- 1/(1+FlatInt[1]) for(i in 2:12) {DV.Flat[i] &lt;- DV.Flat[i-1]/(1+FlatInt[i]) } DV.Inc &lt;- 1/(1+IncInt[1]) for(i in 2:12) {DV.Inc[i] &lt;- DV.Inc[i-1]/(1+IncInt[i]) } #Present Value of Payments - Flat Probs FlatPay.FlatInt.FlatProb &lt;- FlatPay*DV.Flat*FlatProb FlatPay.IncInt.FlatProb &lt;- FlatPay*DV.Inc*FlatProb IncPay.FlatInt.FlatProb &lt;- IncPay*DV.Flat*FlatProb IncPay.IncInt.FlatProb &lt;- IncPay*DV.Inc*FlatProb #Present Value of Payments - Increasing Probs FlatPay.FlatInt.IncProb &lt;- FlatPay*DV.Flat*IncProb FlatPay.IncInt.IncProb &lt;- FlatPay*DV.Inc*IncProb IncPay.FlatInt.IncProb &lt;- IncPay*DV.Flat*IncProb IncPay.IncInt.IncProb &lt;- IncPay*DV.Inc*IncProb #Plot Present Value of Payments plot(Time, FlatPay.FlatInt.IncProb, type = &quot;b&quot;, ylim = c(0,2.5), ylab = &quot;Present Value&quot;, xlab = &quot;Time&quot;) lines(Time, FlatPay.IncInt.IncProb, type = &quot;b&quot;) lines(Time, IncPay.FlatInt.IncProb, type = &quot;b&quot;) lines(Time, IncPay.IncInt.IncProb, type = &quot;b&quot;) Chapter Structure Discussion Editorial Note: As of now, I (Jed) do not know how to make two graphs on the same page update dynamically. eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJUaW1lIDwtIDE6MTJcbiNQYXltZW50c1xuRmxhdFBheSA8LSByZXAoMTEsIDEyKVxuSW5jUGF5IDwtIHNlcShmcm9tPTAsIHRvPTIyLCBieT0yKVxuI0ludGVyZXN0IFJhdGVzXG5GbGF0SW50IDwtIHJlcCgwLjA1NSwgMTIpXG5JbmNJbnQgPC0gc2VxKGZyb209MCwgdG89MC4xMSwgYnk9MC4wMSlcbiNQcm9iYWJpbGl0aWVzXG5GbGF0UHJvYiA8LSByZXAoMS8xMiwgMTIpXG5JbmNQcm9iICA8LSBJbmNQYXkvMTEqRmxhdFByb2JcbiNEaXNjb3VudGVkIFZhbHVlc1xuRFYuRmxhdCA8LSAxLygxK0ZsYXRJbnRbMV0pXG5mb3IoaSBpbiAyOjEyKSB7RFYuRmxhdFtpXSA8LSBEVi5GbGF0W2ktMV0vKDErRmxhdEludFtpXSlcbiAgICAgICAgICAgICAgIH1cbkRWLkluYyA8LSAxLygxK0luY0ludFsxXSlcbmZvcihpIGluIDI6MTIpIHtEVi5JbmNbaV0gPC0gRFYuSW5jW2ktMV0vKDErSW5jSW50W2ldKVxufVxuI1ByZXNlbnQgVmFsdWUgb2YgUGF5bWVudHMgLSBGbGF0IFByb2JzXG5GbGF0UGF5LkZsYXRJbnQuRmxhdFByb2IgPC0gRmxhdFBheSpEVi5GbGF0KkZsYXRQcm9iXG5GbGF0UGF5LkluY0ludC5GbGF0UHJvYiAgPC0gRmxhdFBheSpEVi5JbmMqRmxhdFByb2JcbkluY1BheS5GbGF0SW50LkZsYXRQcm9iIDwtIEluY1BheSpEVi5GbGF0KkZsYXRQcm9iXG5JbmNQYXkuSW5jSW50LkZsYXRQcm9iICA8LSBJbmNQYXkqRFYuSW5jKkZsYXRQcm9iXG4jUHJlc2VudCBWYWx1ZSBvZiBQYXltZW50cyAtIEluY3JlYXNpbmcgUHJvYnNcbkZsYXRQYXkuRmxhdEludC5JbmNQcm9iIDwtIEZsYXRQYXkqRFYuRmxhdCpJbmNQcm9iXG5GbGF0UGF5LkluY0ludC5JbmNQcm9iICA8LSBGbGF0UGF5KkRWLkluYypJbmNQcm9iXG5JbmNQYXkuRmxhdEludC5JbmNQcm9iIDwtIEluY1BheSpEVi5GbGF0KkluY1Byb2JcbkluY1BheS5JbmNJbnQuSW5jUHJvYiAgPC0gSW5jUGF5KkRWLkluYypJbmNQcm9iXG4jUGxvdCBQcmVzZW50IFZhbHVlIG9mIFBheW1lbnRzXG5wbG90KFRpbWUsIEZsYXRQYXkuRmxhdEludC5JbmNQcm9iLCB0eXBlID0gXCJiXCIsIHlsaW0gPSBjKDAsMi41KSwgeWxhYiA9IFwiUHJlc2VudCBWYWx1ZVwiLCB4bGFiID0gXCJUaW1lXCIpXG4gIGxpbmVzKFRpbWUsIEZsYXRQYXkuSW5jSW50LkluY1Byb2IsIHR5cGUgPSBcImJcIilcbiAgbGluZXMoVGltZSwgSW5jUGF5LkZsYXRJbnQuSW5jUHJvYiwgdHlwZSA9IFwiYlwiKVxuICBsaW5lcyhUaW1lLCBJbmNQYXkuSW5jSW50LkluY1Byb2IsIHR5cGUgPSBcImJcIikifQ== "],["C-BenefitExt.html", "Chapter 4 Extensions to Modeling Basic Life Contingent Benefits 4.1 The impact of self selection 4.2 Modelling contingent cash flows more frequently than annually 4.3 Modelling contingent cash flows in continuous time", " Chapter 4 Extensions to Modeling Basic Life Contingent Benefits 4.1 The impact of self selection I have not yet included anything about selection effects, although this can be added to this section fairly easily. DHW dont have anything different in Chapter 4 for selection effects, but instead just have a short subsection nothing that the calculations are the same for selection but just use the select life table. 4.2 Modelling contingent cash flows more frequently than annually This would reflect the 1/mthly case from DHW Chapter 4. Due to the length of this chapter we will need to consider if/how to split it up into additional chapters. It is traditional to split life insurance and annuity chapters. Im not a big fan of this personally as in my opinion this splits concepts of valuation up were it really is not necessary. An alternative option would be to have the material from here and continuous time be its own Chapter; i.e. we would generally focus on yearly payments only and this extra chapter would act as an aside to cover the 1/mthy and continuous structures. We might also include in this additional chapter material on approximation (e.g. annual payments but made at exact time of death) and other adjustments such as indexation of payments. 4.3 Modelling contingent cash flows in continuous time See above. This could be expressed as when \\(m \\rightarrow \\infty\\). We could provide examples from earlier in this Chapter as our starting point. We can also link this to the continuous models from Chapter 2  see for example how Makehams rule is used in DHW Chapter 4. "],["C-Forward.html", "Chapter 5 Going Forward 5.1 Table of Contents", " Chapter 5 Going Forward Here are some alternative titles under consideration. Help us pick one by giving feedback. Suggest others. The Mathematics, Statistics, and Economics of Life Contingencies Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance Life Contingencies Analytics Life Contingent Analytics Analytics of Life Contingencies The book is intended to cover the learning objectives of the major actuarial organizations. You can view this spreadsheet that summarizes their requirements. 5.1 Table of Contents Chapter 1. Introduction Include a motivating example on Saving by yourself vs. sharing mortality risk Part I. Foundations Chapter 2. Modeling Lifetimes Chapter 3. Basic Life Contingent Benefits Chapter 4. Other Life Contingent Benefits Part II. Core Material Chapter 5. Premiums 5.1 Diversification and the Equivalence Principle 5.2 Portfolio Percentile Premiums 5.3 Net Premiums R and Excel tutorial  determining premiums, compare simulations to normal distributions Chapter 6. Reserves and Capital 6.1 Policy values, retrospective and prospective reserves; statutory reserves 6.2 Policy recursions; Thieles differential equation 6.3 Expenses, gross premiums and reserves 6.4 Capital requirements Chapter 7. Multi-State Modeling 7.1. Models with Multiple States, Markov chains 7.2. Modeling state-contingent cash flows; distribution of portfolio values; determining expected values and variances 7.3. Expected values; Kolmogorov equations; general premiums and reserves R and Excel tutorial  implement Kolmogorov equation, Euler scheme 7.4. Multiple life functions; joint survival and last survivor status; independence and common shock model R and Excel tutorial  determine premiums and reserves for multiple life policies 7.5. Multiple decrement models and tables; estimation and associated life tables; applications R and Excel tutorial  determine premiums and reserves in multiple decrement models 7.6. Estimation of (conditional) intensities; relationship between two state and multiple state models R tutorial  estimate pension models, simulate, use for pension projections Part III. Dynamic Models Chapter 8. A Primer on Financial Modeling 8.1. Securities and yields: Government bonds and yields; real vs. nominal yields; TIPS; corporate bonds; credit spreads; mortgage rates 8.2. Yield curves: discounting cash flows; spot and forward rates R and Excel tutorial  US yield curve data; yields over time; changes in the yield curve Investment yields; Typical life insurance asset portfolios; cost of capital; taxes; pricing fixed term annuities Excel tutorial: Pricing fixed term annuities via a company investment module 8.3. Stochastic modeling: Stochastic yield curve models (Affine VAR models), risky returns R tutorial  Calculating capital based on a stochastic asset model Chapter 9. Stochastic Mortality Modeling 9.1. Lee Carter, CBD R tutorial  Calculating capital based on a stochastic asset and liability model 9.2. Models with stochastic Health (Future Elderly Model) Part IV. Industry Perspectives Chapter 10. Industry Perspective: Life insurance Contracts, pricing, profits, etc. Some examples of topics here relate to Universal Life, Equity-Linked Life Insurance, Long Term Care, Effects of a Pandemic to the Industry, Micro Insurance, Other International Perspectives Chapter 11. Industry Perspective: Annuities Contracts, pricing, profits, etc. Modern annuity products such as variable annuities, Why annuity market is thin?, The selection issue in the annuity market, Life insurance vs annuity mortality, Hedging and other risk management related topics Chapter 12. Industry Perspective: Pensions Contracts, pricing, profits, etc. Funding approaches, regulations of pension plans Chapter 13. Industry Perspective: Long Term Care Contracts, pricing, profits, etc. Retirement health insurance products Chapter 14. Public Policy Applications 14.1. Social Security projections 14.2. Willingness-to-pay, Value of Statistical Life Appendices A Primer on Insurance Economics Demand, supply, and equilibrium Price competition, Bertrand equilibrium Risk sharing 101, utility functions Conventions for Notation Book Prerequisites: One term in calculus based probability (e.g., SOA P exam level) and an introduction to interest theory (e.g., SOA FM exam level). Note: Requiring only probability, and not mathematical statistics, is the approach used in Loss Data Analytics. In these online resources, we have a few appendices that give an introduction to math stat needed for empirical work. The idea is that an instructor could enforce a co-requisite of math stat while teaching or ask students to read the appendices on their own. This is a little klunky but we want to this book to be available to students early in their careers and not force them to wait until they have completed math stats. We can discuss whether this is appropriate for life contingencies, or further improve on the explanation/motivation. "],["C-NotationConventionLC.html", "Chapter 6 Appendix: Conventions for Notation 6.1 Actuarial Notation 6.2 Halo System 6.3 General Conventions 6.4 Abbreviations 6.5 Common Statistical Symbols and Operators 6.6 Common Mathematical Symbols and Functions 6.7 Further Readings", " Chapter 6 Appendix: Conventions for Notation Chapter Preview. Life Contingencies employs widely accepted statistical concepts and tools. Thus, the notation should be consistent with standard usage employed in probability and mathematical statistics. See, for example, (Halperin, Hartley, and Hoel 1965) for a description of one standard. 6.1 Actuarial Notation Here is a list of commonly used actuarial symbols and functions, including the latex code that we use to generate them. 6.1.1 Life Table Symbols \\[ {\\small \\require{enclose} \\begin{array}{cll} \\hline \\textbf{Symbol} &amp; \\textbf{Latex code} &amp; \\textbf{Description} \\\\ \\hline \\ell_{x} &amp; \\verb|\\| \\tt{ell}\\_\\{\\tt{x}\\} &amp; \\text{Expected number of lives at age } x \\\\ \\ell_{[x]} &amp; \\backslash\\tt{ell}\\_\\{ [\\tt{x}]\\} &amp; \\text{Expected number of lives at select age } x \\\\ _{t}p_{x} &amp; ~ \\_\\{ \\tt{t} \\} \\tt{p} \\_ \\{\\tt{x}\\} &amp; \\text{Probability that a life aged } x \\text{ survives }t \\text{ years} \\\\ _{t}p_{[x]} &amp; ~ \\_\\{ \\tt{t} \\} \\tt{p} \\_ \\{ [\\tt{x}]\\}\\} &amp; \\text{Probability that a select life aged } x \\text{ survives }t \\text{ years} \\\\ \\mathring{e}_{x} &amp; \\backslash\\tt{mathring\\{e\\}} \\_ \\{ x\\} &amp; \\text{Complete expectation of life at age } x \\\\ \\mathring{e}_{x:{\\enclose{actuarial}{n}}} &amp; \\backslash\\tt{mathring\\{e\\}} \\_ \\{ x:\\{\\backslash enclose\\{actuarial\\}\\{n\\}\\}\\} &amp; \\text{Complete expectation of life at age } x \\text{ for the next } n \\text{ years} \\\\ \\hline \\end{array} } \\] 6.1.2 Life Insurance Symbols \\[ {\\small \\begin{array}{cll} \\hline \\textbf{Symbol} &amp; \\textbf{Latex code} &amp; \\textbf{Description} \\\\ \\hline A_{x} &amp; \\tt{A} \\_ \\{\\tt{x}\\} &amp; \\text{APV of a discrete whole life insurance to } (x) \\\\ \\bar{A}_{x} &amp; \\backslash \\tt{bar} \\{\\tt{A}\\} \\_ \\{\\tt{x}\\} &amp; \\text{APV of a continuous whole life insurance to } (x) \\\\ A^{(m)}_{x} &amp; \\tt{A} \\verb|^| \\tt{\\{(m)\\}}\\_ \\{\\tt{x}\\} &amp; \\text{APV of a whole life insurance payable at end of } m\\text{-th of the year of death of } (x) \\\\ _{n}E_{x} &amp; ~ \\_\\{ \\tt{n} \\} \\tt{E} \\_ \\{\\tt{x}\\} &amp; \\text{APV of an } n\\text{-year pure endowment to } (x) \\\\ {A}_{x:\\enclose{actuarial}{n}}^{\\quad 1} &amp; \\{\\tt{A}\\} \\_ \\{ x:\\{\\backslash enclose\\{actuarial\\}\\{n\\}\\}\\} \\verb|^| \\{\\backslash \\tt{quad} \\ 1\\} &amp; \\text{APV of an } n\\text{-year term insurance to } (x) \\\\ {A}_{x:{\\enclose{actuarial}{n}}} &amp; \\{\\tt{A}\\} \\_ \\{ x:\\{\\backslash enclose\\{actuarial\\}\\{n\\}\\}\\} &amp; \\text{APV of an } n\\text{-year endowment insurance to } (x) \\\\ _{n|}{A}_{x} &amp; ~ \\_\\{ \\tt{n|} \\} \\{\\tt{A}\\_\\{x\\}\\} &amp; \\text{APV of an } n\\text{-year deferred life insurance to } (x) \\\\ {A}_{x:\\enclose{actuarial}{n}}^{\\space 1} &amp; \\{\\tt{A}\\} \\_ \\{ x:\\{\\backslash enclose\\{actuarial\\}\\{n\\}\\}\\} \\verb|^| \\{\\backslash \\tt{space} \\ 1\\} &amp; \\text{APV of an } n\\text{-year term insurance to } (x) \\\\ \\hline \\end{array} } \\] 6.1.3 Annuity Certain and Life Annuity Symbols \\[ {\\small \\begin{array}{cll} \\hline \\textbf{Symbol} &amp; \\textbf{Latex code} &amp; \\textbf{Description} \\\\ \\hline a_{\\enclose{actuarial}{n}} &amp; \\tt{a}\\_\\{\\backslash \\tt{enclose}\\{actuarial\\}\\{\\tt{n}\\}\\} &amp; n\\text{-year annuity certain-immediate} \\\\ \\ddot{a}_{\\enclose{actuarial}{n}} &amp; \\backslash\\tt{ddot}\\_\\{\\tt{a}\\_\\{\\backslash \\tt{enclose}\\{actuarial\\}\\{\\tt{n}\\}\\} &amp; n\\text{-year annuity certain-due} \\\\ \\ddot{a}^{(m)}_{\\enclose{actuarial}{n}} &amp; \\backslash\\tt{ddot} \\verb|^| \\tt{\\{(m)\\}}\\_\\{\\tt{a}\\_\\{\\backslash \\tt{enclose}\\{actuarial\\}\\{\\tt{n}\\}\\} &amp; n\\text{-year annuity certain-due payable } m\\text{-thly} \\\\ _{m|}\\ddot{a}_{\\enclose{actuarial}{n}} &amp; ~ \\_\\{ \\tt{m|} \\} \\backslash\\tt{ddot}\\_\\{\\tt{a}\\_\\{\\backslash \\tt{enclose}\\{actuarial\\}\\{\\tt{n}\\}\\} &amp; m\\text{-year deferred } n\\text{-year annuity certain-due} \\\\ a_{x} &amp; \\tt{a}\\_\\{x\\} &amp; \\text{APV of a whole life annuity immediate to } (x) \\\\ \\ddot{a}_{x} &amp; \\backslash\\tt{ddot}\\{\\tt{a}\\}\\_\\{x\\} &amp; \\text{APV of a whole life annuity due to } (x) \\\\ a^{(m)}_{x} &amp; \\tt{a} \\verb|^| \\tt{\\{(m)\\}}\\_\\{x\\} &amp; \\text{APV of a life annuity immediate to } (x) \\text{ payable } m\\text{-thly} \\\\ \\ddot{a}^{(m)}_{x} &amp; \\backslash\\tt{ddot}\\{\\tt{a}\\} \\verb|^| \\tt{\\{(m)\\}}\\_\\{x\\} &amp; \\text{APV of a life annuity due to } (x) \\text{ payable } m\\text{-thly} \\\\ _{n|}\\ddot{a}_{x} &amp; ~ \\_\\{ \\tt{n|} \\} \\backslash\\tt{ddot}\\_\\{\\tt{a}\\_\\{x\\}\\} &amp; \\text{APV of an } n\\text{-year deferred life annuity due to } (x) \\\\ \\ddot{a}_{x:{\\enclose{actuarial}{n}}} &amp; \\backslash\\tt{ddot\\{a\\}} \\_ \\{ x:\\{\\backslash enclose\\{actuarial\\}\\{n\\}\\}\\} &amp; \\text{APV of an } n\\text{-year life annuity due to } (x) \\\\ \\ddot{a}^{(m)}_{x:{\\enclose{actuarial}{n}}} &amp; \\backslash\\tt{ddot\\{a\\}} \\verb|^| \\tt{\\{(m)\\}} \\_ \\{ x:\\{\\backslash enclose\\{actuarial\\}\\{n\\}\\}\\} &amp; \\text{APV of an } n\\text{-year life annuity due to } (x) \\text{ payable } m\\text{-thly} \\\\ \\hline \\end{array} } \\] Not sure if necessary to say \\(APV\\) (actuarial present value) 6.2 Halo System Figure 6.1: Halo System: Example of an Actuarial Symbol. Source: This is adapted from the Wikipedia page Actuarial Notation. Legend: 1 - the 2 means double the force of interest 2 - the bar implies continuous, or payments at the moment of death. No bar, or blank, signifies payment at the end of the year. For annuities, could use a double dot that signifies payments at the beginning of the year. 3 - the 1 denotes a temporary, or term, payment. Paid if \\(x\\) within \\(n\\) years 4 - contract issued to a life aged \\(x\\) and lasts for at most \\(n\\) years. 5 - the A signifies it is an insurance (assurance) contract. Could also be a lower case \\(a\\) that would signify an annuity contract. 6 - deferred m years Note: It is sometimes helpful to put a space before the pre-subscript like \\(\\frac{\\ell_{[x]+t}}{\\ell_{[x]}} = ~_{t}p_{[x]}\\). Else you get this awkward \\(\\frac{\\ell_{[x]+t}}{\\ell_{[x]}} = _{t}p_{[x]}\\). \\[ Y = \\begin{cases} 1 + v + v^2 + \\cdots + v^K = \\ddot{a}_{\\enclose{actuarial}{K+1}}, K=0,1,\\ldots,n-1 \\\\ 1 + v + v^2 + \\cdots + v^{n-1} = \\ddot{a}_{\\enclose{actuarial}{n}}, K \\ge n \\end{cases} \\] Note. For the html version of the text, we are using the STACK system; in particular, see their actuarial notation page. This does not appear to work for the pdf version, at least with R-Studio. The latex package actuarialangle provides a substitute. To make this happen, in our latex header .tex page, we have the following bit of code % Something for the Actuarial Angle package \\usepackage{actuarialangle} \\newcommand{\\enclose}[1]{\\actuarialangle} 6.3 General Conventions Random variables are denoted by upper-case italicized Roman letters, with \\(X\\) or \\(Y\\) denoting a claim size variable, \\(N\\) a claim count variable, and \\(S\\) an aggregate loss variable. Realizations of random variables are denoted by corresponding lower-case italicized Roman letters, with \\(x\\) or \\(y\\) for claim sizes, \\(n\\) for a claim count, and \\(s\\) for an aggregate loss. Probability events are denoted by upper-case Roman letters, such as \\(\\Pr(\\mathrm{A})\\) for the probability that an outcome in the event A occurs. Cumulative probability functions are denoted by \\(F(z)\\) and probability density functions by the associated lower-case Roman letter: \\(f(z)\\). For distributions, parameters are denoted by lower-case Greek letters. A caret or hat indicates a sample estimate of the corresponding population parameter. For example, \\(\\hat{\\beta}\\) is an estimate of \\(\\beta\\) . The arithmetic mean of a set of numbers, say, \\(x_1, \\ldots, x_n\\), is usually denoted by \\(\\bar{x}\\); the use of \\(x\\), of course, is optional. Use upper-case boldface Roman letters to denote a matrix other than a vector. Use lower-case boldface Roman letters to denote a (column) vector. Use a superscript prime \\(\\prime\\) for transpose. For example, \\(\\mathbf{x}^{\\prime} \\mathbf{A} \\mathbf{x}\\) is a quadratic form. Acronyms are to be used sparingly, given the international focus of our audience. Introduce acronyms commonly used in statistical nomenclature but limit the number of acronyms introduced. For example, pdf for probability density function is useful but GS for Gini statistic is not. 6.4 Abbreviations Here is a list of abbreviations that we adopt. We italicize these acronyms. For example, we can discuss the goodness of fit in terms of the AIC criterion. \\[ \\begin{array}{ll} \\hline \\textbf{Symbol} &amp; \\textbf{Description} \\\\ \\hline AIC &amp; \\text{Akaike information criterion} \\\\ BIC &amp; \\text{(Schwarz) Bayesian information criterion} \\\\ cdf &amp; \\text{cumulative distribution function} \\\\ df &amp; \\text{degrees of freedom} \\\\ iid &amp; \\text{independent and identically distributed} \\\\ GLM &amp; \\text{generalized linear model} \\\\ mle &amp; \\text{maximum likelihood estimate/estimator}\\\\ ols &amp; \\text{ordinary least squares} \\\\ pdf &amp; \\text{probability density function} \\\\ pmf &amp; \\text{probability mass function} \\\\ \\hline \\end{array} \\] 6.5 Common Statistical Symbols and Operators Here is a list of commonly used statistical symbols and operators, including the latex code that we use to generate them (in the parens). \\[ \\begin{array}{cl} \\hline \\textbf{Symbol} &amp; \\textbf{Description} \\\\ \\hline I(\\cdot) &amp; \\text{binary indicator function (}I\\text{). For example, }I(A) \\text{ is one if an outcome in event} \\\\ &amp; \\ \\ \\ \\ \\ A \\text{ occurs and is 0 otherwise.} \\\\ \\Pr(\\cdot) &amp; \\text{probability }(\\backslash{\\tt{Pr}}) \\\\ \\mathrm{E}(\\cdot) &amp; {\\text{expectation operator }} (\\backslash{\\tt{mathrm\\{E\\}}}). {\\text{ For example, }} \\mathrm{E}(X)=\\mathrm{E}~X {\\text{ is the }} \\\\ &amp; \\ \\ \\ \\ \\ {\\text{expected value of the random variable }}X,{\\text{ commonly denoted by }}\\mu. \\\\ \\mathrm{Var}(\\cdot) &amp; \\text{variance operator }(\\backslash{\\tt{mathrm\\{Var\\}}}). \\text{ For example, } \\mathrm{Var}(X)=\\mathrm{Var}~X\\text{ is the} \\\\ &amp; \\ \\ \\ \\ \\ \\text{ variance of the random variable } X, \\text{commonly denoted by } \\sigma^2. \\\\ \\mu_k = \\mathrm{E}~X^k &amp; \\text{kth moment of the random variable X. For }k\\text{=1, use }\\mu = \\mu_1. \\\\ \\mathrm{Cov}(\\cdot,\\cdot) &amp; \\text{covariance operator } (\\backslash{\\tt{mathrm\\{Cov\\}}}).\\text{ For example, } \\\\ &amp; \\ \\ \\ \\ \\ \\mathrm{Cov}(X,Y)=\\mathrm{E}\\left\\{(X -\\mathrm{E}~X)(Y-\\mathrm{E}~Y)\\right\\} =\\mathrm{E}(XY) -(\\mathrm{E}~X)(\\mathrm{E}~Y)\\\\ &amp; \\ \\ \\ \\ \\ \\text{ is the covariance between random variables }X\\text{ and }Y. \\\\ \\mathrm{E}(X | \\cdot) &amp; \\text{conditional expectation operator. For example, }\\mathrm{E}(X |Y=y) \\text{ is the}\\\\ &amp; \\ \\ \\ \\ \\ \\text{ conditional expected value of a random variable }X\\text{ given that }\\\\ &amp; \\ \\ \\ \\ \\ \\text{ the random variable }Y\\text{ equals y. }\\\\ \\Phi(\\cdot) &amp; \\text{standard normal cumulative distribution function }(\\backslash{\\tt{Phi}})\\\\ \\phi(\\cdot) &amp; \\text{standard normal probability density function }(\\backslash{\\tt{phi}})\\\\ \\sim &amp; \\text{means is distributed as }(\\backslash{\\tt{sim}}). \\text{ For example, }X\\sim F \\text{ means that the } \\\\ &amp; \\ \\ \\ \\ \\ \\text{random variable } X \\text{ has distribution function }F. \\\\ se(\\hat{\\beta}) &amp; \\text{standard error of the parameter estimate }\\hat{\\beta} ~ (\\backslash{\\tt{hat\\{}}\\backslash{\\tt{beta\\}}}), \\text{ usually }\\\\ &amp; \\ \\ \\ \\ \\ \\text{ an estimate of the standard deviation of }\\hat{\\beta},\\text{ which is }\\sqrt{Var(\\hat{\\beta})}. \\\\ H_0 &amp; \\text{null hypothesis} \\\\ H_a \\text{ or }H_1 &amp; \\text{alternative hypothesis} \\\\ \\hline \\end{array} \\] 6.6 Common Mathematical Symbols and Functions Here is a list of commonly used mathematical symbols and functions, including the latex code that we use to generate them (in the parens). \\[ \\begin{array}{cll} \\hline \\textbf{Symbol} &amp; \\textbf{Latex code} &amp; \\textbf{Description} \\\\ \\hline \\equiv &amp; \\backslash\\tt{equiv} &amp; \\text{identity, equivalence} \\\\ \\implies &amp; \\backslash\\tt{implies} &amp; \\text{implies} \\\\ \\iff &amp; \\backslash\\tt{iff} &amp; \\text{if and only if} \\\\ \\to, \\longrightarrow &amp; \\backslash\\tt{to}, \\backslash\\tt{longrightarrow} &amp; \\text{converges to} \\\\ \\mathbb{N} &amp; \\backslash\\tt{mathbb\\{N\\}} &amp; \\text{natural numbers }1,2,\\ldots \\\\ \\mathbb{R} &amp; \\backslash\\tt{mathbb\\{R\\}} &amp; \\text{real numbers} \\\\ \\in &amp; \\backslash\\tt{in} &amp; \\text{belongs to} \\\\ \\notin &amp; \\backslash\\tt{notin} &amp; \\text{does not belong to} \\\\ \\subseteq &amp; \\backslash\\tt{subseteq} &amp; \\text{is a subset of} \\\\ \\subset &amp; \\backslash\\tt{subset} &amp; \\text{is a proper subset of} \\\\ \\cup &amp; \\backslash\\tt{cup} &amp; \\text{union} \\\\ \\cap &amp; \\backslash\\tt{cap} &amp; \\text{intersection} \\\\ \\emptyset &amp; \\backslash\\tt{emptyset} &amp; \\text{empty set} \\\\ A^{c} &amp; &amp; \\text{complement of }A \\\\ g*f &amp; &amp; \\text{convolution }(g*f)(x)=\\int_{-\\infty}^{\\infty}g(y)f(x-y)dy \\\\ \\exp &amp; \\backslash\\tt{exp} &amp; \\text{exponential} \\\\ \\log &amp; \\backslash\\tt{log} &amp; \\text{natural logarithm }\\\\ \\log_a &amp; &amp; \\text{logarithm to the base }a \\\\ ! &amp; &amp; \\text{factorial} \\\\ \\text{sgn}(x) &amp; \\backslash\\tt{sgn} &amp; \\text{sign of x} \\\\ \\lfloor x\\rfloor &amp; \\backslash\\tt{lfloor}, \\backslash\\tt{rfloor} &amp; \\text{integer part of x, that is, largest integer }\\leq x \\\\ |x| &amp; &amp; \\text{absolute value of scalar }x \\\\ \\varGamma(x) &amp; \\backslash\\tt{varGamma} &amp; \\text{gamma (generalized factorial) function},\\\\ &amp; &amp; \\text{satisfying }\\varGamma(x+1)=x\\varGamma(x) \\\\ B(x,y) &amp; &amp; \\text{beta function, }\\varGamma(x)\\varGamma(y)/\\varGamma(x+y) \\\\ \\hline \\end{array} \\] 6.7 Further Readings To make connections to other literatures, see (Abadir and Magnus 2002) for a summary of notation from the econometrics perspective. This reference has a terrific feature that many latex symbols are defined in the article. Further, there is a long history of discussion and debate surrounding actuarial notation; see (Boehm et al. 1975) for one contribution. References "],["bibliography.html", "Bibliography", " Bibliography Time taken for this draft of the book: 0.58 minutes. "]]
