<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Empirical Exercises | Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance</title>
  <meta name="description" content="This is an interactive, online, freely available text. - The online version will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning. - A subset of the book will be available in pdf format for low-cost printing. - The online text will be available in multiple languages to promote access to a worldwide audience." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Empirical Exercises | Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an interactive, online, freely available text. - The online version will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning. - A subset of the book will be available in pdf format for low-cost printing. - The online text will be available in multiple languages to promote access to a worldwide audience." />
  <meta name="github-repo" content="https://github.com/OpenActTextDev" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Empirical Exercises | Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance" />
  
  <meta name="twitter:description" content="This is an interactive, online, freely available text. - The online version will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning. - A subset of the book will be available in pdf format for low-cost printing. - The online text will be available in multiple languages to promote access to a worldwide audience." />
  

<meta name="author" content="An open text authored by the Actuarial Community" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="C-Forward.html"/>
<link rel="next" href="method-exercises.html"/>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="libs/rglWebGL-binding-0.106.8/rglWebGL.js"></script>
<link href="libs/rglwidgetClass-0.106.8/rgl.css" rel="stylesheet" />
<script src="libs/rglwidgetClass-0.106.8/rglClass.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/utils.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/subscenes.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/shaders.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/textures.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/projection.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/mouse.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/init.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/pieces.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/draw.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/controls.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/selection.src.js"></script>
<script src="libs/rglwidgetClass-0.106.8/rglTimer.src.js"></script>
<script src="libs/CanvasMatrix4-0.106.8/CanvasMatrix.src.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script language="javascript">
function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
</script>

<script language="javascript">
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
</script>
<script language="javascript">
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
</script>
<script language="javascript">
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
</script>

<script language="javascript">
function toggleDet(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Details";}
      else {ele.style.display = "block"; text.innerHTML = "Hide  Details";}}
</script>

<script language="javascript">
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>

<script src=https://cdn.datacamp.com/datacamp-light-latest.min.js></script>

<script src="https://bossanova.uk/jspreadsheet/v4/jexcel.js"></script>
<link rel="stylesheet" href="https://bossanova.uk/jspreadsheet/v4/jexcel.css" type="text/css" />
<script src="https://jsuites.net/v4/jsuites.js"></script>
<link rel="stylesheet" href="https://jsuites.net/v4/jsuites.css" type="text/css" />


<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>

<style>
/* Rearrange console label */
.datacamp-exercise ol li, .datacamp-exercise ul li {
  margin-bottom: 0em !important;
}

/* Remove bullet marker */
.datacamp-exercise ol li::before, .datacamp-exercise ul li::before {
  content: '' !important;
}
</style>


<script language="javascript">
var submitAnswer = function() {

  var radios = document.getElementsByName('choice');
  var val= "";
  for (var i = 0, length = radios.length; i < length; i++) {
      if (radios[i].checked) {
         val = radios[i].value; 
         break;
       }
  }
  
  if (val == "" ) {
    alert('please select choice answer');
  } else if ( val == "Correct" ) {
    alert('Answer is correct !');
  } else {
    alert('Answer is wrong');
  }
};
</script>





<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HR3RQ92M9M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HR3RQ92M9M');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Life Contingencies</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#for-our-readers"><i class="fa fa-check"></i>For our Readers</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html"><i class="fa fa-check"></i><b>2</b> Modeling Lifetimes</a><ul>
<li class="chapter" data-level="2.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:MortData"><i class="fa fa-check"></i><b>2.1</b> Mortality data: Life Expectancies, Deaths, Counts, &amp; Lifetimes</a><ul>
<li class="chapter" data-level="2.1.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:DataLifeExp"><i class="fa fa-check"></i><b>2.1.1</b> Life Expectancies</a></li>
<li class="chapter" data-level="2.1.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:HMDData"><i class="fa fa-check"></i><b>2.1.2</b> Population Mortality Counts</a></li>
<li class="chapter" data-level="2.1.3" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:IndivMortData"><i class="fa fa-check"></i><b>2.1.3</b> Individual Mortality Data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#Sec:ModelingDeaths"><i class="fa fa-check"></i><b>2.2</b> Modeling Death</a><ul>
<li class="chapter" data-level="2.2.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#lifetime-random-variable-and-its-distribution"><i class="fa fa-check"></i><b>2.2.1</b> Lifetime Random Variable and its Distribution</a></li>
<li class="chapter" data-level="2.2.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#standard-actuarial-notation-q_bfx-_tp_bfx-and-all-that"><i class="fa fa-check"></i><b>2.2.2</b> Standard Actuarial Notation: <span class="math inline">\(q_{\bf{x}}\)</span>, <span class="math inline">\(_tp_{\bf{x}}\)</span>, and All That</a></li>
<li class="chapter" data-level="2.2.3" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:ModelOnlyAge"><i class="fa fa-check"></i><b>2.2.3</b> The Classical Case: Age-Only Model</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:AnalMortLaws"><i class="fa fa-check"></i><b>2.3</b> Analytical Laws of Mortality</a><ul>
<li class="chapter" data-level="2.3.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#de-moivre-and-constant-force-models"><i class="fa fa-check"></i><b>2.3.1</b> De Moivre and Constant Force Models</a></li>
<li class="chapter" data-level="2.3.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#gompertz-and-makeham-laws"><i class="fa fa-check"></i><b>2.3.2</b> Gompertz and Makeham Laws</a></li>
<li class="chapter" data-level="2.3.3" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#makeham-law-based-on-life-expectancies-data"><i class="fa fa-check"></i><b>2.3.3</b> Makeham Law based on Life Expectancies Data</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:LifeTab"><i class="fa fa-check"></i><b>2.4</b> Life Tables and their Functions</a><ul>
<li class="chapter" data-level="2.4.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:LifeTabBasics"><i class="fa fa-check"></i><b>2.4.1</b> Life Table Basics</a></li>
<li class="chapter" data-level="2.4.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:LifeTabEst"><i class="fa fa-check"></i><b>2.4.2</b> Life Table based on U.S. Population Data</a></li>
<li class="chapter" data-level="2.4.3" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:LifeTabRec"><i class="fa fa-check"></i><b>2.4.3</b> Curtate Quantities and Recursive Relationships</a></li>
<li class="chapter" data-level="2.4.4" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:LifeTabFrac"><i class="fa fa-check"></i><b>2.4.4</b> Fractional Year Assumptions</a></li>
<li class="chapter" data-level="2.4.5" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:LifeTabMImpr"><i class="fa fa-check"></i><b>2.4.5</b> Cohort Life Tables and Mortality Improvement Modeling</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:NonParamSurv"><i class="fa fa-check"></i><b>2.5</b> Non-parametric Survival Estimation</a><ul>
<li class="chapter" data-level="2.5.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#kaplan-meier-estimates"><i class="fa fa-check"></i><b>2.5.1</b> Kaplan-Meier Estimates</a></li>
<li class="chapter" data-level="2.5.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#nelson-aalen-estimates"><i class="fa fa-check"></i><b>2.5.2</b> Nelson-Aalen Estimates</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#S:SurvReg"><i class="fa fa-check"></i><b>2.6</b> Conditional Models: Survival regression</a><ul>
<li class="chapter" data-level="2.6.1" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#the-cox-proportional-hazard-model"><i class="fa fa-check"></i><b>2.6.1</b> The Cox Proportional Hazard Model</a></li>
<li class="chapter" data-level="2.6.2" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#cox-models-based-on-life-insurer-data"><i class="fa fa-check"></i><b>2.6.2</b> Cox Models Based on Life Insurer Data</a></li>
<li class="chapter" data-level="2.6.3" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#conditional-life-tables"><i class="fa fa-check"></i><b>2.6.3</b> Conditional Life Tables</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="C-ModelingLifeTimes.html"><a href="C-ModelingLifeTimes.html#notes-and-comments"><i class="fa fa-check"></i><b>2.7</b> Notes and Comments</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html"><i class="fa fa-check"></i><b>3</b> Basic Life Contingent Benefits</a><ul>
<li class="chapter" data-level="3.1" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitCFunc"><i class="fa fa-check"></i><b>3.1</b> Valuation of Cash Flows under Uncertainty</a><ul>
<li class="chapter" data-level="3.1.1" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#moment-calculations"><i class="fa fa-check"></i><b>3.1.1</b> Moment Calculations</a></li>
<li class="chapter" data-level="3.1.2" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#illustrative-moments-of-cash-flows"><i class="fa fa-check"></i><b>3.1.2</b> Illustrative Moments of Cash Flows</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitActNot"><i class="fa fa-check"></i><b>3.2</b> Life Insurance Benefits</a><ul>
<li class="chapter" data-level="3.2.1" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitWL"><i class="fa fa-check"></i><b>3.2.1</b> Whole of life insurance</a></li>
<li class="chapter" data-level="3.2.2" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitTI"><i class="fa fa-check"></i><b>3.2.2</b> Term insurance</a></li>
<li class="chapter" data-level="3.2.3" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#pure-endowment"><i class="fa fa-check"></i><b>3.2.3</b> Pure endowment</a></li>
<li class="chapter" data-level="3.2.4" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#endowment-insurance"><i class="fa fa-check"></i><b>3.2.4</b> Endowment insurance</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitAnnuity"><i class="fa fa-check"></i><b>3.3</b> Life Annuity Benefits</a><ul>
<li class="chapter" data-level="3.3.1" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#life-annuity"><i class="fa fa-check"></i><b>3.3.1</b> Life annuity</a></li>
<li class="chapter" data-level="3.3.2" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:TermLifeAnnuity"><i class="fa fa-check"></i><b>3.3.2</b> Term life annuity</a></li>
<li class="chapter" data-level="3.3.3" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#deferred-life-annuity"><i class="fa fa-check"></i><b>3.3.3</b> Deferred life annuity</a></li>
<li class="chapter" data-level="3.3.4" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#guaranteed-life-annuity"><i class="fa fa-check"></i><b>3.3.4</b> Guaranteed life annuity</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitSpread"><i class="fa fa-check"></i><b>3.4</b> Valuing Life Contingent Benefits using a Spreadsheet</a></li>
<li class="chapter" data-level="3.5" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitCS"><i class="fa fa-check"></i><b>3.5</b> Case Study: A Portfolio of Term Insurance Policies</a><ul>
<li class="chapter" data-level="3.5.1" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitCSInd"><i class="fa fa-check"></i><b>3.5.1</b> An individual policy</a></li>
<li class="chapter" data-level="3.5.2" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#Sec:BenefitCSPort"><i class="fa fa-check"></i><b>3.5.2</b> Moments of a portfolio of policies</a></li>
<li class="chapter" data-level="3.5.3" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#simulated-distribution-of-a-portfolio-of-policies"><i class="fa fa-check"></i><b>3.5.3</b> Simulated distribution of a portfolio of policies</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="C-SimpleBenefit.html"><a href="C-SimpleBenefit.html#further-resources-and-contributors"><i class="fa fa-check"></i><b>3.6</b> Further Resources and Contributors</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html"><i class="fa fa-check"></i><b>4</b> Contingent Payment Techniques</a><ul>
<li class="chapter" data-level="4.1" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:mthlyFlows"><i class="fa fa-check"></i><b>4.1</b> Contingent Cash Flows Occurring <span class="math inline">\(m^{th}\)</span>ly</a><ul>
<li class="chapter" data-level="4.1.1" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:BasicConceptsmthly"><i class="fa fa-check"></i><b>4.1.1</b> Basic Concepts</a></li>
<li class="chapter" data-level="4.1.2" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#illustrative-cash-flows"><i class="fa fa-check"></i><b>4.1.2</b> Illustrative Cash Flows</a></li>
<li class="chapter" data-level="4.1.3" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#contingent-cash-flows-in-continuous-time"><i class="fa fa-check"></i><b>4.1.3</b> Contingent Cash Flows in Continuous Time</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:SamplingBias"><i class="fa fa-check"></i><b>4.2</b> Sampling Bias</a><ul>
<li class="chapter" data-level="4.2.1" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#population-subsets-and-sampling-bias"><i class="fa fa-check"></i><b>4.2.1</b> Population Subsets and Sampling Bias</a></li>
<li class="chapter" data-level="4.2.2" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#sampling-bias-in-actuarial-practice"><i class="fa fa-check"></i><b>4.2.2</b> Sampling Bias in Actuarial Practice</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:EconomicMotivation"><i class="fa fa-check"></i><b>4.3</b> Using Economics to Motivate Insurance Features</a><ul>
<li class="chapter" data-level="4.3.1" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:ActuarialFairRiskClass"><i class="fa fa-check"></i><b>4.3.1</b> Actuarially Fair Prices and Risk Classification</a></li>
<li class="chapter" data-level="4.3.2" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:SelectionAdverse"><i class="fa fa-check"></i><b>4.3.2</b> Selection and Adverse Selection</a></li>
<li class="chapter" data-level="4.3.3" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:AsymmericInfo"><i class="fa fa-check"></i><b>4.3.3</b> Asymmetric Information</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:ApplicationsContingent"><i class="fa fa-check"></i><b>4.4</b> Contingent Payment Applications</a></li>
<li class="chapter" data-level="4.5" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:PetInsurance"><i class="fa fa-check"></i><b>4.5</b> Pet Insurance</a><ul>
<li class="chapter" data-level="4.5.1" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:IntroPet"><i class="fa fa-check"></i><b>4.5.1</b> Introduction to Pet Health Insurance</a></li>
<li class="chapter" data-level="4.5.2" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:CanineMort"><i class="fa fa-check"></i><b>4.5.2</b> Canine Mortality</a></li>
<li class="chapter" data-level="4.5.3" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:DogCostCare"><i class="fa fa-check"></i><b>4.5.3</b> Cost of Care</a></li>
<li class="chapter" data-level="4.5.4" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#more-on-pet-insurance-markets"><i class="fa fa-check"></i><b>4.5.4</b> More on Pet Insurance Markets</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#Sec:DisIncInsurance"><i class="fa fa-check"></i><b>4.6</b> Disability Income Insurance</a><ul>
<li class="chapter" data-level="4.6.1" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#introduction-to-disability-income-insurance"><i class="fa fa-check"></i><b>4.6.1</b> Introduction to Disability Income Insurance</a></li>
<li class="chapter" data-level="4.6.2" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#disability-recovery-rates"><i class="fa fa-check"></i><b>4.6.2</b> Disability Recovery Rates</a></li>
<li class="chapter" data-level="4.6.3" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#actuarial-present-values-of-disability-income"><i class="fa fa-check"></i><b>4.6.3</b> Actuarial Present Values of Disability Income</a></li>
<li class="chapter" data-level="4.6.4" data-path="C-BenefitExt.html"><a href="C-BenefitExt.html#more-on-disability-income-insurance"><i class="fa fa-check"></i><b>4.6.4</b> More on Disability Income Insurance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="C-Forward.html"><a href="C-Forward.html"><i class="fa fa-check"></i><b>5</b> Going Forward</a><ul>
<li class="chapter" data-level="5.1" data-path="C-Forward.html"><a href="C-Forward.html#table-of-contents"><i class="fa fa-check"></i><b>5.1</b> Table of Contents</a></li>
<li class="chapter" data-level="5.2" data-path="C-Forward.html"><a href="C-Forward.html#usage-data"><i class="fa fa-check"></i><b>5.2</b> Usage Data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="empirical-exercises.html"><a href="empirical-exercises.html"><i class="fa fa-check"></i><b>6</b> Empirical Exercises</a><ul>
<li class="chapter" data-level="6.1" data-path="empirical-exercises.html"><a href="empirical-exercises.html#chapter-2-empirical-exercises"><i class="fa fa-check"></i><b>6.1</b> Chapter 2 Empirical Exercises</a></li>
<li class="chapter" data-level="6.2" data-path="empirical-exercises.html"><a href="empirical-exercises.html#chapter-3-empirical-exercises"><i class="fa fa-check"></i><b>6.2</b> Chapter 3 Empirical Exercises</a></li>
<li class="chapter" data-level="6.3" data-path="empirical-exercises.html"><a href="empirical-exercises.html#chapter-4-empirical-exercises"><i class="fa fa-check"></i><b>6.3</b> Chapter 4 Empirical Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="method-exercises.html"><a href="method-exercises.html"><i class="fa fa-check"></i><b>7</b> Method Exercises</a><ul>
<li class="chapter" data-level="7.1" data-path="method-exercises.html"><a href="method-exercises.html#chapter-2-method-exercises"><i class="fa fa-check"></i><b>7.1</b> Chapter 2 Method Exercises</a><ul>
<li class="chapter" data-level="7.1.1" data-path="method-exercises.html"><a href="method-exercises.html#section-2.2-method-exercises"><i class="fa fa-check"></i><b>7.1.1</b> Section 2.2 Method Exercises</a></li>
<li class="chapter" data-level="7.1.2" data-path="method-exercises.html"><a href="method-exercises.html#section-2.3-method-exercises"><i class="fa fa-check"></i><b>7.1.2</b> Section 2.3 Method Exercises</a></li>
<li class="chapter" data-level="7.1.3" data-path="method-exercises.html"><a href="method-exercises.html#section-2.4-method-exercises"><i class="fa fa-check"></i><b>7.1.3</b> Section 2.4 Method Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="method-exercises.html"><a href="method-exercises.html#chapter-3-method-exercises"><i class="fa fa-check"></i><b>7.2</b> Chapter 3 Method Exercises</a><ul>
<li class="chapter" data-level="7.2.1" data-path="method-exercises.html"><a href="method-exercises.html#section-3.2-method-exercises"><i class="fa fa-check"></i><b>7.2.1</b> Section 3.2 Method Exercises</a></li>
<li class="chapter" data-level="7.2.2" data-path="method-exercises.html"><a href="method-exercises.html#section-3.3-method-exercises"><i class="fa fa-check"></i><b>7.2.2</b> Section 3.3 Method Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="method-exercises.html"><a href="method-exercises.html#chapter-4-method-exercises"><i class="fa fa-check"></i><b>7.3</b> Chapter 4 Method Exercises</a><ul>
<li class="chapter" data-level="7.3.1" data-path="method-exercises.html"><a href="method-exercises.html#section-4.1-method-exercises"><i class="fa fa-check"></i><b>7.3.1</b> Section 4.1 Method Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="method-exercises.html"><a href="method-exercises.html#chapter-5-method-exercises"><i class="fa fa-check"></i><b>7.4</b> Chapter 5 Method Exercises</a></li>
<li class="chapter" data-level="7.5" data-path="method-exercises.html"><a href="method-exercises.html#chapter-6-method-exercises"><i class="fa fa-check"></i><b>7.5</b> Chapter 6 Method Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html"><i class="fa fa-check"></i><b>8</b> Appendix: Data Dictionary</a><ul>
<li class="chapter" data-level="8.1" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:DataUSPoPCounts"><i class="fa fa-check"></i><b>8.1</b> United States Population Mortality Counts</a></li>
<li class="chapter" data-level="8.2" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:SyntheticInsData"><i class="fa fa-check"></i><b>8.2</b> Synthetic Insurer Data</a></li>
<li class="chapter" data-level="8.3" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:CanineMortality"><i class="fa fa-check"></i><b>8.3</b> Canine Mortality</a></li>
<li class="chapter" data-level="8.4" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:CanadianSelect"><i class="fa fa-check"></i><b>8.4</b> Canadian Female Select and Ultimate Mortality Table</a></li>
<li class="chapter" data-level="8.5" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:KoreanMortality"><i class="fa fa-check"></i><b>8.5</b> Korean Mortality by Insured Status</a><ul>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#korean-mortality---insured-lives"><i class="fa fa-check"></i>Korean Mortality - Insured Lives</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#korean-mortality---annuitants"><i class="fa fa-check"></i>Korean Mortality - Annuitants</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#korean-mortality---population"><i class="fa fa-check"></i>Korean Mortality - Population</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:MortalityCountry"><i class="fa fa-check"></i><b>8.6</b> Mortality by Country</a><ul>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#population-mortality---japan"><i class="fa fa-check"></i>Population Mortality - Japan</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#population-mortality---poland"><i class="fa fa-check"></i>Population Mortality - Poland</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#population-mortality---united-states"><i class="fa fa-check"></i>Population Mortality - United States</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#Sec:DataDisIncome"><i class="fa fa-check"></i><b>8.7</b> Disability Income</a><ul>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#disability-recovery-rates---male"><i class="fa fa-check"></i>Disability Recovery Rates - Male</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#disability-recovery-rates---female"><i class="fa fa-check"></i>Disability Recovery Rates - FeMale</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#death-and-disability-recovery-rates---male"><i class="fa fa-check"></i>Death and Disability Recovery Rates - Male</a></li>
<li class="chapter" data-level="" data-path="appendix-data-dictionary.html"><a href="appendix-data-dictionary.html#death-and-disability-recovery-rates---female"><i class="fa fa-check"></i>Death and Disability Recovery Rates - Female</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html"><i class="fa fa-check"></i><b>9</b> Appendix: Conventions for Notation</a><ul>
<li class="chapter" data-level="9.1" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:NC:ActSymbols"><i class="fa fa-check"></i><b>9.1</b> Actuarial Notation</a><ul>
<li class="chapter" data-level="9.1.1" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#life-table-symbols"><i class="fa fa-check"></i><b>9.1.1</b> Life Table Symbols</a></li>
<li class="chapter" data-level="9.1.2" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:LifeInsSymbols"><i class="fa fa-check"></i><b>9.1.2</b> Life Insurance Symbols</a></li>
<li class="chapter" data-level="9.1.3" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:LifeAnnSymbols"><i class="fa fa-check"></i><b>9.1.3</b> Annuity Certain and Life Annuity Symbols</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:NotConv:Halo"><i class="fa fa-check"></i><b>9.2</b> Halo System</a></li>
<li class="chapter" data-level="9.3" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:NC:General"><i class="fa fa-check"></i><b>9.3</b> General Conventions</a></li>
<li class="chapter" data-level="9.4" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:NC:Abbreviations"><i class="fa fa-check"></i><b>9.4</b> Abbreviations</a></li>
<li class="chapter" data-level="9.5" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:NC:StatSymbols"><i class="fa fa-check"></i><b>9.5</b> Common Statistical Symbols and Operators</a></li>
<li class="chapter" data-level="9.6" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#Sec:NC:Symbols"><i class="fa fa-check"></i><b>9.6</b> Common Mathematical Symbols and Functions</a></li>
<li class="chapter" data-level="9.7" data-path="C-NotationConventionLC.html"><a href="C-NotationConventionLC.html#further-readings"><i class="fa fa-check"></i><b>9.7</b> Further Readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i>Bibliography</a></li>
<li class="divider"></li>
<li><a href="https://github.com/OpenActTextDev/LifeCon" target="blank">Life Contingencies on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Life Contingencies: The Mathematics, Statistics, and Economics of Life Insurance</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="empirical-exercises" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Empirical Exercises</h1>
<p><span class="math inline">\(\require{enclose}\)</span>
<!-- Later equations only properly knit if this is beforehand once in the code $\require{enclose}$ --></p>
<div id="chapter-2-empirical-exercises" class="section level2">
<h2><span class="header-section-number">6.1</span> Chapter 2 Empirical Exercises</h2>
<p><strong>Exercise 2.3.1. Gompertz-Makeham and Survival Probabilities.</strong> Recall the U.S. Life Expectancies introduced in Section 2.1:</p>
<table>
<caption><span id="tab:unnamed-chunk-50">Table 6.1: </span>Life Expectancies From 2017 U.S. National Vital Statistics</caption>
<thead>
<tr class="header">
<th align="right">Age</th>
<th align="right">Total</th>
<th align="right">Male</th>
<th align="right">Female</th>
<th align="right">Hispanic..Total</th>
<th align="right">Hispanic..Male</th>
<th align="right">Hispanic..Female</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">78.6</td>
<td align="right">76.1</td>
<td align="right">81.1</td>
<td align="right">81.8</td>
<td align="right">79.1</td>
<td align="right">84.3</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">59.4</td>
<td align="right">57.0</td>
<td align="right">61.8</td>
<td align="right">62.5</td>
<td align="right">59.9</td>
<td align="right">64.9</td>
</tr>
<tr class="odd">
<td align="right">40</td>
<td align="right">40.7</td>
<td align="right">38.7</td>
<td align="right">42.6</td>
<td align="right">43.5</td>
<td align="right">41.2</td>
<td align="right">45.5</td>
</tr>
<tr class="even">
<td align="right">60</td>
<td align="right">23.3</td>
<td align="right">21.7</td>
<td align="right">24.7</td>
<td align="right">25.5</td>
<td align="right">23.6</td>
<td align="right">27.0</td>
</tr>
<tr class="odd">
<td align="right">80</td>
<td align="right">9.2</td>
<td align="right">8.4</td>
<td align="right">9.8</td>
<td align="right">10.5</td>
<td align="right">9.4</td>
<td align="right">11.1</td>
</tr>
</tbody>
</table>
<p>Section 2.3 used these data to fit a Gompertz-Makeham distribution for female lives; in this exercise, we repeat this analysis but for male lives. To this end,</p>
<ol style="list-style-type: lower-alpha">
<li>Fit a Gompertz-Makeham model to the provided US Male life expectancies.</li>
<li>Plot the resulting force of mortality and the survival function, compare to the one for U.S. Females from Section 2.3.</li>
<li>Determine the resulting model to determine the probabilities that a 20 year old survives to age 60, 70, and 80: <span class="math inline">\(~_{40}p_{20}\)</span>, <span class="math inline">\(~_{50}p_{20}\)</span>, and <span class="math inline">\(~_{60}p_{20}\)</span>.</li>
</ol>
<h5 style="text-align: center;">
<a id="displayCode.Exer2.3.1A" href="javascript:togglecode('toggleCode.Exer2.3.1A','displayCode.Exer2.3.1A');"><i><strong>Exercise 2.3.1 Solution</strong></i></a>
</h5>
<div id="toggleCode.Exer2.3.1A" style="display: none">
<p><strong>Part (a)</strong></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="empirical-exercises.html#cb69-1"></a>S_<span class="dv">0</span> &lt;-<span class="st"> </span><span class="cf">function</span>(t,A,B,c) { <span class="kw">exp</span>(<span class="op">-</span><span class="st"> </span>A <span class="op">*</span><span class="st"> </span>t <span class="op">-</span><span class="st"> </span>B <span class="op">*</span><span class="st"> </span>(<span class="kw">exp</span>(<span class="kw">log</span>(c)<span class="op">*</span>t) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span><span class="st"> </span><span class="kw">log</span>(c) )}</span>
<span id="cb69-2"><a href="empirical-exercises.html#cb69-2"></a>le &lt;-<span class="st"> </span><span class="cf">function</span>(age,A,B,c){</span>
<span id="cb69-3"><a href="empirical-exercises.html#cb69-3"></a>  S_x &lt;-<span class="st"> </span><span class="cf">function</span>(t){ <span class="kw">S_0</span>(age<span class="op">+</span>t,A,B,c)<span class="op">/</span><span class="kw">S_0</span>(age,A,B,c)}</span>
<span id="cb69-4"><a href="empirical-exercises.html#cb69-4"></a>  res &lt;-<span class="st"> </span><span class="kw">integrate</span>(S_x,<span class="dt">lower =</span> <span class="dv">0</span>, <span class="dt">upper =</span> (<span class="dv">120</span><span class="op">-</span>age))<span class="op">$</span>value</span>
<span id="cb69-5"><a href="empirical-exercises.html#cb69-5"></a>  <span class="kw">return</span>(res)</span>
<span id="cb69-6"><a href="empirical-exercises.html#cb69-6"></a>}</span>
<span id="cb69-7"><a href="empirical-exercises.html#cb69-7"></a></span>
<span id="cb69-8"><a href="empirical-exercises.html#cb69-8"></a><span class="kw">le</span>(<span class="dv">20</span>,<span class="fl">0.001</span>,<span class="fl">0.0001</span>,<span class="fl">1.1</span>)</span>
<span id="cb69-9"><a href="empirical-exercises.html#cb69-9"></a></span>
<span id="cb69-10"><a href="empirical-exercises.html#cb69-10"></a>tomin &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb69-11"><a href="empirical-exercises.html#cb69-11"></a>  res &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb69-12"><a href="empirical-exercises.html#cb69-12"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>){</span>
<span id="cb69-13"><a href="empirical-exercises.html#cb69-13"></a>    res &lt;-<span class="st"> </span>res <span class="op">+</span><span class="st"> </span>(us_les[i,<span class="dv">3</span>] <span class="op">-</span><span class="st"> </span><span class="kw">le</span>((i<span class="dv">-1</span>)<span class="op">*</span><span class="dv">20</span>,<span class="fl">0.0001</span><span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>x[<span class="dv">1</span>]<span class="op">/</span><span class="dv">100</span>),<span class="fl">0.000007</span><span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>x[<span class="dv">2</span>]<span class="op">/</span><span class="dv">100</span>),<span class="fl">1.10</span><span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>x[<span class="dv">3</span>]<span class="op">/</span><span class="dv">100</span>)))<span class="op">^</span><span class="dv">2</span></span>
<span id="cb69-14"><a href="empirical-exercises.html#cb69-14"></a>  }</span>
<span id="cb69-15"><a href="empirical-exercises.html#cb69-15"></a>  <span class="kw">return</span>(res)</span>
<span id="cb69-16"><a href="empirical-exercises.html#cb69-16"></a>}</span>
<span id="cb69-17"><a href="empirical-exercises.html#cb69-17"></a></span>
<span id="cb69-18"><a href="empirical-exercises.html#cb69-18"></a><span class="kw">library</span>(pracma)</span>
<span id="cb69-19"><a href="empirical-exercises.html#cb69-19"></a>res &lt;-<span class="st"> </span><span class="kw">fminsearch</span>(tomin,<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb69-20"><a href="empirical-exercises.html#cb69-20"></a></span>
<span id="cb69-21"><a href="empirical-exercises.html#cb69-21"></a>A_opt_mal &lt;-<span class="st"> </span><span class="fl">0.0001</span><span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>res<span class="op">$</span>xmin[<span class="dv">1</span>]<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb69-22"><a href="empirical-exercises.html#cb69-22"></a>B_opt_mal &lt;-<span class="st"> </span><span class="fl">0.000007</span><span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>res<span class="op">$</span>xmin[<span class="dv">2</span>]<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb69-23"><a href="empirical-exercises.html#cb69-23"></a>c_opt_mal &lt;-<span class="st"> </span><span class="fl">1.10</span><span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>res<span class="op">$</span>xmin[<span class="dv">3</span>]<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb69-24"><a href="empirical-exercises.html#cb69-24"></a><span class="kw">le</span>(<span class="dv">0</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span>
<span id="cb69-25"><a href="empirical-exercises.html#cb69-25"></a><span class="kw">le</span>(<span class="dv">20</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span>
<span id="cb69-26"><a href="empirical-exercises.html#cb69-26"></a><span class="kw">le</span>(<span class="dv">40</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span>
<span id="cb69-27"><a href="empirical-exercises.html#cb69-27"></a><span class="kw">le</span>(<span class="dv">60</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span>
<span id="cb69-28"><a href="empirical-exercises.html#cb69-28"></a><span class="kw">le</span>(<span class="dv">80</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span></code></pre></div>
<pre><code>[1] 45.184
[1] 75.98
[1] 57.253
[1] 38.669
[1] 21.486
[1] 8.5454</code></pre>
<p><strong>Part (b)</strong></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="empirical-exercises.html#cb71-1"></a>ages &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">110</span></span>
<span id="cb71-2"><a href="empirical-exercises.html#cb71-2"></a>mus &lt;-<span class="st"> </span>A_opt_mal <span class="op">+</span><span class="st"> </span>B_opt_mal <span class="op">*</span><span class="st"> </span><span class="kw">exp</span>(<span class="kw">log</span>(c_opt_mal) <span class="op">*</span><span class="st"> </span>ages)</span>
<span id="cb71-3"><a href="empirical-exercises.html#cb71-3"></a><span class="kw">plot</span>(mus,<span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Force of Mortality&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;Age&quot;</span>)</span></code></pre></div>
<p><img src="LifeCon_files/figure-html/unnamed-chunk-52-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><strong>Part (c)</strong></p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="empirical-exercises.html#cb72-1"></a><span class="kw">S_0</span>(<span class="dv">60</span>,A_opt_mal,B_opt_mal,c_opt_mal) <span class="op">/</span><span class="st"> </span><span class="kw">S_0</span>(<span class="dv">20</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span>
<span id="cb72-2"><a href="empirical-exercises.html#cb72-2"></a><span class="kw">S_0</span>(<span class="dv">70</span>,A_opt_mal,B_opt_mal,c_opt_mal) <span class="op">/</span><span class="st"> </span><span class="kw">S_0</span>(<span class="dv">20</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span>
<span id="cb72-3"><a href="empirical-exercises.html#cb72-3"></a><span class="kw">S_0</span>(<span class="dv">80</span>,A_opt_mal,B_opt_mal,c_opt_mal) <span class="op">/</span><span class="st"> </span><span class="kw">S_0</span>(<span class="dv">20</span>,A_opt_mal,B_opt_mal,c_opt_mal)</span></code></pre></div>
<pre><code>[1] 0.87661
[1] 0.74606
[1] 0.50279</code></pre>
</div>
<p><strong>Exercise 2.4.1. Creating a Life Table from One-Year Central Decrements.</strong> In this exercise, we will create a life table based on one-year central decrements using data from the <a href="https://www.mortality.org">Human Mortality Database</a>.</p>
<ol style="list-style-type: lower-alpha">
<li>Download the data from Appendix Section <a href="appendix-data-dictionary.html#Sec:DataUSPoPCounts">8.1</a>. Create a subset of the data for year 2015 using female rates.</li>
<li>From these central death rates, create one-year mortality rates.</li>
<li>Starting with 100,000 lives at age 0, create a life table. Use <span class="math inline">\(\omega=111\)</span> as the limiting age. List the first six rows of your table.</li>
</ol>
<h5 style="text-align: center;">
<a id="displayCode.Exer2.4.1" href="javascript:togglecode('toggleCode.Exer2.4.1','displayCode.Exer2.4.1');"><i><strong>Exercise 2.4.1 Solution</strong></i></a>
</h5>
<div id="toggleCode.Exer2.4.1" style="display: none">
<p><strong>Part (a)</strong></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="empirical-exercises.html#cb74-1"></a>dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/HMD_mx.csv&quot;</span>)</span>
<span id="cb74-2"><a href="empirical-exercises.html#cb74-2"></a><span class="co">#dat &lt;- read.csv(&quot;../Data/HMD_mx.csv&quot;)</span></span>
<span id="cb74-3"><a href="empirical-exercises.html#cb74-3"></a>dat_<span class="dv">2015</span>_fem &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>Year_start <span class="op">==</span><span class="st"> </span><span class="dv">2015</span>,<span class="op">-</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>)]</span>
<span id="cb74-4"><a href="empirical-exercises.html#cb74-4"></a><span class="kw">colnames</span>(dat_<span class="dv">2015</span>_fem)[<span class="kw">colnames</span>(dat_<span class="dv">2015</span>_fem)<span class="op">==</span><span class="st">&quot;Female&quot;</span>] &lt;-<span class="st"> &quot;mx&quot;</span></span></code></pre></div>
<p><strong>Part (b)</strong></p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="empirical-exercises.html#cb75-1"></a>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">-</span><span class="kw">exp</span>(<span class="op">-</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>mx)</span></code></pre></div>
<p><strong>Part (c)</strong></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="empirical-exercises.html#cb76-1"></a>l &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_fem<span class="op">$</span>mx))</span>
<span id="cb76-2"><a href="empirical-exercises.html#cb76-2"></a>l[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1000000</span></span>
<span id="cb76-3"><a href="empirical-exercises.html#cb76-3"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">111</span>){</span>
<span id="cb76-4"><a href="empirical-exercises.html#cb76-4"></a>  l[i] =<span class="st"> </span>l[i<span class="dv">-1</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_fem[i<span class="dv">-1</span>,<span class="dv">4</span>])</span>
<span id="cb76-5"><a href="empirical-exercises.html#cb76-5"></a>}</span>
<span id="cb76-6"><a href="empirical-exercises.html#cb76-6"></a>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l &lt;-<span class="st"> </span>l</span>
<span id="cb76-7"><a href="empirical-exercises.html#cb76-7"></a></span>
<span id="cb76-8"><a href="empirical-exercises.html#cb76-8"></a>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">head</span>(dat_<span class="dv">2015</span>_fem), <span class="dt">align =</span> <span class="st">&quot;r&quot;</span>, <span class="dt">caption=</span><span class="st">&quot;Female Life Table&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-56">Table 6.2: </span>Female Life Table</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Year_start</th>
<th align="right">Age</th>
<th align="right">mx</th>
<th align="right">qx</th>
<th align="right">l</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1777</td>
<td align="right">2015</td>
<td align="right">0</td>
<td align="right">0.00530</td>
<td align="right">0.00528</td>
<td align="right">1000000</td>
</tr>
<tr class="even">
<td align="left">1778</td>
<td align="right">2015</td>
<td align="right">1</td>
<td align="right">0.00035</td>
<td align="right">0.00035</td>
<td align="right">994716</td>
</tr>
<tr class="odd">
<td align="left">1779</td>
<td align="right">2015</td>
<td align="right">2</td>
<td align="right">0.00023</td>
<td align="right">0.00023</td>
<td align="right">994370</td>
</tr>
<tr class="even">
<td align="left">1780</td>
<td align="right">2015</td>
<td align="right">3</td>
<td align="right">0.00016</td>
<td align="right">0.00016</td>
<td align="right">994145</td>
</tr>
<tr class="odd">
<td align="left">1781</td>
<td align="right">2015</td>
<td align="right">4</td>
<td align="right">0.00014</td>
<td align="right">0.00014</td>
<td align="right">993983</td>
</tr>
<tr class="even">
<td align="left">1782</td>
<td align="right">2015</td>
<td align="right">5</td>
<td align="right">0.00012</td>
<td align="right">0.00012</td>
<td align="right">993844</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="chapter-3-empirical-exercises" class="section level2">
<h2><span class="header-section-number">6.2</span> Chapter 3 Empirical Exercises</h2>
<p><strong>Exercise 3.2.1. Whole Life Actuarial Present Values.</strong>
In Exercise 2.4.1, we learned how to create a life table based on one-year central decrements using data from the <a href="https://www.mortality.org">Human Mortality Database</a>. In this exercise, we use this life table to explore life insurance calculations in <code>R</code>. We first include columns for <span class="math inline">\(A_x\)</span> – the actuarial present values for whole life insurance – and the corresponding second moment. We then use this information to determine term and endowment insurances.</p>
<p>The following code demonstrates how this works for females lifes. Then, you are asked to replicate this analysis for male lives.</p>
<p><strong>Add Columns for <span class="math inline">\(A_x\)</span> and <span class="math inline">\(^2A_x\)</span></strong></p>
<p>Starting with the life table you created in Exercise 2.4.1, next you will add columns for <span class="math inline">\(A_x\)</span> and <span class="math inline">\(^2A_x\)</span>. For that, we need to fix the interest rate. Given currently low rates, we choose <span class="math inline">\(i=2\%\)</span>.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="empirical-exercises.html#cb77-1"></a>i &lt;-<span class="st"> </span><span class="fl">0.02</span></span>
<span id="cb77-2"><a href="empirical-exercises.html#cb77-2"></a>v &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span><span class="op">+</span>i)</span></code></pre></div>
<p>We then determine <span class="math inline">\(A_x\)</span> and <span class="math inline">\(^2A_x\)</span> via their recursion relationships, where we start with <span class="math inline">\(\omega = 111\)</span> for which <span class="math inline">\(A_{\omega}=v\)</span> and <span class="math inline">\(^2A_{\omega}=v^2\)</span>:</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.1B" href="javascript:togglecode('toggleCode.EmpExer3.2.1B','displayCode.EmpExer3.2.1B');"><i><strong>R Code to Determine Whole Life Actuarial Present Values</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.1B" style="display: none">
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="empirical-exercises.html#cb78-1"></a>Ax &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_fem<span class="op">$</span>mx) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb78-2"><a href="empirical-exercises.html#cb78-2"></a>TwoAx &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_fem<span class="op">$</span>mx) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb78-3"><a href="empirical-exercises.html#cb78-3"></a>Ax[<span class="dv">112</span>] &lt;-<span class="st"> </span>v</span>
<span id="cb78-4"><a href="empirical-exercises.html#cb78-4"></a>TwoAx[<span class="dv">112</span>] &lt;-<span class="st"> </span>v<span class="op">*</span>v</span>
<span id="cb78-5"><a href="empirical-exercises.html#cb78-5"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">111</span>){</span>
<span id="cb78-6"><a href="empirical-exercises.html#cb78-6"></a>  Ax[<span class="dv">112</span><span class="op">-</span>i]    =<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i] <span class="op">*</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i]) <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>Ax[<span class="dv">113</span><span class="op">-</span>i]</span>
<span id="cb78-7"><a href="empirical-exercises.html#cb78-7"></a>  TwoAx[<span class="dv">112</span><span class="op">-</span>i] =<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i] <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i]) <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>TwoAx[<span class="dv">113</span><span class="op">-</span>i]</span>
<span id="cb78-8"><a href="empirical-exercises.html#cb78-8"></a>}</span>
<span id="cb78-9"><a href="empirical-exercises.html#cb78-9"></a>dat_<span class="dv">2015</span>_fem<span class="op">$</span>Ax &lt;-<span class="st"> </span>Ax[<span class="dv">1</span><span class="op">:</span><span class="dv">111</span>]</span>
<span id="cb78-10"><a href="empirical-exercises.html#cb78-10"></a>dat_<span class="dv">2015</span>_fem<span class="op">$</span>TwoAx &lt;-<span class="st"> </span>TwoAx[<span class="dv">1</span><span class="op">:</span><span class="dv">111</span>]</span></code></pre></div>
</div>
<p>Here is an excerpt from our now more complete life table:</p>
<pre><code>     Year_start Age       mx        qx      l      Ax   TwoAx
1817       2015  40 0.001388 0.0013870 975424 0.43823 0.20726
1818       2015  41 0.001470 0.0014689 974071 0.44622 0.21454
1819       2015  42 0.001621 0.0016197 972640 0.45435 0.22207
1820       2015  43 0.001736 0.0017345 971065 0.46256 0.22979
1821       2015  44 0.001861 0.0018593 969381 0.47090 0.23775
1822       2015  45 0.002044 0.0020419 967578 0.47935 0.24596</code></pre>
<p><strong>Term and Endowment Insurance</strong></p>
<p>Let’s use it for pricing life insurance contracts. Let’s set <span class="math inline">\(x=40\)</span> and <span class="math inline">\(n=20\)</span>, and evaluate pure endowment, term life, and endowment insurance:</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.1C" href="javascript:togglecode('toggleCode.EmpExer3.2.1C','displayCode.EmpExer3.2.1C');"><i><strong>R Code to Determine Whole Life Actuarial Present Values</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.1C" style="display: none">
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="empirical-exercises.html#cb80-1"></a>A40_<span class="dv">20</span>_<span class="dv">1</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">61</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">20</span>)</span>
<span id="cb80-2"><a href="empirical-exercises.html#cb80-2"></a>A40_<span class="dv">20</span>_<span class="dv">1</span></span>
<span id="cb80-3"><a href="empirical-exercises.html#cb80-3"></a>A40_<span class="dv">1</span>_<span class="dv">20</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>Ax[<span class="dv">41</span>] <span class="op">-</span><span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>Ax[<span class="dv">61</span>]</span>
<span id="cb80-4"><a href="empirical-exercises.html#cb80-4"></a>A40_<span class="dv">1</span>_<span class="dv">20</span></span>
<span id="cb80-5"><a href="empirical-exercises.html#cb80-5"></a>A40_<span class="dv">20</span> &lt;-<span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>A40_<span class="dv">1</span>_<span class="dv">20</span></span>
<span id="cb80-6"><a href="empirical-exercises.html#cb80-6"></a>A40_<span class="dv">20</span></span></code></pre></div>
<pre><code>[1] 0.62909
[1] 0.05066
[1] 0.67975</code></pre>
</div>
<p>Let’s also calculate corresponding standard deviations (square roots of variances):</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.1D" href="javascript:togglecode('toggleCode.EmpExer3.2.1D','displayCode.EmpExer3.2.1D');"><i><strong>R Code to Determine Standard Deviations</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.1D" style="display: none">
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="empirical-exercises.html#cb82-1"></a>TwoA40_<span class="dv">20</span>_<span class="dv">1</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">61</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">20</span><span class="op">*</span><span class="dv">2</span>)</span>
<span id="cb82-2"><a href="empirical-exercises.html#cb82-2"></a><span class="kw">sqrt</span>(TwoA40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span>)</span>
<span id="cb82-3"><a href="empirical-exercises.html#cb82-3"></a>TwoA40_<span class="dv">1</span>_<span class="dv">20</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>TwoAx[<span class="dv">41</span>] <span class="op">-</span>TwoA40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>TwoAx[<span class="dv">61</span>]</span>
<span id="cb82-4"><a href="empirical-exercises.html#cb82-4"></a><span class="kw">sqrt</span>(TwoA40_<span class="dv">1</span>_<span class="dv">20</span> <span class="op">-</span><span class="st"> </span>A40_<span class="dv">1</span>_<span class="dv">20</span> <span class="op">*</span><span class="st"> </span>A40_<span class="dv">1</span>_<span class="dv">20</span>)</span>
<span id="cb82-5"><a href="empirical-exercises.html#cb82-5"></a>TwoA40_<span class="dv">20</span> &lt;-<span class="st"> </span>TwoA40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>TwoA40_<span class="dv">1</span>_<span class="dv">20</span></span>
<span id="cb82-6"><a href="empirical-exercises.html#cb82-6"></a><span class="kw">sqrt</span>(TwoA40_<span class="dv">20</span> <span class="op">-</span><span class="st"> </span>A40_<span class="dv">20</span> <span class="op">*</span><span class="st"> </span>A40_<span class="dv">20</span>)</span></code></pre></div>
<pre><code>[1] 0.16615
[1] 0.19305
[1] 0.03367</code></pre>
</div>
<p>Repeat the above calculations above for the US male population. To this end, you should:</p>
<ul>
<li><ol style="list-style-type: lower-roman">
<li>complete the male life table with columns for <span class="math inline">\(A_x\)</span> and <span class="math inline">\(^2A_x\)</span>;</li>
</ol></li>
<li><ol start="2" style="list-style-type: lower-roman">
<li>determine pure endowment, term life, and endowment insurance values and standard deviations for a forty year old male and a 20 year term; and</li>
</ol></li>
</ul>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.1E" href="javascript:togglecode('toggleCode.EmpExer3.2.1E','displayCode.EmpExer3.2.1E');"><i><strong>R Code to Determine Whole Life Actuarial Present Values</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.1E" style="display: none">
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="empirical-exercises.html#cb84-1"></a>dat_<span class="dv">2015</span>_ma &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>Year_start <span class="op">==</span><span class="st"> </span><span class="dv">2015</span>,<span class="op">-</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>)]</span>
<span id="cb84-2"><a href="empirical-exercises.html#cb84-2"></a><span class="kw">colnames</span>(dat_<span class="dv">2015</span>_ma)[<span class="kw">colnames</span>(dat_<span class="dv">2015</span>_ma)<span class="op">==</span><span class="st">&quot;Male&quot;</span>] &lt;-<span class="st"> &quot;mx&quot;</span></span>
<span id="cb84-3"><a href="empirical-exercises.html#cb84-3"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">-</span><span class="kw">exp</span>(<span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx)</span>
<span id="cb84-4"><a href="empirical-exercises.html#cb84-4"></a></span>
<span id="cb84-5"><a href="empirical-exercises.html#cb84-5"></a>l &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx))</span>
<span id="cb84-6"><a href="empirical-exercises.html#cb84-6"></a>l[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1000000</span></span>
<span id="cb84-7"><a href="empirical-exercises.html#cb84-7"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">111</span>){</span>
<span id="cb84-8"><a href="empirical-exercises.html#cb84-8"></a>  l[i] =<span class="st"> </span>l[i<span class="dv">-1</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma[i<span class="dv">-1</span>,<span class="dv">4</span>])</span>
<span id="cb84-9"><a href="empirical-exercises.html#cb84-9"></a>}</span>
<span id="cb84-10"><a href="empirical-exercises.html#cb84-10"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l &lt;-<span class="st"> </span>l</span>
<span id="cb84-11"><a href="empirical-exercises.html#cb84-11"></a></span>
<span id="cb84-12"><a href="empirical-exercises.html#cb84-12"></a>Ax &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb84-13"><a href="empirical-exercises.html#cb84-13"></a>TwoAx &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb84-14"><a href="empirical-exercises.html#cb84-14"></a>Ax[<span class="dv">112</span>] &lt;-<span class="st"> </span>v</span>
<span id="cb84-15"><a href="empirical-exercises.html#cb84-15"></a>TwoAx[<span class="dv">112</span>] &lt;-<span class="st"> </span>v<span class="op">*</span>v</span>
<span id="cb84-16"><a href="empirical-exercises.html#cb84-16"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">111</span>){</span>
<span id="cb84-17"><a href="empirical-exercises.html#cb84-17"></a>  Ax[<span class="dv">112</span><span class="op">-</span>i]    =<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i] <span class="op">*</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i]) <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>Ax[<span class="dv">113</span><span class="op">-</span>i]</span>
<span id="cb84-18"><a href="empirical-exercises.html#cb84-18"></a>  TwoAx[<span class="dv">112</span><span class="op">-</span>i] =<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i] <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i]) <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>TwoAx[<span class="dv">113</span><span class="op">-</span>i]</span>
<span id="cb84-19"><a href="empirical-exercises.html#cb84-19"></a>}</span>
<span id="cb84-20"><a href="empirical-exercises.html#cb84-20"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>Ax &lt;-<span class="st"> </span>Ax[<span class="dv">1</span><span class="op">:</span><span class="dv">111</span>]</span>
<span id="cb84-21"><a href="empirical-exercises.html#cb84-21"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>TwoAx &lt;-<span class="st"> </span>TwoAx[<span class="dv">1</span><span class="op">:</span><span class="dv">111</span>]</span>
<span id="cb84-22"><a href="empirical-exercises.html#cb84-22"></a></span>
<span id="cb84-23"><a href="empirical-exercises.html#cb84-23"></a>dat_<span class="dv">2015</span>_ma[<span class="dv">41</span><span class="op">:</span><span class="dv">61</span>,]</span>
<span id="cb84-24"><a href="empirical-exercises.html#cb84-24"></a></span>
<span id="cb84-25"><a href="empirical-exercises.html#cb84-25"></a>A40_<span class="dv">20</span>_<span class="dv">1</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">61</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">20</span>)</span>
<span id="cb84-26"><a href="empirical-exercises.html#cb84-26"></a>A40_<span class="dv">20</span>_<span class="dv">1</span></span>
<span id="cb84-27"><a href="empirical-exercises.html#cb84-27"></a>A40_<span class="dv">1</span>_<span class="dv">20</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>Ax[<span class="dv">41</span>] <span class="op">-</span><span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>Ax[<span class="dv">61</span>]</span>
<span id="cb84-28"><a href="empirical-exercises.html#cb84-28"></a>A40_<span class="dv">1</span>_<span class="dv">20</span></span>
<span id="cb84-29"><a href="empirical-exercises.html#cb84-29"></a>A40_<span class="dv">20</span> &lt;-<span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>A40_<span class="dv">1</span>_<span class="dv">20</span></span>
<span id="cb84-30"><a href="empirical-exercises.html#cb84-30"></a>A40_<span class="dv">20</span></span>
<span id="cb84-31"><a href="empirical-exercises.html#cb84-31"></a></span>
<span id="cb84-32"><a href="empirical-exercises.html#cb84-32"></a>TwoA40_<span class="dv">20</span>_<span class="dv">1</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">61</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">20</span><span class="op">*</span><span class="dv">2</span>)</span>
<span id="cb84-33"><a href="empirical-exercises.html#cb84-33"></a><span class="kw">sqrt</span>(TwoA40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>A40_<span class="dv">20</span>_<span class="dv">1</span>)</span>
<span id="cb84-34"><a href="empirical-exercises.html#cb84-34"></a>TwoA40_<span class="dv">1</span>_<span class="dv">20</span> &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>TwoAx[<span class="dv">41</span>] <span class="op">-</span>TwoA40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>TwoAx[<span class="dv">61</span>]</span>
<span id="cb84-35"><a href="empirical-exercises.html#cb84-35"></a><span class="kw">sqrt</span>(TwoA40_<span class="dv">1</span>_<span class="dv">20</span> <span class="op">-</span><span class="st"> </span>A40_<span class="dv">1</span>_<span class="dv">20</span> <span class="op">*</span><span class="st"> </span>A40_<span class="dv">1</span>_<span class="dv">20</span>)</span>
<span id="cb84-36"><a href="empirical-exercises.html#cb84-36"></a>TwoA40_<span class="dv">20</span> &lt;-<span class="st"> </span>TwoA40_<span class="dv">20</span>_<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>TwoA40_<span class="dv">1</span>_<span class="dv">20</span></span>
<span id="cb84-37"><a href="empirical-exercises.html#cb84-37"></a><span class="kw">sqrt</span>(TwoA40_<span class="dv">20</span> <span class="op">-</span><span class="st"> </span>A40_<span class="dv">20</span> <span class="op">*</span><span class="st"> </span>A40_<span class="dv">20</span>)</span></code></pre></div>
<pre><code>     Year_start Age       mx        qx      l      Ax   TwoAx
1817       2015  40 0.002373 0.0023702 953558 0.47496 0.24402
1818       2015  41 0.002494 0.0024909 951298 0.48324 0.25211
1819       2015  42 0.002593 0.0025896 948928 0.49163 0.26045
1820       2015  43 0.002811 0.0028071 946471 0.50017 0.26908
1821       2015  44 0.003009 0.0030045 943814 0.50880 0.27792
1822       2015  45 0.003250 0.0032447 940978 0.51752 0.28701
1823       2015  46 0.003517 0.0035108 937925 0.52634 0.29632
1824       2015  47 0.003787 0.0037798 934632 0.53523 0.30585
1825       2015  48 0.004108 0.0040996 931100 0.54421 0.31562
1826       2015  49 0.004534 0.0045237 927283 0.55327 0.32561
1827       2015  50 0.004993 0.0049806 923088 0.56235 0.33576
1828       2015  51 0.005503 0.0054879 918490 0.57147 0.34607
1829       2015  52 0.006015 0.0059969 913450 0.58059 0.35652
1830       2015  53 0.006617 0.0065952 907972 0.58975 0.36713
1831       2015  54 0.007245 0.0072188 901984 0.59889 0.37785
1832       2015  55 0.007873 0.0078421 895472 0.60804 0.38871
1833       2015  56 0.008436 0.0084005 888450 0.61720 0.39970
1834       2015  57 0.009255 0.0092123 880986 0.62641 0.41090
1835       2015  58 0.009908 0.0098591 872871 0.63558 0.42218
1836       2015  59 0.010782 0.0107241 864265 0.64479 0.43365
1837       2015  60 0.011527 0.0114608 854996 0.65397 0.44522
[1] 0.60341
[1] 0.080347
[1] 0.68376
[1] 0.20487
[1] 0.23826
[1] 0.042164</code></pre>
</div>
<p><strong>Exercise 3.2.2. Increasing Insurance Actuarial Present Values.</strong> As a follow-up to Exercise 3.2.1, we now consider an increasing whole life insurance. To begin, we determine the present value of an increasing insurance policy, using the basic summation,
<span class="math display">\[
(IA)_x = \sum_{k=0}^{\omega} {_kp_x}\,q_{x+k}\,v^{k+1}\,(k+1).
\]</span>
Here it is:</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.2A" href="javascript:togglecode('toggleCode.EmpExer3.2.2A','displayCode.EmpExer3.2.2A');"><i><strong>R Code to Determine APV Increasing Whole Life</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.2A" style="display: none">
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="empirical-exercises.html#cb86-1"></a>IA40 &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb86-2"><a href="empirical-exercises.html#cb86-2"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">70</span>){</span>
<span id="cb86-3"><a href="empirical-exercises.html#cb86-3"></a>  IA40 &lt;-<span class="st"> </span>IA40 <span class="op">+</span><span class="st"> </span>j <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">40</span><span class="op">+</span>j]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">40</span><span class="op">+</span>j] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>j</span>
<span id="cb86-4"><a href="empirical-exercises.html#cb86-4"></a>}</span>
<span id="cb86-5"><a href="empirical-exercises.html#cb86-5"></a>IA40 &lt;-<span class="st"> </span>IA40 <span class="op">+</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">111</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">71</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">111</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">71</span>) </span>
<span id="cb86-6"><a href="empirical-exercises.html#cb86-6"></a>             <span class="op">+</span><span class="st"> </span><span class="dv">72</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">111</span>]) <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">72</span>))  </span>
<span id="cb86-7"><a href="empirical-exercises.html#cb86-7"></a>IA40</span></code></pre></div>
<pre><code>[1] 17.468</code></pre>
</div>
<p>Alternatively, we can evaluate the increasing insurance present value as the sum of deferred insurance contracts:</p>
<p><span class="math display">\[
(IA)_x = \sum_{k=0}^{\omega} {_{k|}A_x}.
\]</span></p>
<p>Carrying it out…</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.2B" href="javascript:togglecode('toggleCode.EmpExer3.2.2B','displayCode.EmpExer3.2.2B');"><i><strong>R Code APV of Increasing Whole Life based on Deferred Contracts</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.2B" style="display: none">
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="empirical-exercises.html#cb88-1"></a>BarjA40 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="dv">72</span>)</span>
<span id="cb88-2"><a href="empirical-exercises.html#cb88-2"></a>IA40_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb88-3"><a href="empirical-exercises.html#cb88-3"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">71</span>){</span>
<span id="cb88-4"><a href="empirical-exercises.html#cb88-4"></a>  BarjA40[j] &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">40</span><span class="op">+</span>j]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(j<span class="dv">-1</span>) <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>Ax[<span class="dv">40</span><span class="op">+</span>j]</span>
<span id="cb88-5"><a href="empirical-exercises.html#cb88-5"></a>  IA40_<span class="dv">2</span> &lt;-<span class="st"> </span>IA40_<span class="dv">2</span> <span class="op">+</span><span class="st"> </span>BarjA40[j]</span>
<span id="cb88-6"><a href="empirical-exercises.html#cb88-6"></a>}</span>
<span id="cb88-7"><a href="empirical-exercises.html#cb88-7"></a>BarjA40[<span class="dv">72</span>] &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">111</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">111</span>]) <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">72</span>) </span>
<span id="cb88-8"><a href="empirical-exercises.html#cb88-8"></a>IA40_<span class="dv">2</span> &lt;-<span class="st"> </span>IA40_<span class="dv">2</span> <span class="op">+</span><span class="st"> </span>BarjA40[<span class="dv">72</span>]</span></code></pre></div>
<p>…we get the same result:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="empirical-exercises.html#cb89-1"></a>IA40_<span class="dv">2</span></span></code></pre></div>
<pre><code>[1] 17.468</code></pre>
</div>
<p>We can also plot the deferred insurance actuarial present values:</p>
<p><img src="LifeCon_files/figure-html/unnamed-chunk-66-1.png" width="60%" style="display: block; margin: auto;" /></p>
</div>
<p>Let’s also evaluate the second moment, which we obtain by squaring the payoff and the discount factors:</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.2C" href="javascript:togglecode('toggleCode.EmpExer3.2.2C','displayCode.EmpExer3.2.2C');"><i><strong>R Code for Second Moments of Increasing Whole Life</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.2C" style="display: none">
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="empirical-exercises.html#cb91-1"></a>SecondMomIA &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb91-2"><a href="empirical-exercises.html#cb91-2"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">70</span>){</span>
<span id="cb91-3"><a href="empirical-exercises.html#cb91-3"></a>  SecondMomIA  &lt;-<span class="st"> </span>SecondMomIA  <span class="op">+</span><span class="st"> </span>j <span class="op">*</span><span class="st"> </span>j <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">40</span><span class="op">+</span>j]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">40</span><span class="op">+</span>j] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(j<span class="op">*</span><span class="dv">2</span>)</span>
<span id="cb91-4"><a href="empirical-exercises.html#cb91-4"></a>}</span>
<span id="cb91-5"><a href="empirical-exercises.html#cb91-5"></a>SecondMomIA &lt;-<span class="st"> </span>SecondMomIA <span class="op">+</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">111</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">71</span> <span class="op">*</span><span class="st"> </span><span class="dv">71</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">111</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">71</span><span class="op">*</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">72</span> <span class="op">*</span><span class="st"> </span><span class="dv">72</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_fem<span class="op">$</span>qx[<span class="dv">111</span>]) <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">72</span><span class="op">*</span><span class="dv">2</span>))  </span></code></pre></div>
</div>
<p>We can use it to determine the standard deviation:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="empirical-exercises.html#cb92-1"></a><span class="kw">sqrt</span>(SecondMomIA <span class="op">-</span><span class="st"> </span>IA40 <span class="op">*</span><span class="st"> </span>IA40)</span></code></pre></div>
<pre><code>[1] 2.41</code></pre>
<p>Repeat the above calculations above for the US male population. Specifically, for an increasing whole life insurance on a 40-year old male insured, you should determine the</p>
<ol style="list-style-type: lower-alpha">
<li>actuarial present value and</li>
<li>the associated standard deviation</li>
</ol>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer3.2.2E" href="javascript:togglecode('toggleCode.EmpExer3.2.2E','displayCode.EmpExer3.2.2E');"><i><strong>R Code to Determine Whole Life Actuarial Present Values</strong></i></a>
</h5>
<div id="toggleCode.EmpExer3.2.2E" style="display: none">
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="empirical-exercises.html#cb94-1"></a>dat_<span class="dv">2015</span>_ma &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>Year_start <span class="op">==</span><span class="st"> </span><span class="dv">2015</span>,<span class="op">-</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>)]</span>
<span id="cb94-2"><a href="empirical-exercises.html#cb94-2"></a><span class="kw">colnames</span>(dat_<span class="dv">2015</span>_ma)[<span class="kw">colnames</span>(dat_<span class="dv">2015</span>_ma)<span class="op">==</span><span class="st">&quot;Male&quot;</span>] &lt;-<span class="st"> &quot;mx&quot;</span></span>
<span id="cb94-3"><a href="empirical-exercises.html#cb94-3"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">-</span><span class="kw">exp</span>(<span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx)</span>
<span id="cb94-4"><a href="empirical-exercises.html#cb94-4"></a></span>
<span id="cb94-5"><a href="empirical-exercises.html#cb94-5"></a>l &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx))</span>
<span id="cb94-6"><a href="empirical-exercises.html#cb94-6"></a>l[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1000000</span></span>
<span id="cb94-7"><a href="empirical-exercises.html#cb94-7"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">111</span>){</span>
<span id="cb94-8"><a href="empirical-exercises.html#cb94-8"></a>  l[i] =<span class="st"> </span>l[i<span class="dv">-1</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma[i<span class="dv">-1</span>,<span class="dv">4</span>])</span>
<span id="cb94-9"><a href="empirical-exercises.html#cb94-9"></a>}</span>
<span id="cb94-10"><a href="empirical-exercises.html#cb94-10"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l &lt;-<span class="st"> </span>l</span>
<span id="cb94-11"><a href="empirical-exercises.html#cb94-11"></a></span>
<span id="cb94-12"><a href="empirical-exercises.html#cb94-12"></a>Ax &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb94-13"><a href="empirical-exercises.html#cb94-13"></a>TwoAx &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="kw">length</span>(dat_<span class="dv">2015</span>_ma<span class="op">$</span>mx) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb94-14"><a href="empirical-exercises.html#cb94-14"></a>Ax[<span class="dv">112</span>] &lt;-<span class="st"> </span>v</span>
<span id="cb94-15"><a href="empirical-exercises.html#cb94-15"></a>TwoAx[<span class="dv">112</span>] &lt;-<span class="st"> </span>v<span class="op">*</span>v</span>
<span id="cb94-16"><a href="empirical-exercises.html#cb94-16"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">111</span>){</span>
<span id="cb94-17"><a href="empirical-exercises.html#cb94-17"></a>  Ax[<span class="dv">112</span><span class="op">-</span>i]    =<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i] <span class="op">*</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i]) <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>Ax[<span class="dv">113</span><span class="op">-</span>i]</span>
<span id="cb94-18"><a href="empirical-exercises.html#cb94-18"></a>  TwoAx[<span class="dv">112</span><span class="op">-</span>i] =<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i] <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">112</span><span class="op">-</span>i]) <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>v <span class="op">*</span><span class="st"> </span>TwoAx[<span class="dv">113</span><span class="op">-</span>i]</span>
<span id="cb94-19"><a href="empirical-exercises.html#cb94-19"></a>}</span>
<span id="cb94-20"><a href="empirical-exercises.html#cb94-20"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>Ax &lt;-<span class="st"> </span>Ax[<span class="dv">1</span><span class="op">:</span><span class="dv">111</span>]</span>
<span id="cb94-21"><a href="empirical-exercises.html#cb94-21"></a>dat_<span class="dv">2015</span>_ma<span class="op">$</span>TwoAx &lt;-<span class="st"> </span>TwoAx[<span class="dv">1</span><span class="op">:</span><span class="dv">111</span>]</span>
<span id="cb94-22"><a href="empirical-exercises.html#cb94-22"></a></span>
<span id="cb94-23"><a href="empirical-exercises.html#cb94-23"></a>IA40 &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb94-24"><a href="empirical-exercises.html#cb94-24"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">70</span>){</span>
<span id="cb94-25"><a href="empirical-exercises.html#cb94-25"></a>  IA40 &lt;-<span class="st"> </span>IA40 <span class="op">+</span><span class="st"> </span>j <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">40</span><span class="op">+</span>j]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">40</span><span class="op">+</span>j] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>j</span>
<span id="cb94-26"><a href="empirical-exercises.html#cb94-26"></a>}</span>
<span id="cb94-27"><a href="empirical-exercises.html#cb94-27"></a>IA40 &lt;-<span class="st"> </span>IA40 <span class="op">+</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">111</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">71</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">111</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">71</span>) <span class="op">+</span><span class="st"> </span><span class="dv">72</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">111</span>]) <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">72</span>))  </span>
<span id="cb94-28"><a href="empirical-exercises.html#cb94-28"></a>IA40</span>
<span id="cb94-29"><a href="empirical-exercises.html#cb94-29"></a></span>
<span id="cb94-30"><a href="empirical-exercises.html#cb94-30"></a>BarjA40 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>,<span class="dv">72</span>)</span>
<span id="cb94-31"><a href="empirical-exercises.html#cb94-31"></a>IA40_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb94-32"><a href="empirical-exercises.html#cb94-32"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">71</span>){</span>
<span id="cb94-33"><a href="empirical-exercises.html#cb94-33"></a>  BarjA40[j] &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">40</span><span class="op">+</span>j]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(j<span class="dv">-1</span>) <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>Ax[<span class="dv">40</span><span class="op">+</span>j]</span>
<span id="cb94-34"><a href="empirical-exercises.html#cb94-34"></a>  IA40_<span class="dv">2</span> &lt;-<span class="st"> </span>IA40_<span class="dv">2</span> <span class="op">+</span><span class="st"> </span>BarjA40[j]</span>
<span id="cb94-35"><a href="empirical-exercises.html#cb94-35"></a>}</span>
<span id="cb94-36"><a href="empirical-exercises.html#cb94-36"></a>BarjA40[<span class="dv">72</span>] &lt;-<span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">111</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">111</span>]) <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">72</span>) </span>
<span id="cb94-37"><a href="empirical-exercises.html#cb94-37"></a>IA40_<span class="dv">2</span> &lt;-<span class="st"> </span>IA40_<span class="dv">2</span> <span class="op">+</span><span class="st"> </span>BarjA40[<span class="dv">72</span>]</span>
<span id="cb94-38"><a href="empirical-exercises.html#cb94-38"></a>IA40_<span class="dv">2</span></span>
<span id="cb94-39"><a href="empirical-exercises.html#cb94-39"></a></span>
<span id="cb94-40"><a href="empirical-exercises.html#cb94-40"></a><span class="kw">plot</span>(BarjA40)</span></code></pre></div>
<p><img src="LifeCon_files/figure-html/unnamed-chunk-69-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="empirical-exercises.html#cb95-1"></a>SecondMomIA &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb95-2"><a href="empirical-exercises.html#cb95-2"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">70</span>){</span>
<span id="cb95-3"><a href="empirical-exercises.html#cb95-3"></a>  SecondMomIA  &lt;-<span class="st"> </span>SecondMomIA  <span class="op">+</span><span class="st"> </span>j <span class="op">*</span><span class="st"> </span>j <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">40</span><span class="op">+</span>j]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">40</span><span class="op">+</span>j] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(j<span class="op">*</span><span class="dv">2</span>)</span>
<span id="cb95-4"><a href="empirical-exercises.html#cb95-4"></a>}</span>
<span id="cb95-5"><a href="empirical-exercises.html#cb95-5"></a>SecondMomIA &lt;-<span class="st"> </span>SecondMomIA <span class="op">+</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">111</span>]<span class="op">/</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>l[<span class="dv">41</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">71</span> <span class="op">*</span><span class="st"> </span><span class="dv">71</span> <span class="op">*</span><span class="st"> </span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">111</span>] <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">71</span><span class="op">*</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">72</span> <span class="op">*</span><span class="st"> </span><span class="dv">72</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>dat_<span class="dv">2015</span>_ma<span class="op">$</span>qx[<span class="dv">111</span>]) <span class="op">*</span><span class="st"> </span>v<span class="op">^</span>(<span class="dv">72</span><span class="op">*</span><span class="dv">2</span>))  </span>
<span id="cb95-6"><a href="empirical-exercises.html#cb95-6"></a><span class="kw">sqrt</span>(SecondMomIA <span class="op">-</span><span class="st"> </span>IA40 <span class="op">*</span><span class="st"> </span>IA40)</span></code></pre></div>
<pre><code>[1] 16.954
[1] 16.954
[1] 2.9114</code></pre>
</div>
</div>
<div id="chapter-4-empirical-exercises" class="section level2">
<h2><span class="header-section-number">6.3</span> Chapter 4 Empirical Exercises</h2>
<div id="section-4.3-exercises" class="section level4 unnumbered">
<h4>Section 4.3 Exercises</h4>
<p><strong>Exercise 4.3.1. Actuarial Present Values for Select and Ultimate Tables</strong>. The select and ultimate tables introduced in Section <a href="C-BenefitExt.html#Sec:SelectionAdverse">4.3.2</a> are complicated – is such complexity is warranted in practice? To get insights into this question, in this exercise you will compare actuarial present values derived from select and ultimate mortality to those from only ultimate mortality. To be specific, we focus consider whole life insurance for using the female Canadian experience introduced in Section <a href="C-BenefitExt.html#Sec:SelectionAdverse">4.3.2</a>; the data are available in Appendix Section <a href="appendix-data-dictionary.html#Sec:CanadianSelect">8.4</a>.</p>
<p>For these data,</p>
<ol style="list-style-type: lower-alpha">
<li>produce <span class="math inline">\(A_x\)</span> for <span class="math inline">\(x=50, \ldots, 65\)</span> using an interest rate of <span class="math inline">\(i=0.04\)</span> based on
<ol style="list-style-type: lower-roman">
<li>select and ultimate mortality</li>
<li>ultimate mortality</li>
</ol></li>
<li>compare these two sequences of actuarial present values by calculating their ratio.</li>
<li>repeat parts (a) and (b) using an interest rate <span class="math inline">\(i=0.02\)</span>.</li>
</ol>
<p>To give you a feel for the results, Figure <a href="empirical-exercises.html#fig:SelUlt1">6.1</a> summarizes the results.</p>

<div class="figure" style="text-align: center"><span id="fig:SelUlt1"></span>
<img src="LifeCon_files/figure-html/SelUlt1-1.png" alt="Life Insurance APV by Age, Interest, and Mortality Type. A plot of life insurance actuarial present value \(A_x\) by age \(x\). The top two lines are based on \(i=0.02\), the bottom two based on \(i=0.04\). For each pair, the top line uses ultimate mortality, the bottom line is based on select and ultimate mortality" width="60%" />
<p class="caption">
Figure 6.1: <strong>Life Insurance APV by Age, Interest, and Mortality Type</strong>. A plot of life insurance actuarial present value <span class="math inline">\(A_x\)</span> by age <span class="math inline">\(x\)</span>. The top two lines are based on <span class="math inline">\(i=0.02\)</span>, the bottom two based on <span class="math inline">\(i=0.04\)</span>. For each pair, the top line uses ultimate mortality, the bottom line is based on select and ultimate mortality
</p>
</div>
<h5 style="text-align: center;">
<a id="displayTheory.EmpExer4.3.1" href="javascript:toggleTheory('toggleTheory.EmpExer4.3.1','displayCode.EmpExer4.3.1');"><i><strong>Exercise 4.3.1 Answer</strong></i></a>
</h5>
<div id="toggleTheory.EmpExer4.3.1" style="display: none">
<table>
<caption><span id="tab:unnamed-chunk-70">Table 6.3: </span>Comparison of Life Insurance APVs, Interest is 4%</caption>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="right">50</td>
<td align="right">51</td>
<td align="right">52</td>
<td align="right">53</td>
<td align="right">54</td>
<td align="right">55</td>
<td align="right">56</td>
<td align="right">57</td>
</tr>
<tr class="even">
<td align="left">Select2 and Ultimate, i=4%</td>
<td align="right">0.2729</td>
<td align="right">0.282</td>
<td align="right">0.2913</td>
<td align="right">0.3007</td>
<td align="right">0.3104</td>
<td align="right">0.3201</td>
<td align="right">0.33</td>
<td align="right">0.3401</td>
</tr>
<tr class="odd">
<td align="left">Ultimate, i=4%</td>
<td align="right">0.2808</td>
<td align="right">0.2908</td>
<td align="right">0.3011</td>
<td align="right">0.3117</td>
<td align="right">0.3225</td>
<td align="right">0.3336</td>
<td align="right">0.3449</td>
<td align="right">0.3564</td>
</tr>
<tr class="even">
<td align="left">Ratio</td>
<td align="right">0.9716</td>
<td align="right">0.9695</td>
<td align="right">0.9673</td>
<td align="right">0.9649</td>
<td align="right">0.9624</td>
<td align="right">0.9598</td>
<td align="right">0.957</td>
<td align="right">0.9542</td>
</tr>
<tr class="odd">
<td align="left">Age</td>
<td align="right">58</td>
<td align="right">59</td>
<td align="right">60</td>
<td align="right">61</td>
<td align="right">62</td>
<td align="right">63</td>
<td align="right">64</td>
<td align="right">65</td>
</tr>
<tr class="even">
<td align="left">Select and Ultimate, i=4%</td>
<td align="right">0.3502</td>
<td align="right">0.3605</td>
<td align="right">0.3709</td>
<td align="right">0.3814</td>
<td align="right">0.3919</td>
<td align="right">0.4025</td>
<td align="right">0.4132</td>
<td align="right">0.424</td>
</tr>
<tr class="odd">
<td align="left">Ultimate, i=4%</td>
<td align="right">0.3682</td>
<td align="right">0.3801</td>
<td align="right">0.3923</td>
<td align="right">0.4046</td>
<td align="right">0.417</td>
<td align="right">0.4294</td>
<td align="right">0.4417</td>
<td align="right">0.454</td>
</tr>
<tr class="even">
<td align="left">Ratio</td>
<td align="right">0.9513</td>
<td align="right">0.9484</td>
<td align="right">0.9455</td>
<td align="right">0.9425</td>
<td align="right">0.9398</td>
<td align="right">0.9375</td>
<td align="right">0.9355</td>
<td align="right">0.934</td>
</tr>
</tbody>
</table>
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-71">Table 6.4: </span>Comparison of Life Insurance APVs, Interest is 2%</caption>
<colgroup>
<col width="31%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="right">50</td>
<td align="right">51</td>
<td align="right">52</td>
<td align="right">53</td>
<td align="right">54</td>
<td align="right">55</td>
<td align="right">56</td>
<td align="right">57</td>
</tr>
<tr class="even">
<td align="left">Select and Ultimate, i=2%</td>
<td align="right">0.5063</td>
<td align="right">0.5151</td>
<td align="right">0.524</td>
<td align="right">0.5329</td>
<td align="right">0.5418</td>
<td align="right">0.5507</td>
<td align="right">0.5596</td>
<td align="right">0.5686</td>
</tr>
<tr class="odd">
<td align="left">Ultimate, i=2%</td>
<td align="right">0.5122</td>
<td align="right">0.5217</td>
<td align="right">0.5312</td>
<td align="right">0.5408</td>
<td align="right">0.5506</td>
<td align="right">0.5604</td>
<td align="right">0.5702</td>
<td align="right">0.5802</td>
</tr>
<tr class="even">
<td align="left">Ratio</td>
<td align="right">0.9885</td>
<td align="right">0.9875</td>
<td align="right">0.9864</td>
<td align="right">0.9853</td>
<td align="right">0.9841</td>
<td align="right">0.9828</td>
<td align="right">0.9814</td>
<td align="right">0.98</td>
</tr>
<tr class="odd">
<td align="left">Age</td>
<td align="right">58</td>
<td align="right">59</td>
<td align="right">60</td>
<td align="right">61</td>
<td align="right">62</td>
<td align="right">63</td>
<td align="right">64</td>
<td align="right">65</td>
</tr>
<tr class="even">
<td align="left">Select and Ultimate, i=2%</td>
<td align="right">0.5775</td>
<td align="right">0.5864</td>
<td align="right">0.5953</td>
<td align="right">0.6042</td>
<td align="right">0.6131</td>
<td align="right">0.6219</td>
<td align="right">0.6307</td>
<td align="right">0.6394</td>
</tr>
<tr class="odd">
<td align="left">Ultimate, i=2%</td>
<td align="right">0.5901</td>
<td align="right">0.6002</td>
<td align="right">0.6102</td>
<td align="right">0.6203</td>
<td align="right">0.6303</td>
<td align="right">0.6402</td>
<td align="right">0.6499</td>
<td align="right">0.6595</td>
</tr>
<tr class="even">
<td align="left">Ratio</td>
<td align="right">0.9786</td>
<td align="right">0.9771</td>
<td align="right">0.9756</td>
<td align="right">0.9741</td>
<td align="right">0.9727</td>
<td align="right">0.9715</td>
<td align="right">0.9704</td>
<td align="right">0.9695</td>
</tr>
</tbody>
</table>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer4.3.1A" href="javascript:togglecode('toggleCode.EmpExer4.3.1A','displayCode.EmpExer4.3.1A');"><i><strong>Exercise 4.3.1 Solution using R Code</strong></i></a>
</h5>
<div id="toggleCode.EmpExer4.3.1A" style="display: none">
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="empirical-exercises.html#cb97-1"></a>CanadianSelUlt &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/CanadianFemaleSelectRead.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span>
<span id="cb97-2"><a href="empirical-exercises.html#cb97-2"></a></span>
<span id="cb97-3"><a href="empirical-exercises.html#cb97-3"></a>temp &lt;-<span class="st"> </span>CanadianSelUlt[<span class="dv">131</span><span class="op">:</span><span class="dv">201</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</span>
<span id="cb97-4"><a href="empirical-exercises.html#cb97-4"></a>temp1 &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(temp)</span>
<span id="cb97-5"><a href="empirical-exercises.html#cb97-5"></a>CanadianUlt50 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">as.numeric</span>(temp1), <span class="dt">ncol=</span><span class="dv">2</span>)</span>
<span id="cb97-6"><a href="empirical-exercises.html#cb97-6"></a><span class="kw">colnames</span>(CanadianUlt50) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Age&quot;</span>, <span class="st">&quot;qx_Ult&quot;</span>)</span>
<span id="cb97-7"><a href="empirical-exercises.html#cb97-7"></a><span class="kw">rownames</span>(CanadianUlt50) &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb97-8"><a href="empirical-exercises.html#cb97-8"></a></span>
<span id="cb97-9"><a href="empirical-exercises.html#cb97-9"></a>tempSel &lt;-<span class="st"> </span>CanadianSelUlt[<span class="dv">51</span><span class="op">:</span><span class="dv">81</span>,]</span>
<span id="cb97-10"><a href="empirical-exercises.html#cb97-10"></a>tempSel1 &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(tempSel)</span>
<span id="cb97-11"><a href="empirical-exercises.html#cb97-11"></a></span>
<span id="cb97-12"><a href="empirical-exercises.html#cb97-12"></a>CanadianSel50 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">as.numeric</span>(tempSel1), <span class="dt">ncol=</span><span class="kw">ncol</span>(tempSel))</span>
<span id="cb97-13"><a href="empirical-exercises.html#cb97-13"></a><span class="kw">rownames</span>(CanadianSel50) &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb97-14"><a href="empirical-exercises.html#cb97-14"></a></span>
<span id="cb97-15"><a href="empirical-exercises.html#cb97-15"></a>CanadianSel50.toUlt &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>, <span class="dt">nrow =</span> <span class="kw">nrow</span>(CanadianSel50), <span class="dt">ncol =</span> <span class="dv">120-50</span><span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb97-16"><a href="empirical-exercises.html#cb97-16"></a>CanadianSel50.toUlt[<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(CanadianSel50),<span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(CanadianSel50)] &lt;-<span class="st"> </span>CanadianSel50</span>
<span id="cb97-17"><a href="empirical-exercises.html#cb97-17"></a></span>
<span id="cb97-18"><a href="empirical-exercises.html#cb97-18"></a><span class="cf">for</span> (irow <span class="cf">in</span> (<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(CanadianSel50)) ){</span>
<span id="cb97-19"><a href="empirical-exercises.html#cb97-19"></a><span class="cf">for</span> (icol <span class="cf">in</span> (<span class="dv">1</span><span class="op">:</span><span class="st"> </span>(<span class="dv">120-50-15</span><span class="op">-</span>irow)) ){</span>
<span id="cb97-20"><a href="empirical-exercises.html#cb97-20"></a>  CanadianSel50.toUlt[irow,<span class="dv">1</span><span class="op">+</span><span class="dv">15</span><span class="op">+</span>icol ] &lt;-<span class="st"> </span>CanadianUlt50[irow<span class="op">+</span><span class="dv">14</span><span class="op">+</span>icol,<span class="dv">2</span>]</span>
<span id="cb97-21"><a href="empirical-exercises.html#cb97-21"></a>   }</span>
<span id="cb97-22"><a href="empirical-exercises.html#cb97-22"></a>}</span>
<span id="cb97-23"><a href="empirical-exercises.html#cb97-23"></a></span>
<span id="cb97-24"><a href="empirical-exercises.html#cb97-24"></a><span class="co">#  Actuarial Present Value Calculations</span></span>
<span id="cb97-25"><a href="empirical-exercises.html#cb97-25"></a>APV.Ult &lt;-<span class="st"> </span><span class="cf">function</span>(xage, q.x, <span class="dt">int=</span><span class="fl">0.00</span>){</span>
<span id="cb97-26"><a href="empirical-exercises.html#cb97-26"></a>  v =<span class="st"> </span><span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span><span class="op">+</span>int)</span>
<span id="cb97-27"><a href="empirical-exercises.html#cb97-27"></a>  num =<span class="st"> </span><span class="kw">length</span>(xage)</span>
<span id="cb97-28"><a href="empirical-exercises.html#cb97-28"></a>  A.x &lt;-<span class="st"> </span><span class="dv">0</span><span class="op">*</span>xage -&gt;<span class="st"> </span>add.x -&gt;<span class="st"> </span>e.x</span>
<span id="cb97-29"><a href="empirical-exercises.html#cb97-29"></a>  A.x[num] =<span class="st"> </span>v<span class="op">*</span>q.x[num]</span>
<span id="cb97-30"><a href="empirical-exercises.html#cb97-30"></a>  add.x[num] =<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>q.x[num])<span class="op">/</span>(int <span class="op">+</span><span class="st"> </span><span class="fl">1e-12</span>)</span>
<span id="cb97-31"><a href="empirical-exercises.html#cb97-31"></a>  e.x[num] =<span class="st"> </span><span class="dv">1</span><span class="op">-</span>q.x[num]</span>
<span id="cb97-32"><a href="empirical-exercises.html#cb97-32"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(num<span class="dv">-1</span>)){</span>
<span id="cb97-33"><a href="empirical-exercises.html#cb97-33"></a>    A.x[num<span class="op">-</span>i] =<span class="st"> </span>v<span class="op">*</span>q.x[num<span class="op">-</span>i] <span class="op">+</span><span class="st"> </span>v<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>q.x[num<span class="op">-</span>i])<span class="op">*</span>A.x[num<span class="op">-</span>i<span class="op">+</span><span class="dv">1</span>]</span>
<span id="cb97-34"><a href="empirical-exercises.html#cb97-34"></a>    add.x[num<span class="op">-</span>i] =<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>v<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>q.x[num<span class="op">-</span>i])<span class="op">*</span>add.x[num<span class="op">-</span>i<span class="op">+</span><span class="dv">1</span>] </span>
<span id="cb97-35"><a href="empirical-exercises.html#cb97-35"></a>    e.x[num<span class="op">-</span>i] =<span class="st">  </span>(<span class="dv">1</span><span class="op">-</span>q.x[num<span class="op">-</span>i])<span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>e.x[num<span class="op">-</span>i<span class="op">+</span><span class="dv">1</span>])</span>
<span id="cb97-36"><a href="empirical-exercises.html#cb97-36"></a>    }</span>
<span id="cb97-37"><a href="empirical-exercises.html#cb97-37"></a>  tablelife &lt;-<span class="st"> </span><span class="kw">cbind</span>(xage,q.x,A.x,add.x,e.x)</span>
<span id="cb97-38"><a href="empirical-exercises.html#cb97-38"></a>  <span class="kw">return</span>(tablelife)</span>
<span id="cb97-39"><a href="empirical-exercises.html#cb97-39"></a>}</span>
<span id="cb97-40"><a href="empirical-exercises.html#cb97-40"></a>AxUlt04 &lt;-<span class="st"> </span><span class="kw">APV.Ult</span>(<span class="dt">xage=</span> CanadianUlt50[,<span class="dv">1</span>], <span class="dt">q.x=</span>CanadianUlt50[,<span class="dv">2</span>], <span class="dt">int=</span><span class="fl">0.04</span>)[,<span class="dv">3</span>]</span>
<span id="cb97-41"><a href="empirical-exercises.html#cb97-41"></a>AxUlt04<span class="fl">.5065</span> &lt;-<span class="st"> </span>AxUlt04[<span class="dv">1</span><span class="op">:</span><span class="dv">16</span>]</span>
<span id="cb97-42"><a href="empirical-exercises.html#cb97-42"></a>AxUlt02 &lt;-<span class="st"> </span><span class="kw">APV.Ult</span>(<span class="dt">xage=</span> CanadianUlt50[,<span class="dv">1</span>], <span class="dt">q.x=</span>CanadianUlt50[,<span class="dv">2</span>], <span class="dt">int=</span><span class="fl">0.02</span>)[,<span class="dv">3</span>]</span>
<span id="cb97-43"><a href="empirical-exercises.html#cb97-43"></a>AxUlt02<span class="fl">.5065</span> &lt;-<span class="st"> </span>AxUlt02[<span class="dv">1</span><span class="op">:</span><span class="dv">16</span>]</span>
<span id="cb97-44"><a href="empirical-exercises.html#cb97-44"></a></span>
<span id="cb97-45"><a href="empirical-exercises.html#cb97-45"></a><span class="co">#  Actuarial Present Value Calculations</span></span>
<span id="cb97-46"><a href="empirical-exercises.html#cb97-46"></a></span>
<span id="cb97-47"><a href="empirical-exercises.html#cb97-47"></a>APV.Sel &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">int=</span><span class="fl">0.00</span>){</span>
<span id="cb97-48"><a href="empirical-exercises.html#cb97-48"></a>AxSel04 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">16</span>)</span>
<span id="cb97-49"><a href="empirical-exercises.html#cb97-49"></a>  v =<span class="st"> </span><span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span><span class="op">+</span>int)</span>
<span id="cb97-50"><a href="empirical-exercises.html#cb97-50"></a><span class="cf">for</span> (iage <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">16</span>){</span>
<span id="cb97-51"><a href="empirical-exercises.html#cb97-51"></a><span class="co">#iage =2</span></span>
<span id="cb97-52"><a href="empirical-exercises.html#cb97-52"></a>  AxSel04[iage] =<span class="st">  </span>v<span class="op">*</span>CanadianSel50.toUlt[iage, <span class="dv">2</span>]</span>
<span id="cb97-53"><a href="empirical-exercises.html#cb97-53"></a>kpx =<span class="st"> </span><span class="dv">1</span></span>
<span id="cb97-54"><a href="empirical-exercises.html#cb97-54"></a>  <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(<span class="kw">ncol</span>(CanadianSel50.toUlt)<span class="op">-</span><span class="dv">2</span>)) {</span>
<span id="cb97-55"><a href="empirical-exercises.html#cb97-55"></a>    kpx =<span class="st"> </span>kpx<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>CanadianSel50.toUlt[iage, k<span class="op">+</span><span class="dv">1</span>])</span>
<span id="cb97-56"><a href="empirical-exercises.html#cb97-56"></a>   AxSel04[iage] =<span class="st">  </span>AxSel04[iage] <span class="op">+</span><span class="st"> </span>v<span class="op">**</span>(k<span class="op">+</span><span class="dv">1</span>)<span class="op">*</span>kpx<span class="op">*</span>CanadianSel50.toUlt[iage, k<span class="op">+</span><span class="dv">2</span>]</span>
<span id="cb97-57"><a href="empirical-exercises.html#cb97-57"></a>  }</span>
<span id="cb97-58"><a href="empirical-exercises.html#cb97-58"></a>}</span>
<span id="cb97-59"><a href="empirical-exercises.html#cb97-59"></a><span class="kw">return</span>(AxSel04)</span>
<span id="cb97-60"><a href="empirical-exercises.html#cb97-60"></a>}</span>
<span id="cb97-61"><a href="empirical-exercises.html#cb97-61"></a>AxSel04 &lt;-<span class="st"> </span><span class="kw">APV.Sel</span>(<span class="dt">int=</span><span class="fl">0.04</span>)</span>
<span id="cb97-62"><a href="empirical-exercises.html#cb97-62"></a>AxSel02 &lt;-<span class="st"> </span><span class="kw">APV.Sel</span>(<span class="dt">int=</span><span class="fl">0.02</span>)</span>
<span id="cb97-63"><a href="empirical-exercises.html#cb97-63"></a></span>
<span id="cb97-64"><a href="empirical-exercises.html#cb97-64"></a>Age1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;50&quot;</span>, <span class="st">&quot;51&quot;</span>, <span class="st">&quot;52&quot;</span>, <span class="st">&quot;53&quot;</span>, <span class="st">&quot;54&quot;</span>, <span class="st">&quot;55&quot;</span>, <span class="st">&quot;56&quot;</span>, <span class="st">&quot;57&quot;</span>)</span>
<span id="cb97-65"><a href="empirical-exercises.html#cb97-65"></a>Age2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;58&quot;</span>, <span class="st">&quot;59&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;61&quot;</span>, <span class="st">&quot;62&quot;</span>, <span class="st">&quot;63&quot;</span>, <span class="st">&quot;64&quot;</span>, <span class="st">&quot;65&quot;</span>)</span>
<span id="cb97-66"><a href="empirical-exercises.html#cb97-66"></a></span>
<span id="cb97-67"><a href="empirical-exercises.html#cb97-67"></a>Ratio04Sel.Ult &lt;-<span class="st"> </span>AxSel04<span class="op">/</span>AxUlt04<span class="fl">.5065</span></span>
<span id="cb97-68"><a href="empirical-exercises.html#cb97-68"></a>OutPartA &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="dv">50</span><span class="op">:</span><span class="dv">57</span>, AxSel04[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>],  AxUlt04<span class="fl">.5065</span>[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>],  Ratio04Sel.Ult[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>], </span>
<span id="cb97-69"><a href="empirical-exercises.html#cb97-69"></a>                  <span class="dv">58</span><span class="op">:</span><span class="dv">65</span>, AxSel04[<span class="dv">9</span><span class="op">:</span><span class="dv">16</span>], AxUlt04<span class="fl">.5065</span>[<span class="dv">9</span><span class="op">:</span><span class="dv">16</span>], Ratio04Sel.Ult[<span class="dv">9</span><span class="op">:</span><span class="dv">16</span>] )</span>
<span id="cb97-70"><a href="empirical-exercises.html#cb97-70"></a>OutPartA1 &lt;-<span class="st"> </span><span class="kw">round</span>(OutPartA, <span class="dt">digits =</span> <span class="dv">4</span>)</span>
<span id="cb97-71"><a href="empirical-exercises.html#cb97-71"></a>OutPartA1[<span class="dv">1</span>,] &lt;-<span class="st"> </span>Age1</span>
<span id="cb97-72"><a href="empirical-exercises.html#cb97-72"></a>OutPartA1[<span class="dv">5</span>,] &lt;-<span class="st"> </span>Age2</span>
<span id="cb97-73"><a href="empirical-exercises.html#cb97-73"></a><span class="kw">rownames</span>(OutPartA1) &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb97-74"><a href="empirical-exercises.html#cb97-74"></a>  <span class="st">&quot;Age&quot;</span>,  <span class="st">&quot;Select2 and Ultimate, i=4%&quot;</span>, <span class="st">&quot;Ultimate, i=4%&quot;</span>,<span class="st">&quot;Ratio&quot;</span>, </span>
<span id="cb97-75"><a href="empirical-exercises.html#cb97-75"></a>  <span class="st">&quot;Age&quot;</span>,  <span class="st">&quot;Select and Ultimate, i=4%&quot;</span>, <span class="st">&quot;Ultimate, i=4%&quot;</span>, <span class="st">&quot;Ratio&quot;</span>)</span>
<span id="cb97-76"><a href="empirical-exercises.html#cb97-76"></a><span class="co">#knitr::kable(OutPartA1, align = &quot;r&quot;, caption=&quot;Select and Ultimate Female Canadian APVs&quot;)</span></span>
<span id="cb97-77"><a href="empirical-exercises.html#cb97-77"></a></span>
<span id="cb97-78"><a href="empirical-exercises.html#cb97-78"></a>Ratio02Sel.Ult &lt;-<span class="st"> </span>AxSel02<span class="op">/</span>AxUlt02<span class="fl">.5065</span></span>
<span id="cb97-79"><a href="empirical-exercises.html#cb97-79"></a>OutPartB &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="dv">50</span><span class="op">:</span><span class="dv">57</span>, AxSel02[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>],  AxUlt02<span class="fl">.5065</span>[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>],  Ratio02Sel.Ult[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>], </span>
<span id="cb97-80"><a href="empirical-exercises.html#cb97-80"></a>                  <span class="dv">58</span><span class="op">:</span><span class="dv">65</span>, AxSel02[<span class="dv">9</span><span class="op">:</span><span class="dv">16</span>], AxUlt02<span class="fl">.5065</span>[<span class="dv">9</span><span class="op">:</span><span class="dv">16</span>], Ratio02Sel.Ult[<span class="dv">9</span><span class="op">:</span><span class="dv">16</span>] )</span>
<span id="cb97-81"><a href="empirical-exercises.html#cb97-81"></a>OutPartB1 &lt;-<span class="st"> </span><span class="kw">round</span>(OutPartB, <span class="dt">digits =</span> <span class="dv">4</span>)</span>
<span id="cb97-82"><a href="empirical-exercises.html#cb97-82"></a>OutPartB1[<span class="dv">1</span>,] &lt;-<span class="st"> </span>Age1</span>
<span id="cb97-83"><a href="empirical-exercises.html#cb97-83"></a>OutPartB1[<span class="dv">5</span>,] &lt;-<span class="st"> </span>Age2</span>
<span id="cb97-84"><a href="empirical-exercises.html#cb97-84"></a><span class="kw">rownames</span>(OutPartB1) &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb97-85"><a href="empirical-exercises.html#cb97-85"></a>  <span class="st">&quot;Age&quot;</span>,  <span class="st">&quot;Select and Ultimate, i=2%&quot;</span>, <span class="st">&quot;Ultimate, i=2%&quot;</span>,<span class="st">&quot;Ratio&quot;</span>, </span>
<span id="cb97-86"><a href="empirical-exercises.html#cb97-86"></a>  <span class="st">&quot;Age&quot;</span>,  <span class="st">&quot;Select and Ultimate, i=2%&quot;</span>, <span class="st">&quot;Ultimate, i=2%&quot;</span>, <span class="st">&quot;Ratio&quot;</span>)</span>
<span id="cb97-87"><a href="empirical-exercises.html#cb97-87"></a><span class="co">#knitr::kable(OutPartB1, align = &quot;r&quot;, caption=&quot;Select and Ultimate Female Canadian APVs&quot;)</span></span></code></pre></div>
</div>
</div>
</div>
<div id="section-4.5-exercises" class="section level4 unnumbered">
<h4>Section 4.5 Exercises</h4>
<p><strong>Exercise 4.5.1. Dog Survival Distributions and Actuarial Present Values.</strong> The analysis in Section <a href="C-BenefitExt.html#Sec:CanineMort">4.5.2</a> suggests that breed is an important factor for dog survival. To underscore this point for a broader audience, let us look at survival for a type of small dog, a “Jack Russell Terrier”, and a large dog, a “German Shepherd Dog”. We can make differences in survival distributions between small and large dogs even more meaningful by also computing selected actuarial present values that summarize future expected costs.</p>
<p>You should begin your analysis by downloading the data, available in Appendix Section <a href="appendix-data-dictionary.html#Sec:CanineMortality">8.3</a>.</p>
<p>The data have been re-worked so that they can be used for your analysis. Here is a bit more code needed to convert data fields appropriately and to separate the file into two subsets, one for Terriers and one for German Shepherds.</p>
<h5 style="text-align: center;">
<a id="displayCode.EmpExer4.5.1A" href="javascript:togglecode('toggleCode.EmpExer4.5.1A','displayCode.EmpExer4.5.1A');"><i><strong>Show R Code to Pre-Process the Data</strong></i></a>
</h5>
<div id="toggleCode.EmpExer4.5.1A" style="display: none">
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="empirical-exercises.html#cb98-1"></a><span class="co"># Read in Revised Data</span></span>
<span id="cb98-2"><a href="empirical-exercises.html#cb98-2"></a>DogMortA &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;DogSurvivalData1.csv&quot;</span>)</span>
<span id="cb98-3"><a href="empirical-exercises.html#cb98-3"></a>DogMort &lt;-<span class="st"> </span>DogMortA[,<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb98-4"><a href="empirical-exercises.html#cb98-4"></a>DogMort<span class="op">$</span>dateBirth &lt;-<span class="st"> </span><span class="kw">as.Date</span>(DogMort<span class="op">$</span>dateBirth, <span class="st">&quot;%Y-%m-%d&quot;</span>) </span>
<span id="cb98-5"><a href="empirical-exercises.html#cb98-5"></a>DogMort<span class="op">$</span>dateDeath &lt;-<span class="st"> </span><span class="kw">as.Date</span>(DogMort<span class="op">$</span>dateDeath, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb98-6"><a href="empirical-exercises.html#cb98-6"></a>DogMort<span class="op">$</span>AgeAtDeath &lt;-<span class="st"> </span>(<span class="kw">as.numeric</span>(DogMort<span class="op">$</span>dateDeath) <span class="op">-</span><span class="st"> </span><span class="kw">as.numeric</span>(DogMort<span class="op">$</span>dateBirth))<span class="op">/</span><span class="fl">365.25</span></span>
<span id="cb98-7"><a href="empirical-exercises.html#cb98-7"></a>DogTerr &lt;-<span class="st"> </span><span class="kw">subset</span>(DogMort, Breed <span class="op">==</span><span class="st"> &quot;Jack Russell Terrier&quot;</span>)</span>
<span id="cb98-8"><a href="empirical-exercises.html#cb98-8"></a>DogGShep &lt;-<span class="st"> </span><span class="kw">subset</span>(DogMort, Breed <span class="op">==</span><span class="st"> &quot;German Shepherd Dog&quot;</span>)</span></code></pre></div>
</div>
<p>For these data:</p>
<ol style="list-style-type: lower-alpha">
<li>Compute one-year mortality rates for both Terriers and German Shepherds. Do this over <span class="math inline">\(x=0, \ldots, 20\)</span>. Graph the results.</li>
<li>Because you may be working with products with events occurring more frequently than once a year, you decide to follow the strategy introduced in Section <a href="C-BenefitExt.html#Sec:BasicConceptsmthly">4.1.1</a> and look at mortality rates occurring on a quarterly basis. Repeat the analysis from part (a) using quarterly rates.</li>
<li>The results of earlier analyses indicate substantial volatility in the both quarterly rates and annual rates at later ages. One approach to mitigate this volatility is to smooth the rates. A simpler approach is to use longer periods (hence increasing exposure and reducing volatility). Repeat the analysis in part (a) using rates on a once every two year basis.</li>
<li>To see how these rates might be used, you decide to repeat the analysis in Section <a href="C-BenefitExt.html#Sec:DogCostCare">4.5.3</a> and compute an actuarial present value of the lifetime cost of surgical vet care. Use the same assumptions as in that section with the initial annual cost as 458, <span class="math inline">\(i=0.03\)</span> interest rate and a 11 percent annual growth in surgical care costs. However, use the dog mortality from part (a). Do this for <span class="math inline">\(x=2, 5, 12\)</span>, for both breeds. You will see that that your results on German Shepherds differ slightly from those presented in Section <a href="C-BenefitExt.html#Sec:DogCostCare">4.5.3</a>; comment on why this is so.</li>
</ol>
<h5 style="text-align: center;">
<a id="displayTheory.EmpExer4.5.1" href="javascript:toggleTheory('toggleTheory.EmpExer4.5.1','displayCode.EmpExer4.5.1');"><i><strong>Exercise 4.5.1 Answers</strong></i></a>
</h5>
<div id="toggleTheory.EmpExer4.5.1" style="display: none">
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="empirical-exercises.html#cb99-1"></a><span class="kw">library</span>(data.table)</span>
<span id="cb99-2"><a href="empirical-exercises.html#cb99-2"></a><span class="kw">library</span>(survival)</span>
<span id="cb99-3"><a href="empirical-exercises.html#cb99-3"></a><span class="co"># Read in Revised Data</span></span>
<span id="cb99-4"><a href="empirical-exercises.html#cb99-4"></a>DogMortA &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/DogSurvivalData1.csv&quot;</span>)</span>
<span id="cb99-5"><a href="empirical-exercises.html#cb99-5"></a>DogMort &lt;-<span class="st"> </span>DogMortA[,<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb99-6"><a href="empirical-exercises.html#cb99-6"></a>DogMort<span class="op">$</span>dateBirth &lt;-<span class="st"> </span><span class="kw">as.Date</span>(DogMort<span class="op">$</span>dateBirth, <span class="st">&quot;%Y-%m-%d&quot;</span>) </span>
<span id="cb99-7"><a href="empirical-exercises.html#cb99-7"></a>DogMort<span class="op">$</span>dateDeath &lt;-<span class="st"> </span><span class="kw">as.Date</span>(DogMort<span class="op">$</span>dateDeath, <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb99-8"><a href="empirical-exercises.html#cb99-8"></a>DogMort<span class="op">$</span>AgeAtDeath &lt;-<span class="st"> </span>(<span class="kw">as.numeric</span>(DogMort<span class="op">$</span>dateDeath) <span class="op">-</span><span class="st"> </span><span class="kw">as.numeric</span>(DogMort<span class="op">$</span>dateBirth))<span class="op">/</span><span class="fl">365.25</span></span>
<span id="cb99-9"><a href="empirical-exercises.html#cb99-9"></a>DogTerr &lt;-<span class="st"> </span><span class="kw">subset</span>(DogMort, Breed <span class="op">==</span><span class="st"> &quot;Jack Russell Terrier&quot;</span>)</span>
<span id="cb99-10"><a href="empirical-exercises.html#cb99-10"></a>DogGShep &lt;-<span class="st"> </span><span class="kw">subset</span>(DogMort, Breed <span class="op">==</span><span class="st"> &quot;German Shepherd Dog&quot;</span>)</span>
<span id="cb99-11"><a href="empirical-exercises.html#cb99-11"></a></span>
<span id="cb99-12"><a href="empirical-exercises.html#cb99-12"></a>fitTerr &lt;-<span class="st"> </span><span class="kw">survfit</span>(<span class="kw">Surv</span>(AgeAtDeath) <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data=</span>DogTerr)</span>
<span id="cb99-13"><a href="empirical-exercises.html#cb99-13"></a>fitGShep &lt;-<span class="st"> </span><span class="kw">survfit</span>(<span class="kw">Surv</span>(AgeAtDeath) <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data=</span>DogGShep)</span></code></pre></div>
<p><strong>Part A</strong></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="empirical-exercises.html#cb100-1"></a>seqA1 &lt;-<span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">20</span></span>
<span id="cb100-2"><a href="empirical-exercises.html#cb100-2"></a>seqA2 &lt;-<span class="st"> </span>seqA1 <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb100-3"><a href="empirical-exercises.html#cb100-3"></a>qxTerrA  &lt;-<span class="st"> </span>(<span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqA1)<span class="op">$</span>surv <span class="op">-</span><span class="st">   </span><span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqA2)<span class="op">$</span>surv)   <span class="op">/</span><span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqA1)<span class="op">$</span>surv</span>
<span id="cb100-4"><a href="empirical-exercises.html#cb100-4"></a>qxGShepA &lt;-<span class="st"> </span>(<span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqA1)<span class="op">$</span>surv <span class="op">-</span><span class="st"> </span><span class="kw">c</span>(<span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqA2)<span class="op">$</span>surv,<span class="dv">0</span>))<span class="op">/</span><span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqA1)<span class="op">$</span>surv</span>
<span id="cb100-5"><a href="empirical-exercises.html#cb100-5"></a><span class="kw">plot</span>(seqA1,qxTerrA, <span class="dt">xlab =</span> <span class="st">&quot;Age&quot;</span>, <span class="dt">ylab =</span> <span class="kw">expression</span>(q[x]))</span>
<span id="cb100-6"><a href="empirical-exercises.html#cb100-6"></a><span class="kw">lines</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">16</span>, qxGShepA, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-74"></span>
<img src="LifeCon_files/figure-html/unnamed-chunk-74-1.png" alt="One-year Dog Mortality Rates, Blue Solid Line is for German Shepherds" width="576" />
<p class="caption">
Figure 6.2: One-year Dog Mortality Rates, Blue Solid Line is for German Shepherds
</p>
</div>
<p><strong>Part B</strong></p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="empirical-exercises.html#cb101-1"></a>seqB1 &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">20</span>, <span class="dt">by =</span> <span class="fl">0.25</span>)</span>
<span id="cb101-2"><a href="empirical-exercises.html#cb101-2"></a>seqB2 &lt;-<span class="st"> </span>seqB1 <span class="op">+</span><span class="st"> </span><span class="fl">0.25</span></span>
<span id="cb101-3"><a href="empirical-exercises.html#cb101-3"></a>qxTerrB  &lt;-<span class="st"> </span>(<span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqB1)<span class="op">$</span>surv <span class="op">-</span><span class="st">   </span><span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqB2)<span class="op">$</span>surv)   <span class="op">/</span><span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqB1)<span class="op">$</span>surv</span>
<span id="cb101-4"><a href="empirical-exercises.html#cb101-4"></a>qxGShepB &lt;-<span class="st"> </span>(<span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqB1)<span class="op">$</span>surv <span class="op">-</span><span class="st"> </span><span class="kw">c</span>(<span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqB2)<span class="op">$</span>surv,<span class="dv">0</span>))<span class="op">/</span><span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqB1)<span class="op">$</span>surv</span>
<span id="cb101-5"><a href="empirical-exercises.html#cb101-5"></a><span class="kw">plot</span>(seqB1,qxTerrB, <span class="dt">xlab =</span> <span class="st">&quot;Age&quot;</span>, <span class="dt">ylab =</span> <span class="kw">expression</span>(q[x]))</span>
<span id="cb101-6"><a href="empirical-exercises.html#cb101-6"></a><span class="kw">lines</span>(seqB1[<span class="dv">1</span><span class="op">:</span><span class="dv">67</span>], qxGShepB, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-75"></span>
<img src="LifeCon_files/figure-html/unnamed-chunk-75-1.png" alt="Quarterly Dog Mortality Rates, Blue Solid Line is for German Shepherds" width="576" />
<p class="caption">
Figure 6.3: Quarterly Dog Mortality Rates, Blue Solid Line is for German Shepherds
</p>
</div>
<p><strong>Part C</strong></p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="empirical-exercises.html#cb102-1"></a>seqC1 &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">2</span>)</span>
<span id="cb102-2"><a href="empirical-exercises.html#cb102-2"></a>seqC2 &lt;-<span class="st"> </span>seqC1 <span class="op">+</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb102-3"><a href="empirical-exercises.html#cb102-3"></a>qxTerrC  &lt;-<span class="st"> </span>(<span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqC1)<span class="op">$</span>surv <span class="op">-</span><span class="st"> </span><span class="kw">c</span>(<span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqC2)<span class="op">$</span>surv,<span class="dv">0</span>))<span class="op">/</span><span class="kw">summary</span>(fitTerr,  <span class="dt">time =</span> seqC1)<span class="op">$</span>surv</span>
<span id="cb102-4"><a href="empirical-exercises.html#cb102-4"></a>qxGShepC &lt;-<span class="st"> </span>(<span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqC1)<span class="op">$</span>surv <span class="op">-</span><span class="st"> </span><span class="kw">c</span>(<span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqC2)<span class="op">$</span>surv,<span class="dv">0</span>))<span class="op">/</span><span class="kw">summary</span>(fitGShep, <span class="dt">time =</span> seqC1)<span class="op">$</span>surv</span>
<span id="cb102-5"><a href="empirical-exercises.html#cb102-5"></a><span class="kw">plot</span>(seqC1,qxTerrC, <span class="dt">xlab =</span> <span class="st">&quot;Age&quot;</span>, <span class="dt">ylab =</span> <span class="kw">expression</span>(q[x]))</span>
<span id="cb102-6"><a href="empirical-exercises.html#cb102-6"></a><span class="kw">lines</span>(seqC1[<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>], qxGShepC, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-76"></span>
<img src="LifeCon_files/figure-html/unnamed-chunk-76-1.png" alt="Two-year Dog Mortality Rates, Blue Solid Line is for German Shepherds" width="576" />
<p class="caption">
Figure 6.4: Two-year Dog Mortality Rates, Blue Solid Line is for German Shepherds
</p>
</div>
<p><strong>Part D</strong></p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="empirical-exercises.html#cb103-1"></a>DogAnn &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">x=</span>x, <span class="dt">q.x=</span>qx){</span>
<span id="cb103-2"><a href="empirical-exercises.html#cb103-2"></a>  Term &lt;-<span class="st"> </span><span class="kw">length</span>(q.x) <span class="op">-</span><span class="st"> </span>(x<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb103-3"><a href="empirical-exercises.html#cb103-3"></a>  kpx &lt;-<span class="st"> </span><span class="dv">1</span> </span>
<span id="cb103-4"><a href="empirical-exercises.html#cb103-4"></a>  APV  &lt;-<span class="st"> </span><span class="dv">0</span> </span>
<span id="cb103-5"><a href="empirical-exercises.html#cb103-5"></a> <span class="cf">if</span> (Term<span class="op">&gt;</span><span class="dv">0</span>){ <span class="cf">for</span>(k <span class="cf">in</span> <span class="dv">0</span><span class="op">:</span>(Term<span class="dv">-1</span>)){ </span>
<span id="cb103-6"><a href="empirical-exercises.html#cb103-6"></a>    <span class="cf">if</span> (k<span class="op">&gt;</span><span class="dv">1</span>) {kpx &lt;-<span class="st"> </span>kpx<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>q.x[x<span class="op">+</span><span class="dv">1</span><span class="op">+</span>k])}</span>
<span id="cb103-7"><a href="empirical-exercises.html#cb103-7"></a>    APV  &lt;-<span class="st"> </span>APV  <span class="op">+</span><span class="st"> </span>kpx <span class="op">*</span><span class="st">  </span>(<span class="dv">1</span><span class="op">/</span><span class="fl">1.03</span>)<span class="op">^</span>k   <span class="op">*</span><span class="fl">1.11</span><span class="op">^</span>k <span class="op">*</span><span class="dv">458</span></span>
<span id="cb103-8"><a href="empirical-exercises.html#cb103-8"></a>    }}</span>
<span id="cb103-9"><a href="empirical-exercises.html#cb103-9"></a> <span class="kw">return</span>(APV)</span>
<span id="cb103-10"><a href="empirical-exercises.html#cb103-10"></a>  }</span>
<span id="cb103-11"><a href="empirical-exercises.html#cb103-11"></a><span class="kw">DogAnn</span>(<span class="dt">x=</span><span class="dv">2</span>, <span class="dt">q.x=</span>qxTerrA)</span>
<span id="cb103-12"><a href="empirical-exercises.html#cb103-12"></a><span class="kw">DogAnn</span>(<span class="dt">x=</span><span class="dv">5</span>, <span class="dt">q.x=</span>qxTerrA)</span>
<span id="cb103-13"><a href="empirical-exercises.html#cb103-13"></a><span class="kw">DogAnn</span>(<span class="dt">x=</span><span class="dv">12</span>, <span class="dt">q.x=</span>qxTerrA)</span>
<span id="cb103-14"><a href="empirical-exercises.html#cb103-14"></a><span class="kw">DogAnn</span>(<span class="dt">x=</span><span class="dv">2</span>, <span class="dt">q.x=</span>qxGShepA)</span>
<span id="cb103-15"><a href="empirical-exercises.html#cb103-15"></a><span class="kw">DogAnn</span>(<span class="dt">x=</span><span class="dv">5</span>, <span class="dt">q.x=</span>qxGShepA)</span>
<span id="cb103-16"><a href="empirical-exercises.html#cb103-16"></a><span class="kw">DogAnn</span>(<span class="dt">x=</span><span class="dv">12</span>, <span class="dt">q.x=</span>qxGShepA)</span></code></pre></div>
<pre><code>[1] 7605.3
[1] 5111.7
[1] 1795.3
[1] 5444.1
[1] 3420.2
[1] 1184.6</code></pre>
<p>Note that the mortality estimates in this exercise are based only on data for a specific breed. In contrast, the analysis in Section <a href="C-BenefitExt.html#Sec:DogCostCare">4.5.3</a> used a Cox proportional hazards to regression model to use data from all breeds to form mortality estimates.</p>
<hr />
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="C-Forward.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="method-exercises.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["LifeCon.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
